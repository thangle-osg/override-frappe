{"version":3,"file":"Leads-10d3e778.js","sources":["../../../../frontend/src/components/ListViews/LeadsListView.vue","../../../../frontend/src/pages/Leads.vue"],"sourcesContent":["<template>\n  <ListView\n    :class=\"$attrs.class\"\n    :columns=\"columns\"\n    :rows=\"rows\"\n    :options=\"{\n      getRowRoute: (row) => ({\n        name: 'Lead',\n        params: { leadId: row.name },\n        query: { view: route.query.view, viewType: route.params.viewType },\n      }),\n      selectable: options.selectable,\n      showTooltip: options.showTooltip,\n      resizeColumn: options.resizeColumn,\n    }\"\n    row-key=\"name\"\n    @update:selections=\"(selections) => emit('selectionsChanged', selections)\"\n  >\n    <ListHeader\n      class=\"sm:mx-5 mx-3\"\n      @columnWidthUpdated=\"emit('columnWidthUpdated')\"\n    >\n      <ListHeaderItem\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        :item=\"column\"\n        @columnWidthUpdated=\"emit('columnWidthUpdated', column)\"\n      >\n        <Button\n          v-if=\"column.key == '_liked_by'\"\n          variant=\"ghosted\"\n          class=\"!h-4\"\n          :class=\"isLikeFilterApplied ? 'fill-red-500' : 'fill-white'\"\n          @click=\"() => emit('applyLikeFilter')\"\n        >\n          <HeartIcon class=\"h-4 w-4\" />\n        </Button>\n      </ListHeaderItem>\n    </ListHeader>\n    <ListRows\n      :rows=\"rows\"\n      v-slot=\"{ idx, column, item, row }\"\n      doctype=\"CRM Lead\"\n    >\n      <div v-if=\"column.key === '_assign'\" class=\"flex items-center\">\n        <MultipleAvatar\n          :avatars=\"item\"\n          size=\"sm\"\n          @click=\"\n            (event) =>\n              emit('applyFilter', {\n                event,\n                idx,\n                column,\n                item,\n                firstColumn: columns[0],\n              })\n          \"\n        />\n      </div>\n      <ListRowItem v-else :item=\"item\" :align=\"column.align\">\n        <template #prefix>\n          <div v-if=\"column.key === 'status'\">\n            <IndicatorIcon :class=\"item.color\" />\n          </div>\n          <div v-else-if=\"column.key === 'lead_name'\">\n            <Avatar\n              v-if=\"item.label\"\n              class=\"flex items-center\"\n              :image=\"item.image\"\n              :label=\"item.image_label\"\n              size=\"sm\"\n            />\n          </div>\n          <div v-else-if=\"column.key === 'lead_owner'\">\n            <Avatar\n              v-if=\"item.full_name\"\n              class=\"flex items-center\"\n              :image=\"item.user_image\"\n              :label=\"item.full_name\"\n              size=\"sm\"\n            />\n          </div>\n          <div v-else-if=\"column.key === 'mobile_no'\">\n            <PhoneIcon class=\"h-4 w-4\" />\n          </div>\n        </template>\n        <template #default=\"{ label }\">\n          <div\n            v-if=\"\n              [\n                'modified',\n                'creation',\n                'first_response_time',\n                'first_responded_on',\n                'response_by',\n              ].includes(column.key)\n            \"\n            class=\"truncate text-base\"\n            @click=\"\n              (event) =>\n                emit('applyFilter', {\n                  event,\n                  idx,\n                  column,\n                  item,\n                  firstColumn: columns[0],\n                })\n            \"\n          >\n            <Tooltip :text=\"item.label\">\n              <div>{{ item.timeAgo }}</div>\n            </Tooltip>\n          </div>\n          <div v-else-if=\"column.key === '_liked_by'\">\n            <Button\n              v-if=\"column.key == '_liked_by'\"\n              variant=\"ghosted\"\n              :class=\"isLiked(item) ? 'fill-red-500' : 'fill-white'\"\n              @click.stop.prevent=\"\n                () =>\n                  emit('likeDoc', {\n                    name: row.name,\n                    liked: isLiked(item),\n                  })\n              \"\n            >\n              <HeartIcon class=\"h-4 w-4\" />\n            </Button>\n          </div>\n          <div\n            v-else-if=\"column.key === 'sla_status'\"\n            class=\"truncate text-base\"\n          >\n            <Badge\n              v-if=\"item.value\"\n              :variant=\"'subtle'\"\n              :theme=\"item.color\"\n              size=\"md\"\n              :label=\"item.value\"\n              @click=\"\n                (event) =>\n                  emit('applyFilter', {\n                    event,\n                    idx,\n                    column,\n                    item,\n                    firstColumn: columns[0],\n                  })\n              \"\n            />\n          </div>\n          <div v-else-if=\"column.type === 'Check'\">\n            <FormControl\n              type=\"checkbox\"\n              :modelValue=\"item\"\n              :disabled=\"true\"\n              class=\"text-ink-gray-9\"\n            />\n          </div>\n          <div\n            v-else\n            class=\"truncate text-base\"\n            @click=\"\n              (event) =>\n                emit('applyFilter', {\n                  event,\n                  idx,\n                  column,\n                  item,\n                  firstColumn: columns[0],\n                })\n            \"\n          >\n            {{ label }}\n          </div>\n        </template>\n      </ListRowItem>\n    </ListRows>\n    <ListSelectBanner>\n      <template #actions=\"{ selections, unselectAll }\">\n        <Dropdown\n          :options=\"listBulkActionsRef.bulkActions(selections, unselectAll)\"\n        >\n          <Button icon=\"more-horizontal\" variant=\"ghost\" />\n        </Dropdown>\n      </template>\n    </ListSelectBanner>\n  </ListView>\n  <ListFooter\n    v-if=\"pageLengthCount\"\n    class=\"border-t sm:px-5 px-3 py-2\"\n    v-model=\"pageLengthCount\"\n    :options=\"{\n      rowCount: options.rowCount,\n      totalCount: options.totalCount,\n    }\"\n    @loadMore=\"emit('loadMore')\"\n  />\n  <ListBulkActions ref=\"listBulkActionsRef\" v-model=\"list\" doctype=\"CRM Lead\" />\n</template>\n\n<script setup>\nimport HeartIcon from '@/components/Icons/HeartIcon.vue'\nimport IndicatorIcon from '@/components/Icons/IndicatorIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport MultipleAvatar from '@/components/MultipleAvatar.vue'\nimport ListBulkActions from '@/components/ListBulkActions.vue'\nimport ListRows from '@/components/ListViews/ListRows.vue'\nimport {\n  Avatar,\n  ListView,\n  ListHeader,\n  ListHeaderItem,\n  ListSelectBanner,\n  ListRowItem,\n  ListFooter,\n  Dropdown,\n  Tooltip,\n} from 'frappe-ui'\nimport { sessionStore } from '@/stores/session'\nimport { ref, computed, watch } from 'vue'\nimport { useRoute } from 'vue-router'\n\nconst props = defineProps({\n  rows: {\n    type: Array,\n    required: true,\n  },\n  columns: {\n    type: Array,\n    required: true,\n  },\n  options: {\n    type: Object,\n    default: () => ({\n      selectable: true,\n      showTooltip: true,\n      resizeColumn: false,\n      totalCount: 0,\n      rowCount: 0,\n    }),\n  },\n})\nconst emit = defineEmits([\n  'loadMore',\n  'updatePageCount',\n  'columnWidthUpdated',\n  'applyFilter',\n  'applyLikeFilter',\n  'likeDoc',\n  'selectionsChanged',\n])\n\nconst route = useRoute()\n\nconst pageLengthCount = defineModel()\nconst list = defineModel('list')\n\nconst isLikeFilterApplied = computed(() => {\n  return list.value.params?.filters?._liked_by ? true : false\n})\n\nconst { user } = sessionStore()\n\nfunction isLiked(item) {\n  if (item) {\n    let likedByMe = JSON.parse(item)\n    return likedByMe.includes(user)\n  }\n}\n\nwatch(pageLengthCount, (val, old_value) => {\n  if (val === old_value) return\n  emit('updatePageCount', val)\n})\n\nconst listBulkActionsRef = ref(null)\n\ndefineExpose({\n  customListActions: computed(\n    () => listBulkActionsRef.value?.customListActions,\n  ),\n})\n</script>\n","<template>\n  <LayoutHeader>\n    <template #left-header>\n      <ViewBreadcrumbs v-model=\"viewControls\" routeName=\"Leads\" />\n    </template>\n    <template #right-header>\n      <CustomActions\n        v-if=\"leadsListView?.customListActions\"\n        :actions=\"leadsListView.customListActions\"\n      />\n      <Button\n        variant=\"solid\"\n        :label=\"__('Create')\"\n        iconLeft=\"plus\"\n        @click=\"showLeadModal = true\"\n      />\n    </template>\n  </LayoutHeader>\n  <ViewControls\n    ref=\"viewControls\"\n    v-model=\"leads\"\n    v-model:loadMore=\"loadMore\"\n    v-model:resizeColumn=\"triggerResize\"\n    v-model:updatedPageCount=\"updatedPageCount\"\n    doctype=\"CRM Lead\"\n    :filters=\"{ converted: 0 }\"\n    :options=\"{\n      allowedViews: ['list', 'group_by', 'kanban'],\n    }\"\n  />\n  <KanbanView\n    v-if=\"route.params.viewType == 'kanban'\"\n    v-model=\"leads\"\n    :options=\"{\n      getRoute: (row) => ({\n        name: 'Lead',\n        params: { leadId: row.name },\n        query: { view: route.query.view, viewType: route.params.viewType },\n      }),\n      onNewClick: (column) => onNewClick(column),\n    }\"\n    @update=\"(data) => viewControls.updateKanbanSettings(data)\"\n    @loadMore=\"(columnName) => viewControls.loadMoreKanban(columnName)\"\n  >\n    <template #title=\"{ titleField, itemName }\">\n      <div class=\"flex items-center gap-2\">\n        <div v-if=\"titleField === 'status'\">\n          <IndicatorIcon :class=\"getRow(itemName, titleField).color\" />\n        </div>\n        <div\n          v-else-if=\"\n            titleField === 'organization' && getRow(itemName, titleField).label\n          \"\n        >\n          <Avatar\n            class=\"flex items-center\"\n            :image=\"getRow(itemName, titleField).logo\"\n            :label=\"getRow(itemName, titleField).label\"\n            size=\"sm\"\n          />\n        </div>\n        <div\n          v-else-if=\"\n            titleField === 'lead_name' && getRow(itemName, titleField).label\n          \"\n        >\n          <Avatar\n            class=\"flex items-center\"\n            :image=\"getRow(itemName, titleField).image\"\n            :label=\"getRow(itemName, titleField).image_label\"\n            size=\"sm\"\n          />\n        </div>\n        <div\n          v-else-if=\"\n            titleField === 'lead_owner' &&\n            getRow(itemName, titleField).full_name\n          \"\n        >\n          <Avatar\n            class=\"flex items-center\"\n            :image=\"getRow(itemName, titleField).user_image\"\n            :label=\"getRow(itemName, titleField).full_name\"\n            size=\"sm\"\n          />\n        </div>\n        <div v-else-if=\"titleField === 'mobile_no'\">\n          <PhoneIcon class=\"h-4 w-4\" />\n        </div>\n        <div\n          v-if=\"\n            [\n              'modified',\n              'creation',\n              'first_response_time',\n              'first_responded_on',\n              'response_by',\n            ].includes(titleField)\n          \"\n          class=\"truncate text-base\"\n        >\n          <Tooltip :text=\"getRow(itemName, titleField).label\">\n            <div>{{ getRow(itemName, titleField).timeAgo }}</div>\n          </Tooltip>\n        </div>\n        <div v-else-if=\"titleField === 'sla_status'\" class=\"truncate text-base\">\n          <Badge\n            v-if=\"getRow(itemName, titleField).value\"\n            :variant=\"'subtle'\"\n            :theme=\"getRow(itemName, titleField).color\"\n            size=\"md\"\n            :label=\"getRow(itemName, titleField).value\"\n          />\n        </div>\n        <div\n          v-else-if=\"getRow(itemName, titleField).label\"\n          class=\"truncate text-base\"\n        >\n          {{ getRow(itemName, titleField).label }}\n        </div>\n        <div class=\"text-ink-gray-4\" v-else>{{ __('No Title') }}</div>\n      </div>\n    </template>\n    <template #fields=\"{ fieldName, itemName }\">\n      <div\n        v-if=\"getRow(itemName, fieldName).label\"\n        class=\"truncate flex items-center gap-2\"\n      >\n        <div v-if=\"fieldName === 'status'\">\n          <IndicatorIcon :class=\"getRow(itemName, fieldName).color\" />\n        </div>\n        <div\n          v-else-if=\"\n            fieldName === 'organization' && getRow(itemName, fieldName).label\n          \"\n        >\n          <Avatar\n            class=\"flex items-center\"\n            :image=\"getRow(itemName, fieldName).logo\"\n            :label=\"getRow(itemName, fieldName).label\"\n            size=\"xs\"\n          />\n        </div>\n        <div v-else-if=\"fieldName === 'lead_name'\">\n          <Avatar\n            v-if=\"getRow(itemName, fieldName).label\"\n            class=\"flex items-center\"\n            :image=\"getRow(itemName, fieldName).image\"\n            :label=\"getRow(itemName, fieldName).image_label\"\n            size=\"xs\"\n          />\n        </div>\n        <div v-else-if=\"fieldName === 'lead_owner'\">\n          <Avatar\n            v-if=\"getRow(itemName, fieldName).full_name\"\n            class=\"flex items-center\"\n            :image=\"getRow(itemName, fieldName).user_image\"\n            :label=\"getRow(itemName, fieldName).full_name\"\n            size=\"xs\"\n          />\n        </div>\n        <div\n          v-if=\"\n            [\n              'modified',\n              'creation',\n              'first_response_time',\n              'first_responded_on',\n              'response_by',\n            ].includes(fieldName)\n          \"\n          class=\"truncate text-base\"\n        >\n          <Tooltip :text=\"getRow(itemName, fieldName).label\">\n            <div>{{ getRow(itemName, fieldName).timeAgo }}</div>\n          </Tooltip>\n        </div>\n        <div v-else-if=\"fieldName === 'sla_status'\" class=\"truncate text-base\">\n          <Badge\n            v-if=\"getRow(itemName, fieldName).value\"\n            :variant=\"'subtle'\"\n            :theme=\"getRow(itemName, fieldName).color\"\n            size=\"md\"\n            :label=\"getRow(itemName, fieldName).value\"\n          />\n        </div>\n        <div v-else-if=\"fieldName === '_assign'\" class=\"flex items-center\">\n          <MultipleAvatar\n            :avatars=\"getRow(itemName, fieldName).label\"\n            size=\"xs\"\n          />\n        </div>\n        <div v-else class=\"truncate text-base\">\n          {{ getRow(itemName, fieldName).label }}\n        </div>\n      </div>\n    </template>\n    <template #actions=\"{ itemName }\">\n      <div class=\"flex gap-2 items-center justify-between\">\n        <div class=\"text-ink-gray-5 flex items-center gap-1.5\">\n          <EmailAtIcon class=\"h-4 w-4\" />\n          <span v-if=\"getRow(itemName, '_email_count').label\">\n            {{ getRow(itemName, '_email_count').label }}\n          </span>\n          <span class=\"text-3xl leading-[0]\"> &middot; </span>\n          <NoteIcon class=\"h-4 w-4\" />\n          <span v-if=\"getRow(itemName, '_note_count').label\">\n            {{ getRow(itemName, '_note_count').label }}\n          </span>\n          <span class=\"text-3xl leading-[0]\"> &middot; </span>\n          <TaskIcon class=\"h-4 w-4\" />\n          <span v-if=\"getRow(itemName, '_task_count').label\">\n            {{ getRow(itemName, '_task_count').label }}\n          </span>\n          <span class=\"text-3xl leading-[0]\"> &middot; </span>\n          <CommentIcon class=\"h-4 w-4\" />\n          <span v-if=\"getRow(itemName, '_comment_count').label\">\n            {{ getRow(itemName, '_comment_count').label }}\n          </span>\n        </div>\n        <Dropdown\n          class=\"flex items-center gap-2\"\n          :options=\"actions(itemName)\"\n          variant=\"ghost\"\n          @click.stop.prevent\n        >\n          <Button icon=\"plus\" variant=\"ghost\" />\n        </Dropdown>\n      </div>\n    </template>\n  </KanbanView>\n  <LeadsListView\n    ref=\"leadsListView\"\n    v-else-if=\"leads.data && rows.length\"\n    v-model=\"leads.data.page_length_count\"\n    v-model:list=\"leads\"\n    :rows=\"rows\"\n    :columns=\"leads.data.columns\"\n    :options=\"{\n      showTooltip: false,\n      resizeColumn: true,\n      rowCount: leads.data.row_count,\n      totalCount: leads.data.total_count,\n    }\"\n    @loadMore=\"() => loadMore++\"\n    @columnWidthUpdated=\"() => triggerResize++\"\n    @updatePageCount=\"(count) => (updatedPageCount = count)\"\n    @applyFilter=\"(data) => viewControls.applyFilter(data)\"\n    @applyLikeFilter=\"(data) => viewControls.applyLikeFilter(data)\"\n    @likeDoc=\"(data) => viewControls.likeDoc(data)\"\n    @selectionsChanged=\"\n      (selections) => viewControls.updateSelections(selections)\n    \"\n  />\n  <div v-else-if=\"leads.data\" class=\"flex h-full items-center justify-center\">\n    <div\n      class=\"flex flex-col items-center gap-3 text-xl font-medium text-ink-gray-4\"\n    >\n      <LeadsIcon class=\"h-10 w-10\" />\n      <span>{{ __('No {0} Found', [__('Leads')]) }}</span>\n      <Button\n        :label=\"__('Create')\"\n        iconLeft=\"plus\"\n        @click=\"showLeadModal = true\"\n      />\n    </div>\n  </div>\n  <LeadModal\n    v-if=\"showLeadModal\"\n    v-model=\"showLeadModal\"\n    :defaults=\"defaults\"\n  />\n  <NoteModal\n    v-if=\"showNoteModal\"\n    v-model=\"showNoteModal\"\n    :note=\"note\"\n    doctype=\"CRM Lead\"\n    :doc=\"docname\"\n  />\n  <TaskModal\n    v-if=\"showTaskModal\"\n    v-model=\"showTaskModal\"\n    :task=\"task\"\n    doctype=\"CRM Lead\"\n    :doc=\"docname\"\n  />\n</template>\n\n<script setup>\nimport ViewBreadcrumbs from '@/components/ViewBreadcrumbs.vue'\nimport MultipleAvatar from '@/components/MultipleAvatar.vue'\nimport CustomActions from '@/components/CustomActions.vue'\nimport EmailAtIcon from '@/components/Icons/EmailAtIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport NoteIcon from '@/components/Icons/NoteIcon.vue'\nimport TaskIcon from '@/components/Icons/TaskIcon.vue'\nimport CommentIcon from '@/components/Icons/CommentIcon.vue'\nimport IndicatorIcon from '@/components/Icons/IndicatorIcon.vue'\nimport LeadsIcon from '@/components/Icons/LeadsIcon.vue'\nimport LayoutHeader from '@/components/LayoutHeader.vue'\nimport LeadsListView from '@/components/ListViews/LeadsListView.vue'\nimport KanbanView from '@/components/Kanban/KanbanView.vue'\nimport LeadModal from '@/components/Modals/LeadModal.vue'\nimport NoteModal from '@/components/Modals/NoteModal.vue'\nimport TaskModal from '@/components/Modals/TaskModal.vue'\nimport ViewControls from '@/components/ViewControls.vue'\nimport { getMeta } from '@/stores/meta'\nimport { globalStore } from '@/stores/global'\nimport { usersStore } from '@/stores/users'\nimport { statusesStore } from '@/stores/statuses'\nimport { callEnabled } from '@/composables/settings'\nimport { formatDate, timeAgo, website, formatTime } from '@/utils'\nimport { Avatar, Tooltip, Dropdown } from 'frappe-ui'\nimport { useRoute } from 'vue-router'\nimport { ref, computed, reactive, h } from 'vue'\n\nconst { getFormattedPercent, getFormattedFloat, getFormattedCurrency } =\n  getMeta('CRM Lead')\nconst { makeCall } = globalStore()\nconst { getUser } = usersStore()\nconst { getLeadStatus } = statusesStore()\n\nconst route = useRoute()\n\nconst leadsListView = ref(null)\nconst showLeadModal = ref(false)\n\nconst defaults = reactive({})\n\n// leads data is loaded in the ViewControls component\nconst leads = ref({})\nconst loadMore = ref(1)\nconst triggerResize = ref(1)\nconst updatedPageCount = ref(20)\nconst viewControls = ref(null)\n\nfunction getRow(name, field) {\n  function getValue(value) {\n    if (value && typeof value === 'object' && !Array.isArray(value)) {\n      return value\n    }\n    return { label: value }\n  }\n  return getValue(rows.value?.find((row) => row.name == name)[field])\n}\n\n// Rows\nconst rows = computed(() => {\n  if (!leads.value?.data?.data) return []\n  if (leads.value.data.view_type === 'group_by') {\n    if (!leads.value?.data.group_by_field?.fieldname) return []\n    return getGroupedByRows(\n      leads.value?.data.data,\n      leads.value?.data.group_by_field,\n      leads.value.data.columns,\n    )\n  } else if (leads.value.data.view_type === 'kanban') {\n    return getKanbanRows(leads.value.data.data, leads.value.data.fields)\n  } else {\n    return parseRows(leads.value?.data.data, leads.value.data.columns)\n  }\n})\n\nfunction getGroupedByRows(listRows, groupByField, columns) {\n  let groupedRows = []\n\n  groupByField.options?.forEach((option) => {\n    let filteredRows = []\n\n    if (!option) {\n      filteredRows = listRows.filter((row) => !row[groupByField.fieldname])\n    } else {\n      filteredRows = listRows.filter(\n        (row) => row[groupByField.fieldname] == option,\n      )\n    }\n\n    let groupDetail = {\n      label: groupByField.label,\n      group: option || __(' '),\n      collapsed: false,\n      rows: parseRows(filteredRows, columns),\n    }\n    if (groupByField.fieldname == 'status') {\n      groupDetail.icon = () =>\n        h(IndicatorIcon, {\n          class: getLeadStatus(option)?.color,\n        })\n    }\n    groupedRows.push(groupDetail)\n  })\n\n  return groupedRows || listRows\n}\n\nfunction getKanbanRows(data, columns) {\n  let _rows = []\n  data.forEach((column) => {\n    column.data?.forEach((row) => {\n      _rows.push(row)\n    })\n  })\n  return parseRows(_rows, columns)\n}\n\nfunction parseRows(rows, columns = []) {\n  let view_type = leads.value.data.view_type\n  let key = view_type === 'kanban' ? 'fieldname' : 'key'\n  let type = view_type === 'kanban' ? 'fieldtype' : 'type'\n\n  return rows.map((lead) => {\n    let _rows = {}\n    leads.value?.data.rows.forEach((row) => {\n      _rows[row] = lead[row]\n\n      let fieldType = columns?.find((col) => (col[key] || col.value) == row)?.[\n        type\n      ]\n\n      if (\n        fieldType &&\n        ['Date', 'Datetime'].includes(fieldType) &&\n        !['modified', 'creation'].includes(row)\n      ) {\n        _rows[row] = formatDate(lead[row], '', true, fieldType == 'Datetime')\n      }\n\n      if (fieldType && fieldType == 'Currency') {\n        _rows[row] = getFormattedCurrency(row, lead)\n      }\n\n      if (fieldType && fieldType == 'Float') {\n        _rows[row] = getFormattedFloat(row, lead)\n      }\n\n      if (fieldType && fieldType == 'Percent') {\n        _rows[row] = getFormattedPercent(row, lead)\n      }\n\n      if (row == 'lead_name') {\n        _rows[row] = {\n          label: lead.lead_name,\n          image: lead.image,\n          image_label: lead.first_name,\n        }\n      } else if (row == 'organization') {\n        _rows[row] = lead.organization\n      } else if (row === 'website') {\n        _rows[row] = website(lead.website)\n      } else if (row == 'status') {\n        _rows[row] = {\n          label: lead.status,\n          color: getLeadStatus(lead.status)?.color,\n        }\n      } else if (row == 'sla_status') {\n        let value = lead.sla_status\n        let tooltipText = value\n        let color =\n          lead.sla_status == 'Failed'\n            ? 'red'\n            : lead.sla_status == 'Fulfilled'\n              ? 'green'\n              : 'orange'\n        if (value == 'First Response Due' || value == 'Rolling Response Due') {\n          value = __(timeAgo(lead.response_by))\n          tooltipText = formatDate(lead.response_by)\n          if (new Date(lead.response_by) < new Date()) {\n            color = 'red'\n          }\n        }\n        _rows[row] = {\n          label: tooltipText,\n          value: value,\n          color: color,\n        }\n      } else if (row == 'lead_owner') {\n        _rows[row] = {\n          label: lead.lead_owner && getUser(lead.lead_owner).full_name,\n          ...(lead.lead_owner && getUser(lead.lead_owner)),\n        }\n      } else if (row == '_assign') {\n        let assignees = JSON.parse(lead._assign || '[]')\n        _rows[row] = assignees.map((user) => ({\n          name: user,\n          image: getUser(user).user_image,\n          label: getUser(user).full_name,\n        }))\n      } else if (['modified', 'creation'].includes(row)) {\n        _rows[row] = {\n          label: formatDate(lead[row]),\n          timeAgo: __(timeAgo(lead[row])),\n        }\n      } else if (\n        ['first_response_time', 'first_responded_on', 'response_by'].includes(\n          row,\n        )\n      ) {\n        let field = row == 'response_by' ? 'response_by' : 'first_responded_on'\n        _rows[row] = {\n          label: lead[field] ? formatDate(lead[field]) : '',\n          timeAgo: lead[row]\n            ? row == 'first_response_time'\n              ? formatTime(lead[row])\n              : __(timeAgo(lead[row]))\n            : '',\n        }\n      }\n    })\n    _rows['_email_count'] = lead._email_count\n    _rows['_note_count'] = lead._note_count\n    _rows['_task_count'] = lead._task_count\n    _rows['_comment_count'] = lead._comment_count\n    return _rows\n  })\n}\n\nfunction onNewClick(column) {\n  let column_field = leads.value.params.column_field\n\n  if (column_field) {\n    defaults[column_field] = column.column.name\n  }\n\n  showLeadModal.value = true\n}\n\nfunction actions(itemName) {\n  let mobile_no = getRow(itemName, 'mobile_no')?.label || ''\n  let actions = [\n    {\n      icon: h(PhoneIcon, { class: 'h-4 w-4' }),\n      label: __('Make a Call'),\n      onClick: () => makeCall(mobile_no),\n      condition: () => mobile_no && callEnabled.value,\n    },\n    {\n      icon: h(NoteIcon, { class: 'h-4 w-4' }),\n      label: __('New Note'),\n      onClick: () => showNote(itemName),\n    },\n    {\n      icon: h(TaskIcon, { class: 'h-4 w-4' }),\n      label: __('New Task'),\n      onClick: () => showTask(itemName),\n    },\n  ]\n  return actions.filter((action) =>\n    action.condition ? action.condition() : true,\n  )\n}\n\nconst docname = ref('')\nconst showNoteModal = ref(false)\nconst note = ref({\n  title: '',\n  content: '',\n})\n\nfunction showNote(name) {\n  docname.value = name\n  showNoteModal.value = true\n}\n\nconst showTaskModal = ref(false)\nconst task = ref({\n  title: '',\n  description: '',\n  assigned_to: '',\n  due_date: '',\n  priority: 'Low',\n  status: 'Backlog',\n})\n\nfunction showTask(name) {\n  docname.value = name\n  showTaskModal.value = true\n}\n</script>\n"],"names":["emit","__emit","route","useRoute","pageLengthCount","_useModel","__props","list","isLikeFilterApplied","computed","_b","_a","user","sessionStore","isLiked","item","watch","val","old_value","listBulkActionsRef","ref","__expose","_createVNode","_unref","ListView","_normalizeClass","$attrs","row","_cache","selections","ListHeader","_createElementBlock","_Fragment","_renderList","column","_createBlock","ListHeaderItem","$event","_component_Button","HeartIcon","ListRows","_withCtx","idx","_openBlock","_hoisted_1","MultipleAvatar","event","ListRowItem","_hoisted_2","IndicatorIcon","_hoisted_3","Avatar","_hoisted_4","_hoisted_5","PhoneIcon","label","Tooltip","_createElementVNode","_toDisplayString","_hoisted_7","_withModifiers","_hoisted_8","_component_Badge","_hoisted_9","_component_FormControl","_hoisted_10","ListSelectBanner","unselectAll","Dropdown","ListFooter","ListBulkActions","getFormattedPercent","getFormattedFloat","getFormattedCurrency","getMeta","makeCall","globalStore","getUser","usersStore","getLeadStatus","statusesStore","leadsListView","showLeadModal","defaults","reactive","leads","loadMore","triggerResize","updatedPageCount","viewControls","getRow","name","field","getValue","value","rows","_d","_c","getGroupedByRows","_e","_f","getKanbanRows","parseRows","_g","listRows","groupByField","columns","groupedRows","option","filteredRows","groupDetail","h","data","_rows","view_type","key","type","lead","fieldType","col","formatDate","website","tooltipText","color","timeAgo","assignees","formatTime","onNewClick","column_field","actions","itemName","mobile_no","callEnabled","NoteIcon","showNote","TaskIcon","showTask","action","docname","showNoteModal","note","showTaskModal","task","LayoutHeader","ViewBreadcrumbs","CustomActions","__","ViewControls","KanbanView","columnName","titleField","_hoisted_6","fieldName","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","EmailAtIcon","_hoisted_22","_hoisted_23","_hoisted_24","CommentIcon","_hoisted_25","LeadsListView","count","_hoisted_26","_hoisted_27","LeadsIcon","LeadModal","NoteModal","TaskModal"],"mappings":"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"}