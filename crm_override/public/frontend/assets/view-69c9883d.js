import{_ as X,f as t,c as d,d as r,l as N,a as ue,G,e as O,L as q,M as H,t as F,b as u,a2 as B,aH as de,u as i,aV as fe,g as c,B as x,w as g,F as j,r as Z,aC as he,y as W,X as pe,z as me,n as ge,aW as be,N as Q,O as ke,aF as xe,aE as Ce,W as we,a5 as $e,ab as Se,$ as Le,a9 as ee,A as te,K as ae,Y as z,aG as Ve,aX as Be,U as J}from"./index-47f22653.js";import{u as Fe,g as E,h as De,b as Ie}from"./modals-0bc101bf.js";import{E as R,D as le,b as Me,i as Ne,_ as Oe,d as Pe}from"./DragVerticalIcon-415e0cb3.js";import{_ as Ue,L as je,G as Ee,K as Re}from"./FadedScrollableDiv-881424bc.js";import{A as Ae}from"./ArrowUpRightIcon-01dbc17d.js";import{_ as Te,L as ne}from"./Link-19e58904.js";import{g as oe,b as ze,r as se,_ as re,u as ie,x as K}from"./index-7044dffb.js";const Je={},Ke={width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ge(s,b){return t(),d("svg",Ke,[...b[0]||(b[0]=[r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14 8C14 11.3137 11.3137 14 8 14C4.68629 14 2 11.3137 2 8C2 4.68629 4.68629 2 8 2C11.3137 2 14 4.68629 14 8ZM15 8C15 11.866 11.866 15 8 15C4.13401 15 1 11.866 1 8C1 4.13401 4.13401 1 8 1C11.866 1 15 4.13401 15 8ZM11.2909 5.98482C11.4666 5.77175 11.4363 5.45663 11.2232 5.28096C11.0101 5.1053 10.695 5.13561 10.5193 5.34868L7.07001 9.53239L5.72845 7.79857C5.55946 7.58018 5.24543 7.54012 5.02703 7.70911C4.80863 7.8781 4.76858 8.19214 4.93756 8.41053L6.66217 10.6394C6.7552 10.7596 6.89788 10.831 7.04988 10.8334C7.20188 10.8357 7.3467 10.7688 7.4434 10.6515L11.2909 5.98482Z",fill:"currentColor"},null,-1)])])}const qe=X(Je,[["render",Ge]]),He={class:"group flex w-full items-center justify-between rounded bg-transparent p-1 pl-2 text-base text-ink-gray-8 transition-colors hover:bg-surface-gray-3 active:bg-surface-gray-4"},Ze={class:"flex flex-1 items-center justify-between gap-7"},We={class:"actions flex items-center justify-center"},Xe={key:0},Ye={__name:"PrimaryDropdownItem",props:{option:{type:Object,default:()=>{}}},setup(s){const b=s,p=N(!1),k=N(!1),f=N(null);ue(()=>{var _;(_=b.option)!=null&&_.value||(p.value=!0,k.value=!0,G(()=>f.value.el.focus()))});const C=()=>{p.value=!p.value,p.value&&G(()=>f.value.el.focus())},v=_=>{_.target.value&&(C(),b.option.onSave(b.option,k.value),k.value=!1)};return(_,L)=>{const w=O("Button"),l=O("FeatherIcon");return t(),d("div",He,[r("div",Ze,[q(r("div",null,F(s.option.value),513),[[H,!p.value]]),q(u(i(fe),{ref_key:"inputRef",ref:f,modelValue:s.option.value,"onUpdate:modelValue":L[0]||(L[0]=D=>s.option.value=D),class:"w-full",placeholder:s.option.placeholder,onBlur:B(v,["stop"]),onKeydown:L[1]||(L[1]=de(B(D=>D.target.blur(),["stop"]),["enter"]))},null,8,["modelValue","placeholder"]),[[H,p.value]]),r("div",We,[p.value?(t(),c(w,{key:0,variant:"ghost",label:_.__("Save"),class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:v},null,8,["label"])):x("",!0),!k.value&&!s.option.selected?(t(),c(w,{key:1,tooltip:_.__("Set As Primary"),variant:"ghost",icon:qe,class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:s.option.onClick},null,8,["tooltip","onClick"])):x("",!0),p.value?x("",!0):(t(),c(w,{key:2,tooltip:_.__("Edit"),variant:"ghost",icon:R,class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:C},null,8,["tooltip"])),u(w,{tooltip:_.__("Delete"),variant:"ghost",icon:"x",class:"opacity-0 hover:bg-surface-gray-4 group-hover:opacity-100",onClick:L[2]||(L[2]=()=>s.option.onDelete(s.option,k.value))},null,8,["tooltip"])])]),s.option.selected?(t(),d("div",Xe,[u(l,{name:"check",class:"text-ink-gray-5 h-4 w-6"})])):x("",!0)])}}};const Qe={key:0,class:"truncate"},et={key:1,class:"text-base leading-5 text-ink-gray-4 truncate"},tt={class:"my-2 p-1.5 min-w-40 space-y-1.5 divide-y divide-outline-gray-1 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none"},at={key:0},lt={class:"p-1.5 pl-3 pr-4 text-base text-ink-gray-4"},nt={class:"pt-1.5"},ot={__name:"PrimaryDropdown",props:{value:{type:[String,Number],default:""},placeholder:{type:String,default:""},options:{type:Array,default:[]},create:{type:Function},label:{type:String,default:""}},setup(s){return(b,p)=>{const k=O("FeatherIcon"),f=O("Button");return t(),c(i(he),null,{target:g(({isOpen:C,togglePopover:v})=>[u(f,{label:s.value,class:"dropdown-button flex items-center justify-between bg-surface-white !px-2.5 py-1.5 text-base text-ink-gray-8 placeholder-ink-gray-4 transition-colors hover:bg-surface-white focus:bg-surface-white focus:shadow-sm focus:outline-none focus:ring-0",onClick:v},{suffix:g(()=>[u(k,{name:C?"chevron-up":"chevron-down",class:"h-4 text-ink-gray-5"},null,8,["name"])]),default:g(()=>[s.value?(t(),d("div",Qe,F(s.value),1)):(t(),d("div",et,F(s.placeholder),1))]),_:2},1032,["label","onClick"])]),body:g(()=>{var C;return[r("div",tt,[r("div",null,[(t(!0),d(j,null,Z(s.options,v=>(t(),c(Ye,{key:v.name||v.value,option:v},null,8,["option"]))),128)),(C=s.options)!=null&&C.length?x("",!0):(t(),d("div",at,[r("div",lt,F(b.__("No {0} Available",[s.label])),1)]))]),r("div",nt,[u(f,{variant:"ghost",class:"w-full !justify-start",label:b.__("Create New"),iconLeft:"plus",onClick:p[0]||(p[0]=v=>s.create&&s.create())},null,8,["label"])])])]}),_:1})}}},st=X(ot,[["__scopeId","data-v-0e4ceb1e"]]),rt={class:"flex flex-col gap-3"},it={class:"flex items-center justify-between rounded px-2.5 py-2 bg-surface-gray-2"},ct=["onClick"],ut={key:0},dt={key:1,class:"flex gap-2 items-center"},pt={class:"flex gap-1 items-center"},mt={class:"px-2.5 py-2 border border-outline-gray-modals rounded text-base leading-4 text-ink-gray-8 flex items-center justify-between gap-2"},vt={class:"flex items-center gap-2"},yt={class:"flex flex-col gap-1 text-ink-gray-9"},_t={class:"text-ink-gray-4 text-sm"},ft={key:1,class:"flex justify-center items-center border rounded border-dashed border-outline-gray-modals p-3"},ht={class:"text-sm text-ink-gray-4"},gt={class:"mt-5.5"},bt={__name:"SidePanelLayoutEditor",props:{sections:Object,doctype:String},setup(s){const b=s,p=["Table","Table MultiSelect","Geolocation","Attach","Attach Image","HTML","Signature"],k=W(()=>({doctype:b.doctype,restricted_fieldtypes:p,as_array:!0})),f=pe({url:"crm.api.doc.get_fields_meta",params:k.value,cache:["fieldsMeta",b.doctype],auto:!0});function C(v,_){_&&v.columns[0].fields.push(_)}return me(()=>b.doctype,()=>f.fetch(k.value),{immediate:!0}),(v,_)=>{const L=O("FeatherIcon"),w=O("Button");return t(),d("div",null,[u(i(le),{list:s.sections,"item-key":"name",class:"flex flex-col gap-5.5"},{item:g(({element:l})=>{var D;return[r("div",rt,[r("div",it,[r("div",{class:"flex max-w-fit cursor-pointer items-center gap-2 text-base leading-4 text-ink-gray-9",onClick:y=>l.opened=!l.opened},[u(L,{name:"chevron-right",class:ge(["h-4 transition-all duration-300 ease-in-out",{"rotate-90":l.opened}])},null,8,["class"]),l.editingLabel?(t(),d("div",dt,[u(i(be),{modelValue:l.label,"onUpdate:modelValue":y=>l.label=y,onKeydown:de(y=>l.editingLabel=!1,["enter"]),onBlur:y=>l.editingLabel=!1,onClick:_[0]||(_[0]=B(()=>{},["stop"]))},null,8,["modelValue","onUpdate:modelValue","onKeydown","onBlur"]),l.editingLabel?(t(),c(w,{key:0,icon:"check",class:"!size-4 rounded-sm",variant:"ghost",onClick:B(y=>l.editingLabel=!1,["stop"])},null,8,["onClick"])):x("",!0)])):(t(),d("div",ut,F(v.__(l.label)||v.__("Untitled")),1))],8,ct),r("div",pt,[l.editingLabel?x("",!0):(t(),c(w,{key:0,class:"!size-4 rounded-sm",variant:"ghost",onClick:y=>l.editingLabel=!0},{icon:g(()=>[u(R,{class:"h-3.5"})]),_:1},8,["onClick"])),l.editable!==!1?(t(),c(w,{key:1,class:"!size-4 rounded-sm",icon:"x",variant:"ghost",onClick:y=>s.sections.splice(s.sections.indexOf(l),1)},null,8,["onClick"])):x("",!0)])]),q(r("div",null,[u(i(le),{list:((D=l.columns)==null?void 0:D[0].fields)||[],group:"fields","item-key":"fieldname",class:"flex flex-col gap-1.5",handle:".cursor-grab"},{item:g(({element:y})=>[r("div",mt,[r("div",vt,[u(Me,{class:"h-3.5 cursor-grab"}),r("div",null,F(y.label),1)]),u(w,{variant:"ghost",icon:"x",class:"!size-4 rounded-sm",onClick:n=>l.columns[0].fields.splice(l.columns[0].fields.indexOf(y),1)},null,8,["onClick"])])]),_:2},1032,["list"]),i(f).data&&l.editable!==!1?(t(),c(Te,{key:0,value:"",options:i(f).data,onChange:y=>C(l,y)},{target:g(({togglePopover:y})=>[u(w,{class:"w-full h-8 mt-1.5 !bg-surface-gray-1",variant:"outline",label:v.__("Add Field"),iconLeft:"plus",onClick:n=>y()},null,8,["label","onClick"])]),"item-label":g(({option:y})=>[r("div",yt,[r("div",null,F(y.label),1),r("div",_t,F(`${y.fieldname} - ${y.fieldtype}`),1)])]),_:1},8,["options","onChange"])):(t(),d("div",ft,[r("div",ht,F(v.__("This section is not editable")),1)]))],512),[[H,l.opened]])])]}),_:1},8,["list"]),r("div",gt,[u(w,{class:"w-full h-8",variant:"subtle",label:v.__("Add Section"),iconLeft:"plus",onClick:_[1]||(_[1]=l=>s.sections.push({label:v.__("New Section"),opened:!0,name:"section_"+i(oe)(),columns:[{name:"column_"+i(oe)(),fields:[]}]}))},null,8,["label"])])])}}},kt={class:"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9"},xt={class:"flex flex-col gap-5.5"},Ct={class:"flex justify-between gap-2"},wt={class:"flex flex-row-reverse gap-2"},$t={key:0,class:"flex gap-4"},St={key:0,class:"flex flex-1 flex-col border rounded"},Lt={key:0,class:"flex h-16 items-center justify-center text-base text-ink-gray-5"},Vt={key:1,class:"flex flex-1 justify-center items-center text-ink-gray-5 bg-surface-gray-2 rounded"},Bt={__name:"SidePanelModal",props:Q({doctype:{type:String,default:"CRM Lead"}},{modelValue:{},modelModifiers:{}}),emits:Q(["reload"],["update:modelValue"]),setup(s,{emit:b}){const p=s,k=b,f=ke(s,"modelValue"),C=N(p.doctype),v=N(!1),_=N(!1),L=N(!1);N({});function w(){return{doctype:C.value,type:"Side Panel"}}const l=pe({url:"crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout",cache:["SidePanel",C.value],params:w(),onSuccess(n){l.originalData=JSON.parse(JSON.stringify(n))}});me(()=>l==null?void 0:l.data,()=>{_.value=JSON.stringify(l==null?void 0:l.data)!==JSON.stringify(l==null?void 0:l.originalData)},{deep:!0}),ue(()=>xe(D,100)());function D(){G(()=>{l.params=w(),l.reload()})}function y(){let n=JSON.parse(JSON.stringify(l.data));n.forEach(M=>{M.sections.forEach(P=>{P.columns&&P.columns.forEach(I=>{I.fields&&(I.fields=I.fields.map(U=>U.fieldname).filter(Boolean))})})}),v.value=!0,$e("crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout",{doctype:C.value,type:"Side Panel",layout:JSON.stringify(n[0].sections)}).then(()=>{v.value=!1,f.value=!1,Se("side_panel_layout_builder",{doctype:C.value}),k("reload")})}return(n,M)=>{const P=O("Button");return t(),c(i(we),{modelValue:f.value,"onUpdate:modelValue":M[1]||(M[1]=I=>f.value=I),options:{size:"3xl"}},{"body-title":g(()=>[r("h3",kt,[r("div",null,F(n.__("Edit Field Layout")),1),_.value?(t(),c(i(Ce),{key:0,label:n.__("Not Saved"),variant:"subtle",theme:"orange"},null,8,["label"])):x("",!0)])]),"body-content":g(()=>{var I,U;return[r("div",xt,[r("div",Ct,[u(P,{label:L.value?n.__("Hide preview"):n.__("Show preview"),onClick:M[0]||(M[0]=$=>L.value=!L.value)},null,8,["label"]),r("div",wt,[u(P,{loading:v.value,label:n.__("Save"),variant:"solid",onClick:y},null,8,["loading","label"]),u(P,{label:n.__("Reset"),onClick:D},null,8,["label"])])]),(U=(I=i(l).data)==null?void 0:I[0])!=null&&U.sections?(t(),d("div",$t,[u(bt,{class:"flex flex-1 flex-col pr-2",sections:i(l).data[0].sections,doctype:C.value},null,8,["sections","doctype"]),L.value?(t(),d("div",St,[u(Gt,{sections:i(l).data[0].sections,doctype:C.value,docname:"",preview:!0},{default:g(({section:$})=>[$.name=="contacts_section"?(t(),d("div",Lt,F(n.__("No contacts added")),1)):x("",!0)]),_:1},8,["sections","doctype"])])):(t(),d("div",Vt,F(n.__("Toggle on for preview")),1))])):x("",!0)])]}),_:1},8,["modelValue"])}}};const Ft={class:"sections flex flex-col overflow-y-auto"},Dt={key:0,class:"section flex flex-col"},It={key:0,class:"w-full section-border h-px border-t"},Mt={class:"p-1 sm:p-3"},Nt={key:0,class:"field flex items-center gap-2 px-3 leading-5 first:mt-3"},Ot={class:"w-[35%] min-w-20 shrink-0 flex items-center gap-0.5"},Pt={class:"truncate text-sm text-ink-gray-5"},Ut={key:0,class:"text-ink-red-2"},jt={class:"flex items-center justify-between w-[65%]"},Et={class:"grid min-h-[28px] flex-1 items-center overflow-hidden text-base"},Rt={key:0,class:"flex h-7 cursor-pointer items-center px-2 py-1 text-ink-gray-5"},At={class:"cursor-pointer"},Tt={key:7,class:"form-control"},zt={key:8,class:"form-control"},Jt={class:"ml-1"},Kt={__name:"SidePanelLayout",props:{sections:{type:Object},doctype:{type:String,default:"CRM Lead",required:!0},docname:{type:String,required:!0},preview:{type:Boolean,default:!1},addContact:{type:Function}},emits:["beforeFieldChange","afterFieldChange","reload"],setup(s,{emit:b}){var Y;const p=s,k=b,{getFormattedPercent:f,getFormattedFloat:C,getFormattedCurrency:v}=ze(p.doctype),{users:_,isManager:L,getUser:w}=Le(),l=N(!1);let D={doc:{}},y;if(p.docname){let a=Fe(p.doctype,p.docname);D=a.document,y=a.triggerOnChange}const n=W(()=>D.doc||{}),M=W(()=>{var h;if(!((h=p.sections)!=null&&h.length))return[];let a=!1;return p.sections.map(V=>{var m;(m=V.columns)!=null&&m.length&&(V.columns[0].fields=V.columns[0].fields.map(A=>P(A)));let S=ve(V,a);return S.showEditButton&&(a=!0),S})});function P(a){var V,S;a.fieldtype=="Select"&&typeof a.options=="string"&&(a.options=a.options.split(`
`).map(m=>({label:m,value:m})),a.options[0].value!==""&&a.options.unshift({label:"",value:""})),a.fieldtype==="Link"&&a.options==="User"&&(a.fieldtype="User",a.link_filters=JSON.stringify({...a.link_filters?JSON.parse(a.link_filters):{},name:["in",(S=(V=_.data)==null?void 0:V.crmUsers)==null?void 0:S.map(m=>m.name)]}));let h={...a,filters:a.link_filters&&JSON.parse(a.link_filters),placeholder:a.placeholder||a.label,display_via_depends_on:se(a.depends_on,n.value),mandatory_via_depends_on:se(a.mandatory_depends_on,n.value)};return h.visible=ye(h),h}const I=Ve(),U=((Y=I==null?void 0:I.vnode)==null?void 0:Y.props)??{};async function $(a,h){if(p.preview)return;await y(h.fieldname,a),U.onBeforeFieldChange!==void 0?k("beforeFieldChange",{[h.fieldname]:a}):D.save.submit(null,{onSuccess:()=>k("afterFieldChange",{[h.fieldname]:a})})}function ve(a,h){var S;let V=a.name=="contacts_section";return a.showEditButton=!(Ne.value||!L()||V||h),a.visible=V||((S=a.columns)==null?void 0:S[0].fields.filter(m=>m.visible).length),a}function ye(a){var S,m;if(p.preview)return!0;const h=Number(((S=window.sysdefaults)==null?void 0:S.hide_empty_read_only_fields)??1),V=a.read_only&&(((m=n.value)==null?void 0:m[a.fieldname])||!h);return(a.fieldtype=="Check"||V||!a.read_only)&&(!a.depends_on||a.display_via_depends_on)&&!a.hidden}function _e(){return M.value.findIndex(a=>a.visible)}return(a,h)=>{const V=O("Button"),S=O("FormControl");return t(),d(j,null,[r("div",Ft,[(t(!0),d(j,null,Z(M.value,(m,A)=>(t(),d(j,{key:m.name},[m.visible?(t(),d("div",Dt,[A!==_e()?(t(),d("div",It)):x("",!0),r("div",Mt,[u(Ie,{labelClass:"px-2 font-semibold",headerClass:"h-8",label:m.label,hideLabel:!m.label,opened:m.opened},ee({default:g(()=>[te(a.$slots,"default",ae({ref_for:!0},{section:m}),()=>{var T;return[(T=m.columns)!=null&&T[0].fields.length?(t(),c(Ue,{key:0,class:"column flex flex-col gap-1.5 overflow-y-auto"},{default:g(()=>[(t(!0),d(j,null,Z(m.columns[0].fields||[],e=>(t(),d(j,{key:e.fieldname},[e.visible?(t(),d("div",Nt,[u(i(z),{text:a.__(e.label),hoverDelay:1},{default:g(()=>[r("div",Ot,[r("div",Pt,F(a.__(e.label)),1),e.reqd||e.mandatory_depends_on&&e.mandatory_via_depends_on?(t(),d("div",Ut," * ")):x("",!0)])]),_:2},1032,["text"]),r("div",jt,[r("div",Et,[e.read_only&&!["Int","Float","Currency","Percent","Check","Dropdown"].includes(e.fieldtype)?(t(),d("div",Rt,[u(i(z),{text:a.__(e.tooltip)},{default:g(()=>[r("div",null,F(n.value[e.fieldname]),1)]),_:2},1032,["text"])])):e.fieldtype==="Dropdown"?(t(),c(st,{key:1,value:n.value[e.fieldname],placeholder:e.placeholder,options:e.options,create:e.create,label:e.label},null,8,["value","placeholder","options","create","label"])):e.fieldtype=="Check"?(t(),c(S,{key:2,class:"form-control",type:"checkbox",modelValue:n.value[e.fieldname],"onUpdate:modelValue":o=>n.value[e.fieldname]=o,onChange:B(o=>$(o.target.checked,e),["stop"]),disabled:!!e.read_only},null,8,["modelValue","onUpdate:modelValue","onChange","disabled"])):["Small Text","Text","Long Text","Code"].includes(e.fieldtype)?(t(),c(S,{key:3,class:"form-control",type:"textarea",value:n.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:B(o=>$(o.target.value,e),["stop"])},null,8,["value","placeholder","onChange"])):e.fieldtype==="Select"?(t(),c(S,{key:4,class:"form-control cursor-pointer [&_select]:cursor-pointer truncate",type:"select",modelValue:n.value[e.fieldname],"onUpdate:modelValue":o=>n.value[e.fieldname]=o,options:e.options,placeholder:e.placeholder,onChange:B(o=>$(o.target.value,e),["stop"])},null,8,["modelValue","onUpdate:modelValue","options","placeholder","onChange"])):e.fieldtype==="User"?(t(),c(ne,{key:5,class:"form-control",value:n.value[e.fieldname]&&i(w)(n.value[e.fieldname]).full_name,doctype:"User",filters:e.filters,onChange:o=>$(o,e),placeholder:"Select "+e.label+"...",hideMe:!0},ee({"item-prefix":g(({option:o})=>[u(re,{class:"mr-1.5",user:o.value,size:"sm"},null,8,["user"])]),"item-label":g(({option:o})=>[u(i(z),{text:o.value},{default:g(()=>[r("div",At,F(i(w)(o.value).full_name),1)]),_:2},1032,["text"])]),_:2},[n.value[e.fieldname]?{name:"prefix",fn:g(()=>[u(re,{class:"mr-1.5",user:n.value[e.fieldname],size:"sm"},null,8,["user"])]),key:"0"}:void 0]),1032,["value","filters","onChange","placeholder"])):["Link","Dynamic Link"].includes(e.fieldtype)?(t(),c(ne,{key:6,class:"form-control select-text",value:n.value[e.fieldname],doctype:e.fieldtype=="Link"?e.options:n.value[e.options],filters:e.filters,placeholder:e.placeholder,onChange:o=>$(o,e),onCreate:e.create},null,8,["value","doctype","filters","placeholder","onChange","onCreate"])):e.fieldtype==="Datetime"?(t(),d("div",Tt,[u(i(Oe),{"icon-left":"",value:n.value[e.fieldname],formatter:o=>i(ie)(o,"",!0,!0),placeholder:e.placeholder,placement:"left-start",hideIcon:!0,onChange:o=>$(o,e)},null,8,["value","formatter","placeholder","onChange"])])):e.fieldtype==="Date"?(t(),d("div",zt,[u(i(Pe),{"icon-left":"",value:n.value[e.fieldname],formatter:o=>i(ie)(o,"",!0),placeholder:e.placeholder,placement:"left-start",hideIcon:!0,onChange:o=>$(o,e)},null,8,["value","formatter","placeholder","onChange"])])):e.fieldtype==="Percent"?(t(),c(E,{key:9,class:"form-control",type:"text",value:i(f)(e.fieldname,n.value),placeholder:e.placeholder,debounce:500,onChange:B(o=>$(i(K)(o.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Password"?(t(),c(De,{key:10,class:"form-control",value:n.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:B(o=>$(o.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Int"?(t(),c(E,{key:11,class:"form-control",type:"text",value:n.value[e.fieldname]||"0",placeholder:e.placeholder,debounce:500,onChange:B(o=>$(o.target.value,e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Float"?(t(),c(E,{key:12,class:"form-control",type:"text",value:i(C)(e.fieldname,n.value),placeholder:e.placeholder,debounce:500,onChange:B(o=>$(i(K)(o.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):e.fieldtype==="Currency"?(t(),c(E,{key:13,class:"form-control",type:"text",value:i(v)(e.fieldname,n.value),placeholder:e.placeholder,debounce:500,onChange:B(o=>$(i(K)(o.target.value),e),["stop"]),disabled:!!e.read_only},null,8,["value","placeholder","onChange","disabled"])):(t(),c(S,{key:14,class:"form-control",type:"text",value:n.value[e.fieldname],placeholder:e.placeholder,debounce:500,onChange:B(o=>$(o.target.value,e),["stop"])},null,8,["value","placeholder","onChange"]))]),r("div",Jt,[e.fieldtype==="Link"&&e.link&&n.value[e.fieldname]?(t(),c(Ae,{key:0,class:"h-4 w-4 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:B(o=>e.link(n.value[e.fieldname]),["stop"])},null,8,["onClick"])):x("",!0),e.fieldtype==="Link"&&e.edit&&n.value[e.fieldname]?(t(),c(R,{key:1,class:"size-3.5 shrink-0 cursor-pointer text-ink-gray-5 hover:text-ink-gray-8",onClick:B(o=>e.edit(n.value[e.fieldname]),["stop"])},null,8,["onClick"])):x("",!0)])])])):x("",!0)],64))),128))]),_:2},1024)):x("",!0)]},!0)]),_:2},[s.preview?void 0:{name:"actions",fn:g(()=>[te(a.$slots,"actions",ae({ref_for:!0},{section:m}),()=>[m.showEditButton?(t(),c(V,{key:0,variant:"ghost",class:"w-7 mr-2",icon:R,onClick:h[0]||(h[0]=T=>l.value=!0)})):x("",!0)],!0)]),key:"0"}]),1032,["label","hideLabel","opened"])])])):x("",!0)],64))),128))]),l.value?(t(),c(Bt,{key:0,modelValue:l.value,"onUpdate:modelValue":h[1]||(h[1]=m=>l.value=m),doctype:s.doctype,onReload:h[2]||(h[2]=()=>k("reload"))},null,8,["modelValue","doctype"])):x("",!0)],64)}}},Gt=X(Kt,[["__scopeId","data-v-e78e2f66"]]),{getView:qt}=Be();function ce(s){return{list:{label:__("List"),icon:J(je)},group_by:{label:__("Group By"),icon:J(Ee)},kanban:{label:__("Kanban"),icon:J(Re)}}[s]}function ta(s,b,p){let k=b||"list",f=qt(s,k,p);return f&&!f.icon&&(f.icon=ce(k).icon),f||ce(k)}export{Gt as S,qe as a,ta as g};
//# sourceMappingURL=view-69c9883d.js.map
