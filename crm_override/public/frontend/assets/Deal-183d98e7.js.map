{"version":3,"file":"Deal-183d98e7.js","sources":["../../../../frontend/src/pages/Deal.vue"],"sourcesContent":["<template>\n  <LayoutHeader>\n    <template #left-header>\n      <Breadcrumbs :items=\"breadcrumbs\">\n        <template #prefix=\"{ item }\">\n          <Icon v-if=\"item.icon\" :icon=\"item.icon\" class=\"mr-2 h-4\" />\n        </template>\n      </Breadcrumbs>\n    </template>\n    <template v-if=\"!errorTitle\" #right-header>\n      <CustomActions\n        v-if=\"document._actions?.length\"\n        :actions=\"document._actions\"\n      />\n      <CustomActions\n        v-if=\"document.actions?.length\"\n        :actions=\"document.actions\"\n      />\n      <AssignTo v-model=\"assignees.data\" doctype=\"CRM Deal\" :docname=\"dealId\" />\n      <Dropdown\n        v-if=\"doc && document.statuses\"\n        :options=\"statuses\"\n        placement=\"right\"\n      >\n        <template #default=\"{ open }\">\n          <Button\n            v-if=\"doc.status\"\n            :label=\"doc.status\"\n            :iconRight=\"open ? 'chevron-up' : 'chevron-down'\"\n          >\n            <template #prefix>\n              <IndicatorIcon :class=\"getDealStatus(doc.status).color\" />\n            </template>\n          </Button>\n        </template>\n      </Dropdown>\n    </template>\n  </LayoutHeader>\n  <div v-if=\"doc.name\" class=\"flex h-full overflow-hidden\">\n    <Tabs as=\"div\" v-model=\"tabIndex\" :tabs=\"tabs\">\n      <template #tab-panel>\n        <Activities\n          ref=\"activities\"\n          doctype=\"CRM Deal\"\n          :docname=\"dealId\"\n          :tabs=\"tabs\"\n          v-model:reload=\"reload\"\n          v-model:tabIndex=\"tabIndex\"\n          @beforeSave=\"beforeStatusChange\"\n          @afterSave=\"reloadAssignees\"\n        />\n      </template>\n    </Tabs>\n    <Resizer side=\"right\" class=\"flex flex-col justify-between border-l\">\n      <div\n        class=\"flex h-10.5 cursor-copy items-center border-b px-5 py-2.5 text-lg font-medium text-ink-gray-9\"\n        @click=\"copyToClipboard(dealId)\"\n      >\n        {{ __(dealId) }}\n      </div>\n      <div class=\"flex items-center justify-start gap-5 border-b p-5\">\n        <Tooltip :text=\"__('Organization logo')\">\n          <div class=\"group relative size-12\">\n            <Avatar\n              size=\"3xl\"\n              class=\"size-12\"\n              :label=\"title\"\n              :image=\"organization?.organization_logo\"\n            />\n          </div>\n        </Tooltip>\n        <div class=\"flex flex-col gap-2.5 truncate text-ink-gray-9\">\n          <Tooltip :text=\"organization?.name || __('Set an organization')\">\n            <div class=\"truncate text-2xl font-medium\">\n              {{ title }}\n            </div>\n          </Tooltip>\n          <div class=\"flex gap-1.5\">\n            <Button\n              v-if=\"callEnabled\"\n              :tooltip=\"__('Make a call')\"\n              :icon=\"PhoneIcon\"\n              @click=\"triggerCall\"\n            />\n\n            <Button\n              :tooltip=\"__('Send an email')\"\n              :icon=\"Email2Icon\"\n              @click=\"\n                doc.email ? openEmailBox() : toast.error(__('No email set'))\n              \"\n            />\n\n            <Button\n              :tooltip=\"__('Go to website')\"\n              :icon=\"LinkIcon\"\n              @click=\"\n                doc.website\n                  ? openWebsite(doc.website)\n                  : toast.error(__('No website set'))\n              \"\n            />\n\n            <Button\n              :tooltip=\"__('Attach a file')\"\n              :icon=\"AttachmentIcon\"\n              @click=\"showFilesUploader = true\"\n            />\n\n            <Button\n              v-if=\"canDelete\"\n              :tooltip=\"__('Delete')\"\n              variant=\"subtle\"\n              icon=\"trash-2\"\n              theme=\"red\"\n              @click=\"deleteDeal\"\n            />\n          </div>\n        </div>\n      </div>\n      <SLASection\n        v-if=\"doc.sla_status\"\n        v-model=\"doc\"\n        @updateField=\"updateField\"\n      />\n      <div\n        v-if=\"sections.data\"\n        class=\"flex flex-1 flex-col justify-between overflow-hidden\"\n      >\n        <SidePanelLayout\n          :sections=\"sections.data\"\n          :addContact=\"addContact\"\n          doctype=\"CRM Deal\"\n          :docname=\"dealId\"\n          @reload=\"sections.reload\"\n          @beforeFieldChange=\"beforeStatusChange\"\n          @afterFieldChange=\"reloadAssignees\"\n        >\n          <template #actions=\"{ section }\">\n            <div v-if=\"section.name == 'contacts_section'\" class=\"pr-2\">\n              <Link\n                value=\"\"\n                doctype=\"Contact\"\n                @change=\"(e) => addContact(e)\"\n                :onCreate=\"\n                  (value, close) => {\n                    _contact = {\n                      first_name: value,\n                      company_name: doc.organization,\n                    }\n                    showContactModal = true\n                    close()\n                  }\n                \"\n              >\n                <template #target=\"{ togglePopover }\">\n                  <Button\n                    class=\"h-7 px-3\"\n                    variant=\"ghost\"\n                    icon=\"plus\"\n                    @click=\"togglePopover()\"\n                  />\n                </template>\n              </Link>\n            </div>\n          </template>\n          <template #default=\"{ section }\">\n            <div\n              v-if=\"section.name == 'contacts_section'\"\n              class=\"contacts-area\"\n            >\n              <div\n                v-if=\"dealContacts?.loading && dealContacts?.data?.length == 0\"\n                class=\"flex min-h-20 flex-1 items-center justify-center gap-3 text-base text-ink-gray-4\"\n              >\n                <LoadingIndicator class=\"h-4 w-4\" />\n                <span>{{ __('Loading...') }}</span>\n              </div>\n              <div\n                v-else-if=\"dealContacts?.data?.length\"\n                v-for=\"(contact, i) in dealContacts.data\"\n                :key=\"contact.name\"\n              >\n                <div class=\"px-2 pb-2.5\" :class=\"[i == 0 ? 'pt-5' : 'pt-2.5']\">\n                  <Section :opened=\"contact.opened\">\n                    <template #header=\"{ opened, toggle }\">\n                      <div\n                        class=\"flex cursor-pointer items-center justify-between gap-2 pr-1 text-base leading-5 text-ink-gray-7\"\n                      >\n                        <div\n                          class=\"flex h-7 items-center gap-2 truncate\"\n                          @click=\"toggle()\"\n                        >\n                          <Avatar\n                            :label=\"contact.full_name\"\n                            :image=\"contact.image\"\n                            size=\"md\"\n                          />\n                          <div class=\"truncate\">\n                            {{ contact.full_name }}\n                          </div>\n                          <Badge\n                            v-if=\"contact.is_primary\"\n                            class=\"ml-2\"\n                            variant=\"outline\"\n                            :label=\"__('Primary')\"\n                            theme=\"green\"\n                          />\n                        </div>\n                        <div class=\"flex items-center\">\n                          <Dropdown :options=\"contactOptions(contact)\">\n                            <Button\n                              icon=\"more-horizontal\"\n                              class=\"text-ink-gray-5\"\n                              variant=\"ghost\"\n                            />\n                          </Dropdown>\n                          <Button\n                            variant=\"ghost\"\n                            :tooltip=\"__('View contact')\"\n                            :icon=\"ArrowUpRightIcon\"\n                            @click=\"\n                              router.push({\n                                name: 'Contact',\n                                params: { contactId: contact.name },\n                              })\n                            \"\n                          />\n                          <Button\n                            variant=\"ghost\"\n                            class=\"transition-all duration-300 ease-in-out\"\n                            :class=\"{ 'rotate-90': opened }\"\n                            icon=\"chevron-right\"\n                            @click=\"toggle()\"\n                          />\n                        </div>\n                      </div>\n                    </template>\n                    <div class=\"flex flex-col gap-1.5 text-base\">\n                      <div\n                        v-if=\"contact.email\"\n                        class=\"flex items-center gap-3 pb-1.5 pl-1 pt-4 text-ink-gray-8\"\n                      >\n                        <Email2Icon class=\"h-4 w-4\" />\n                        {{ contact.email }}\n                      </div>\n                      <div\n                        v-if=\"contact.mobile_no\"\n                        class=\"flex items-center gap-3 p-1 py-1.5 text-ink-gray-8\"\n                      >\n                        <PhoneIcon class=\"h-4 w-4\" />\n                        {{ contact.mobile_no }}\n                      </div>\n                      <div\n                        v-if=\"!contact.email && !contact.mobile_no\"\n                        class=\"flex items-center justify-center py-4 text-sm text-ink-gray-4\"\n                      >\n                        {{ __('No details added') }}\n                      </div>\n                    </div>\n                  </Section>\n                </div>\n                <div\n                  v-if=\"i != dealContacts.data.length - 1\"\n                  class=\"mx-2 h-px border-t border-outline-gray-modals\"\n                />\n              </div>\n              <div\n                v-else\n                class=\"flex h-20 items-center justify-center text-base text-ink-gray-5\"\n              >\n                {{ __('No contacts added') }}\n              </div>\n            </div>\n          </template>\n        </SidePanelLayout>\n      </div>\n    </Resizer>\n  </div>\n  <ErrorPage\n    v-else-if=\"errorTitle\"\n    :errorTitle=\"errorTitle\"\n    :errorMessage=\"errorMessage\"\n  />\n  <OrganizationModal\n    v-if=\"showOrganizationModal\"\n    v-model=\"showOrganizationModal\"\n    :data=\"_organization\"\n    :options=\"{\n      redirect: false,\n      afterInsert: (_doc) => updateField('organization', _doc.name),\n    }\"\n  />\n  <ContactModal\n    v-if=\"showContactModal\"\n    v-model=\"showContactModal\"\n    :contact=\"_contact\"\n    :options=\"{\n      redirect: false,\n      afterInsert: (_doc) => addContact(_doc.name),\n    }\"\n  />\n  <FilesUploader\n    v-model=\"showFilesUploader\"\n    doctype=\"CRM Deal\"\n    :docname=\"dealId\"\n    @after=\"\n      () => {\n        activities?.all_activities?.reload()\n        changeTabTo('attachments')\n      }\n    \"\n  />\n  <DeleteLinkedDocModal\n    v-if=\"showDeleteLinkedDocModal\"\n    v-model=\"showDeleteLinkedDocModal\"\n    :doctype=\"'CRM Deal'\"\n    :docname=\"dealId\"\n    name=\"Deals\"\n  />\n  <LostReasonModal\n    v-if=\"showLostReasonModal\"\n    v-model=\"showLostReasonModal\"\n    :deal=\"document\"\n  />\n</template>\n<script setup>\nimport DeleteLinkedDocModal from '@/components/DeleteLinkedDocModal.vue'\nimport ErrorPage from '@/components/ErrorPage.vue'\nimport Icon from '@/components/Icon.vue'\nimport Resizer from '@/components/Resizer.vue'\nimport LoadingIndicator from '@/components/Icons/LoadingIndicator.vue'\nimport ActivityIcon from '@/components/Icons/ActivityIcon.vue'\nimport EmailIcon from '@/components/Icons/EmailIcon.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport CommentIcon from '@/components/Icons/CommentIcon.vue'\nimport DetailsIcon from '@/components/Icons/DetailsIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport TaskIcon from '@/components/Icons/TaskIcon.vue'\nimport NoteIcon from '@/components/Icons/NoteIcon.vue'\nimport WhatsAppIcon from '@/components/Icons/WhatsAppIcon.vue'\nimport IndicatorIcon from '@/components/Icons/IndicatorIcon.vue'\nimport LinkIcon from '@/components/Icons/LinkIcon.vue'\nimport ArrowUpRightIcon from '@/components/Icons/ArrowUpRightIcon.vue'\nimport SuccessIcon from '@/components/Icons/SuccessIcon.vue'\nimport AttachmentIcon from '@/components/Icons/AttachmentIcon.vue'\nimport LayoutHeader from '@/components/LayoutHeader.vue'\nimport Activities from '@/components/Activities/Activities.vue'\nimport OrganizationModal from '@/components/Modals/OrganizationModal.vue'\nimport LostReasonModal from '@/components/Modals/LostReasonModal.vue'\nimport AssignTo from '@/components/AssignTo.vue'\nimport FilesUploader from '@/components/FilesUploader/FilesUploader.vue'\nimport ContactModal from '@/components/Modals/ContactModal.vue'\nimport Link from '@/components/Controls/Link.vue'\nimport Section from '@/components/Section.vue'\nimport SidePanelLayout from '@/components/SidePanelLayout.vue'\nimport SLASection from '@/components/SLASection.vue'\nimport CustomActions from '@/components/CustomActions.vue'\nimport { openWebsite, setupCustomizations, copyToClipboard } from '@/utils'\nimport { getView } from '@/utils/view'\nimport { getSettings } from '@/stores/settings'\nimport { globalStore } from '@/stores/global'\nimport { statusesStore } from '@/stores/statuses'\nimport { getMeta } from '@/stores/meta'\nimport { useDocument } from '@/data/document'\nimport { whatsappEnabled, callEnabled } from '@/composables/settings'\nimport {\n  createResource,\n  Dropdown,\n  Tooltip,\n  Avatar,\n  Tabs,\n  Breadcrumbs,\n  call,\n  usePageMeta,\n  toast,\n} from 'frappe-ui'\nimport { useOnboarding } from 'frappe-ui/frappe'\nimport {\n  ref,\n  computed,\n  h,\n  onMounted,\n  onBeforeUnmount,\n  nextTick,\n  watch,\n} from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useActiveTabManager } from '@/composables/useActiveTabManager'\n\nconst { brand } = getSettings()\nconst { $dialog, $socket, makeCall } = globalStore()\nconst { statusOptions, getDealStatus } = statusesStore()\nconst { doctypeMeta } = getMeta('CRM Deal')\n\nconst { updateOnboardingStep, isOnboardingStepsCompleted } =\n  useOnboarding('frappecrm')\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst props = defineProps({\n  dealId: {\n    type: String,\n    required: true,\n  },\n})\n\nconst errorTitle = ref('')\nconst errorMessage = ref('')\nconst showDeleteLinkedDocModal = ref(false)\n\nconst { triggerOnChange, assignees, permissions, document, scripts, error } = useDocument(\n  'CRM Deal',\n  props.dealId,\n)\n\nconst canDelete = computed(() => permissions.data?.permissions?.delete || false)\n\nconst doc = computed(() => document.doc || {})\n\nwatch(error, (err) => {\n  if (err) {\n    errorTitle.value = __(\n      err.exc_type == 'DoesNotExistError'\n        ? 'Document not found'\n        : 'Error occurred',\n    )\n    errorMessage.value = __(err.messages?.[0] || 'An error occurred')\n  } else {\n    errorTitle.value = ''\n    errorMessage.value = ''\n  }\n})\n\nwatch(\n  () => document.doc,\n  async (_doc) => {\n    if (scripts.data?.length) {\n      let s = await setupCustomizations(scripts.data, {\n        doc: _doc,\n        $dialog,\n        $socket,\n        router,\n        toast,\n        updateField,\n        createToast: toast.create,\n        deleteDoc: deleteDeal,\n        call,\n      })\n      document._actions = s.actions || []\n      document._statuses = s.statuses || []\n    }\n  },\n  { once: true },\n)\n\nconst organizationDocument = ref(null)\n\nwatch(\n  () => doc.value.organization,\n  (org) => {\n    if (org && !organizationDocument.value?.doc) {\n      let { document: _organizationDocument } = useDocument(\n        'CRM Organization',\n        org,\n      )\n      organizationDocument.value = _organizationDocument\n    }\n  },\n  { immediate: true },\n)\n\nconst organization = computed(() => organizationDocument.value?.doc || {})\n\nonMounted(() => {\n  $socket.on('crm_customer_created', () => {\n    toast.success(__('Customer created successfully'))\n  })\n})\n\nonBeforeUnmount(() => {\n  $socket.off('crm_customer_created')\n})\n\nconst reload = ref(false)\nconst showOrganizationModal = ref(false)\nconst showFilesUploader = ref(false)\nconst _organization = ref({})\n\nconst breadcrumbs = computed(() => {\n  let items = [{ label: __('Deals'), route: { name: 'Deals' } }]\n\n  if (route.query.view || route.query.viewType) {\n    let view = getView(route.query.view, route.query.viewType, 'CRM Deal')\n    if (view) {\n      items.push({\n        label: __(view.label),\n        icon: view.icon,\n        route: {\n          name: 'Deals',\n          params: { viewType: route.query.viewType },\n          query: { view: route.query.view },\n        },\n      })\n    }\n  }\n\n  items.push({\n    label: title.value,\n    route: { name: 'Deal', params: { dealId: props.dealId } },\n  })\n  return items\n})\n\nconst title = computed(() => {\n  let t = doctypeMeta['CRM Deal']?.title_field || 'name'\n  return doc.value?.[t] || props.dealId\n})\n\nconst statuses = computed(() => {\n  let customStatuses = document.statuses?.length\n    ? document.statuses\n    : document._statuses || []\n  return statusOptions('deal', customStatuses, triggerStatusChange)\n})\n\nusePageMeta(() => {\n  return {\n    title: title.value,\n    icon: brand.favicon,\n  }\n})\n\nconst tabs = computed(() => {\n  let tabOptions = [\n    {\n      name: 'Activity',\n      label: __('Activity'),\n      icon: ActivityIcon,\n    },\n    {\n      name: 'Emails',\n      label: __('Emails'),\n      icon: EmailIcon,\n    },\n    {\n      name: 'Comments',\n      label: __('Comments'),\n      icon: CommentIcon,\n    },\n    {\n      name: 'Data',\n      label: __('Data'),\n      icon: DetailsIcon,\n    },\n    {\n      name: 'Calls',\n      label: __('Calls'),\n      icon: PhoneIcon,\n    },\n    {\n      name: 'Tasks',\n      label: __('Tasks'),\n      icon: TaskIcon,\n    },\n    {\n      name: 'Notes',\n      label: __('Notes'),\n      icon: NoteIcon,\n    },\n    {\n      name: 'Attachments',\n      label: __('Attachments'),\n      icon: AttachmentIcon,\n    },\n    {\n      name: 'WhatsApp',\n      label: __('WhatsApp'),\n      icon: WhatsAppIcon,\n      condition: () => whatsappEnabled.value,\n    },\n  ]\n  return tabOptions.filter((tab) => (tab.condition ? tab.condition() : true))\n})\n\nconst { tabIndex } = useActiveTabManager(tabs, 'lastDealTab')\n\nconst sections = createResource({\n  url: 'crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_sidepanel_sections',\n  cache: ['sidePanelSections', 'CRM Deal'],\n  params: { doctype: 'CRM Deal' },\n  transform: (data) => getParsedSections(data),\n})\n\nif (!sections.data) sections.fetch()\n\nfunction getParsedSections(_sections) {\n  _sections.forEach((section) => {\n    if (section.name == 'contacts_section') return\n    section.columns[0].fields.forEach((field) => {\n      if (field.fieldname == 'organization') {\n        field.create = (value, close) => {\n          _organization.value.organization_name = value\n          showOrganizationModal.value = true\n          close()\n        }\n        field.link = (org) =>\n          router.push({\n            name: 'Organization',\n            params: { organizationId: org },\n          })\n      }\n    })\n  })\n  return _sections\n}\n\nconst showContactModal = ref(false)\nconst _contact = ref({})\n\nfunction contactOptions(contact) {\n  let options = [\n    {\n      label: __('Remove'),\n      icon: 'trash-2',\n      onClick: () => removeContact(contact.name),\n    },\n  ]\n\n  if (!contact.is_primary) {\n    options.push({\n      label: __('Set as Primary Contact'),\n      icon: h(SuccessIcon, { class: 'h-4 w-4' }),\n      onClick: () => setPrimaryContact(contact.name),\n    })\n  }\n\n  return options\n}\n\nasync function addContact(contact) {\n  if (dealContacts.data?.find((c) => c.name === contact)) {\n    toast.error(__('Contact already added'))\n    return\n  }\n\n  let d = await call('crm.fcrm.doctype.crm_deal.crm_deal.add_contact', {\n    deal: props.dealId,\n    contact,\n  })\n  if (d) {\n    dealContacts.reload()\n    toast.success(__('Contact added'))\n  }\n}\n\nasync function removeContact(contact) {\n  let d = await call('crm.fcrm.doctype.crm_deal.crm_deal.remove_contact', {\n    deal: props.dealId,\n    contact,\n  })\n  if (d) {\n    dealContacts.reload()\n    toast.success(__('Contact removed'))\n  }\n}\n\nasync function setPrimaryContact(contact) {\n  let d = await call('crm.fcrm.doctype.crm_deal.crm_deal.set_primary_contact', {\n    deal: props.dealId,\n    contact,\n  })\n  if (d) {\n    dealContacts.reload()\n    toast.success(__('Primary contact set'))\n  }\n}\n\nconst dealContacts = createResource({\n  url: 'crm.fcrm.doctype.crm_deal.api.get_deal_contacts',\n  params: { name: props.dealId },\n  cache: ['deal_contacts', props.dealId],\n  transform: (data) => {\n    data.forEach((contact) => {\n      contact.opened = false\n    })\n    return data\n  },\n})\n\nif (!dealContacts.data) dealContacts.fetch()\n\nfunction triggerCall() {\n  let primaryContact = dealContacts.data?.find((c) => c.is_primary)\n  let mobile_no = primaryContact.mobile_no || null\n\n  if (!primaryContact) {\n    toast.error(__('No primary contact set'))\n    return\n  }\n\n  if (!mobile_no) {\n    toast.error(__('No mobile number set'))\n    return\n  }\n\n  makeCall(mobile_no)\n}\n\nasync function triggerStatusChange(value) {\n  await triggerOnChange('status', value)\n  setLostReason()\n}\n\nfunction updateField(name, value) {\n  if (name == 'status' && !isOnboardingStepsCompleted.value) {\n    updateOnboardingStep('change_deal_status')\n  }\n\n  value = Array.isArray(name) ? '' : value\n  let oldValues = Array.isArray(name) ? {} : doc.value[name]\n\n  if (Array.isArray(name)) {\n    name.forEach((field) => (doc.value[field] = value))\n  } else {\n    doc.value[name] = value\n  }\n\n  document.save.submit(null, {\n    onSuccess: () => (reload.value = true),\n    onError: (err) => {\n      if (Array.isArray(name)) {\n        name.forEach((field) => (doc.value[field] = oldValues[field]))\n      } else {\n        doc.value[name] = oldValues\n      }\n      toast.error(err.messages?.[0] || __('Error updating field'))\n    },\n  })\n}\n\nfunction deleteDeal() {\n  showDeleteLinkedDocModal.value = true\n}\n\nconst activities = ref(null)\n\nfunction openEmailBox() {\n  let currentTab = tabs.value[tabIndex.value]\n  if (!['Emails', 'Comments', 'Activities'].includes(currentTab.name)) {\n    activities.value.changeTabTo('emails')\n  }\n  nextTick(() => (activities.value.emailBox.show = true))\n}\n\nconst showLostReasonModal = ref(false)\n\nfunction setLostReason() {\n  if (\n    getDealStatus(document.doc.status).type !== 'Lost' ||\n    (document.doc.lost_reason && document.doc.lost_reason !== 'Other') ||\n    (document.doc.lost_reason === 'Other' && document.doc.lost_notes)\n  ) {\n    document.save.submit()\n    return\n  }\n\n  showLostReasonModal.value = true\n}\n\nfunction beforeStatusChange(data) {\n  if (\n    data?.hasOwnProperty('status') &&\n    getDealStatus(data.status).type == 'Lost'\n  ) {\n    setLostReason()\n  } else {\n    document.save.submit(null, {\n      onSuccess: () => reloadAssignees(data),\n    })\n  }\n}\n\nfunction reloadAssignees(data) {\n  if (data?.hasOwnProperty('deal_owner')) {\n    assignees.reload()\n  }\n}\n</script>\n"],"names":["brand","getSettings","$dialog","$socket","makeCall","globalStore","statusOptions","getDealStatus","statusesStore","doctypeMeta","getMeta","updateOnboardingStep","isOnboardingStepsCompleted","useOnboarding","route","useRoute","router","useRouter","props","__props","errorTitle","ref","errorMessage","showDeleteLinkedDocModal","triggerOnChange","assignees","permissions","document","scripts","error","useDocument","canDelete","computed","_b","_a","doc","watch","err","_doc","setupCustomizations","toast","updateField","deleteDeal","call","organizationDocument","org","_organizationDocument","organization","onMounted","onBeforeUnmount","reload","showOrganizationModal","showFilesUploader","_organization","breadcrumbs","items","view","getView","title","t","statuses","customStatuses","triggerStatusChange","usePageMeta","tabs","ActivityIcon","EmailIcon","CommentIcon","DetailsIcon","PhoneIcon","TaskIcon","NoteIcon","AttachmentIcon","WhatsAppIcon","whatsappEnabled","tab","tabIndex","useActiveTabManager","sections","createResource","data","getParsedSections","_sections","section","field","value","close","showContactModal","_contact","contactOptions","contact","options","removeContact","h","SuccessIcon","setPrimaryContact","addContact","dealContacts","c","triggerCall","primaryContact","mobile_no","setLostReason","name","oldValues","activities","openEmailBox","currentTab","nextTick","showLostReasonModal","beforeStatusChange","reloadAssignees","_createVNode","LayoutHeader","_createSlots","_unref","Breadcrumbs","_withCtx","item","_createBlock","Icon","CustomActions","AssignTo","_cache","$event","Dropdown","open","_component_Button","IndicatorIcon","_openBlock","_createElementBlock","_hoisted_1","Tabs","Activities","Resizer","_createElementVNode","copyToClipboard","__","_hoisted_2","Tooltip","_hoisted_3","Avatar","_hoisted_4","_hoisted_5","_toDisplayString","_hoisted_6","callEnabled","Email2Icon","LinkIcon","openWebsite","SLASection","_hoisted_7","SidePanelLayout","_hoisted_8","Link","e","togglePopover","_hoisted_9","_hoisted_10","LoadingIndicator","_Fragment","i","_normalizeClass","Section","opened","toggle","_hoisted_11","_hoisted_13","_component_Badge","_hoisted_14","ArrowUpRightIcon","_hoisted_15","_hoisted_16","_hoisted_17","_hoisted_18","_hoisted_19","_hoisted_20","ErrorPage","OrganizationModal","ContactModal","FilesUploader","changeTabTo","DeleteLinkedDocModal","LostReasonModal"],"mappings":"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"}