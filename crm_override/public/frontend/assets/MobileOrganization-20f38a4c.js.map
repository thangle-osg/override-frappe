{"version":3,"file":"MobileOrganization-20f38a4c.js","sources":["../../../../frontend/src/pages/MobileOrganization.vue"],"sourcesContent":["<template>\n  <LayoutHeader v-if=\"organization.doc\">\n    <header\n      class=\"relative flex h-10.5 items-center justify-between gap-2 py-2.5 pl-2\"\n    >\n      <Breadcrumbs :items=\"breadcrumbs\">\n        <template #prefix=\"{ item }\">\n          <Icon v-if=\"item.icon\" :icon=\"item.icon\" class=\"mr-2 h-4\" />\n        </template>\n      </Breadcrumbs>\n    </header>\n  </LayoutHeader>\n  <div v-if=\"organization.doc\" class=\"flex flex-col h-full overflow-hidden\">\n    <FileUploader\n      @success=\"changeOrganizationImage\"\n      :validateFile=\"validateIsImageFile\"\n    >\n      <template #default=\"{ openFileSelector, error }\">\n        <div class=\"flex flex-col items-start justify-start gap-4 p-4\">\n          <div class=\"flex gap-4 items-center\">\n            <div class=\"group relative h-14.5 w-14.5\">\n              <Avatar\n                size=\"3xl\"\n                class=\"h-14.5 w-14.5\"\n                :label=\"organization.doc.organization_name\"\n                :image=\"organization.doc.organization_logo\"\n              />\n              <component\n                :is=\"organization.doc.organization_logo ? Dropdown : 'div'\"\n                v-bind=\"\n                  organization.doc.organization_logo\n                    ? {\n                        options: [\n                          {\n                            icon: 'upload',\n                            label: organization.doc.organization_logo\n                              ? __('Change image')\n                              : __('Upload image'),\n                            onClick: openFileSelector,\n                          },\n                          {\n                            icon: 'trash-2',\n                            label: __('Remove image'),\n                            onClick: () => changeOrganizationImage(''),\n                          },\n                        ],\n                      }\n                    : { onClick: openFileSelector }\n                \"\n                class=\"!absolute bottom-0 left-0 right-0\"\n              >\n                <div\n                  class=\"z-1 absolute bottom-0 left-0 right-0 flex h-14 cursor-pointer items-center justify-center rounded-b-full bg-black bg-opacity-40 pt-5 opacity-0 duration-300 ease-in-out group-hover:opacity-100\"\n                  style=\"\n                    -webkit-clip-path: inset(22px 0 0 0);\n                    clip-path: inset(22px 0 0 0);\n                  \"\n                >\n                  <CameraIcon class=\"h-6 w-6 cursor-pointer text-white\" />\n                </div>\n              </component>\n            </div>\n            <div class=\"flex flex-col gap-2 truncate\">\n              <div class=\"truncate text-lg font-medium text-ink-gray-9\">\n                {{ organization.doc.name }}\n              </div>\n              <div class=\"flex items-center gap-1.5\">\n                <Button @click=\"openWebsite\">\n                  <FeatherIcon name=\"link\" class=\"h-4 w-4\" />\n                </Button>\n                <Button\n                  v-if=\"canDelete\"\n                  :label=\"__('Delete')\"\n                  theme=\"red\"\n                  size=\"sm\"\n                  iconLeft=\"trash-2\"\n                  @click=\"deleteOrganization\"\n                />\n              </div>\n              <ErrorMessage :message=\"__(error)\" />\n            </div>\n          </div>\n        </div>\n      </template>\n    </FileUploader>\n    <Tabs as=\"div\" v-model=\"tabIndex\" :tabs=\"tabs\" class=\"overflow-auto\">\n      <TabList class=\"!px-4\" v-slot=\"{ tab, selected }\">\n        <button\n          v-if=\"tab.name !== 'Details'\"\n          class=\"group flex items-center gap-2 border-b border-transparent py-2.5 text-base text-ink-gray-5 duration-300 ease-in-out hover:border-outline-gray-3 hover:text-ink-gray-9\"\n          :class=\"{ 'text-ink-gray-9': selected }\"\n        >\n          <component v-if=\"tab.icon\" :is=\"tab.icon\" class=\"h-5\" />\n          {{ __(tab.label) }}\n          <Badge\n            class=\"group-hover:bg-surface-gray-7\"\n            :class=\"[selected ? 'bg-surface-gray-7' : 'bg-gray-600']\"\n            variant=\"solid\"\n            theme=\"gray\"\n            size=\"sm\"\n          >\n            {{ tab.count }}\n          </Badge>\n        </button>\n      </TabList>\n      <TabPanel v-slot=\"{ tab }\">\n        <div v-if=\"tab.name == 'Details'\">\n          <div\n            v-if=\"sections.data\"\n            class=\"flex flex-1 flex-col justify-between overflow-hidden\"\n          >\n            <SidePanelLayout\n              :sections=\"sections.data\"\n              doctype=\"CRM Organization\"\n              :docname=\"organization.doc.name\"\n              @reload=\"sections.reload\"\n            />\n          </div>\n        </div>\n        <DealsListView\n          class=\"mt-4\"\n          v-if=\"tab.label === 'Deals' && rows.length\"\n          :rows=\"rows\"\n          :columns=\"columns\"\n          :options=\"{ selectable: false, showTooltip: false }\"\n        />\n        <ContactsListView\n          class=\"mt-4\"\n          v-if=\"tab.label === 'Contacts' && rows.length\"\n          :rows=\"rows\"\n          :columns=\"columns\"\n          :options=\"{ selectable: false, showTooltip: false }\"\n        />\n        <div\n          v-if=\"!rows.length && tab.name !== 'Details'\"\n          class=\"grid flex-1 place-items-center text-xl font-medium text-ink-gray-4\"\n        >\n          <div class=\"flex flex-col items-center justify-center space-y-3\">\n            <component :is=\"tab.icon\" class=\"!h-10 !w-10\" />\n            <div>{{ __('No {0} Found', [__(tab.label)]) }}</div>\n          </div>\n        </div>\n      </TabPanel>\n    </Tabs>\n  </div>\n</template>\n\n<script setup>\nimport SidePanelLayout from '@/components/SidePanelLayout.vue'\nimport Icon from '@/components/Icon.vue'\nimport LayoutHeader from '@/components/LayoutHeader.vue'\nimport DealsListView from '@/components/ListViews/DealsListView.vue'\nimport ContactsListView from '@/components/ListViews/ContactsListView.vue'\nimport DetailsIcon from '@/components/Icons/DetailsIcon.vue'\nimport CameraIcon from '@/components/Icons/CameraIcon.vue'\nimport DealsIcon from '@/components/Icons/DealsIcon.vue'\nimport ContactsIcon from '@/components/Icons/ContactsIcon.vue'\nimport { showAddressModal, addressProps } from '@/composables/modals'\nimport { useDocument } from '@/data/document'\nimport { getSettings } from '@/stores/settings'\nimport { getMeta } from '@/stores/meta'\nimport { globalStore } from '@/stores/global'\nimport { usersStore } from '@/stores/users'\nimport { statusesStore } from '@/stores/statuses'\nimport { getView } from '@/utils/view'\nimport {\n  formatDate,\n  timeAgo,\n  validateIsImageFile,\n  openWebsite as openExternalWebsite,\n} from '@/utils'\nimport {\n  Breadcrumbs,\n  Avatar,\n  FileUploader,\n  Dropdown,\n  Tabs,\n  TabList,\n  TabPanel,\n  call,\n  createListResource,\n  usePageMeta,\n  createResource,\n  toast,\n} from 'frappe-ui'\nimport { h, computed, ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst props = defineProps({\n  organizationId: {\n    type: String,\n    required: true,\n  },\n})\n\nconst { brand } = getSettings()\nconst { getUser } = usersStore()\nconst { $dialog } = globalStore()\nconst { getDealStatus } = statusesStore()\nconst { doctypeMeta } = getMeta('CRM Organization')\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst { document: organization, permissions } = useDocument(\n  'CRM Organization',\n  props.organizationId,\n)\n\nconst canDelete = computed(() => permissions.data?.permissions?.delete || false)\n\nconst breadcrumbs = computed(() => {\n  let items = [{ label: __('Organizations'), route: { name: 'Organizations' } }]\n\n  if (route.query.view || route.query.viewType) {\n    let view = getView(\n      route.query.view,\n      route.query.viewType,\n      'CRM Organization',\n    )\n    if (view) {\n      items.push({\n        label: __(view.label),\n        icon: view.icon,\n        route: {\n          name: 'Organizations',\n          params: { viewType: route.query.viewType },\n          query: { view: route.query.view },\n        },\n      })\n    }\n  }\n\n  items.push({\n    label: title.value,\n    route: {\n      name: 'Organization',\n      params: { organizationId: props.organizationId },\n    },\n  })\n  return items\n})\n\nconst title = computed(() => {\n  let t = doctypeMeta['CRM Organization']?.title_field || 'name'\n  return organization.doc?.[t] || props.organizationId\n})\n\nusePageMeta(() => {\n  return {\n    title: title.value,\n    icon: brand.favicon,\n  }\n})\n\nasync function changeOrganizationImage(file) {\n  await call('frappe.client.set_value', {\n    doctype: 'CRM Organization',\n    name: props.organizationId,\n    fieldname: 'organization_logo',\n    value: file?.file_url || '',\n  })\n  organization.reload()\n}\n\nasync function deleteOrganization() {\n  $dialog({\n    title: __('Delete organization'),\n    message: __('Are you sure you want to delete this organization?'),\n    actions: [\n      {\n        label: __('Delete'),\n        theme: 'red',\n        variant: 'solid',\n        async onClick(close) {\n          await call('frappe.client.delete', {\n            doctype: 'CRM Organization',\n            name: props.organizationId,\n          })\n          close()\n          router.push({ name: 'Organizations' })\n        },\n      },\n    ],\n  })\n}\n\nfunction openWebsite() {\n  if (!organization.doc.website) {\n    toast.error(__('No website found'))\n    return\n  }\n\n  openExternalWebsite(organization.doc.website)\n}\n\nconst sections = createResource({\n  url: 'crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_sidepanel_sections',\n  cache: ['sidePanelSections', 'CRM Organization'],\n  params: { doctype: 'CRM Organization' },\n  auto: true,\n  transform: (data) => getParsedSections(data),\n})\n\nfunction getParsedSections(_sections) {\n  return _sections.map((section) => {\n    section.columns = section.columns.map((column) => {\n      column.fields = column.fields.map((field) => {\n        if (field.fieldname === 'address') {\n          return {\n            ...field,\n            create: (value, close) => {\n              openAddressModal()\n              close()\n            },\n            edit: (address) => openAddressModal(address),\n          }\n        } else {\n          return field\n        }\n      })\n      return column\n    })\n    return section\n  })\n}\n\nconst tabIndex = ref(0)\nconst tabs = [\n  {\n    name: 'Details',\n    label: __('Details'),\n    icon: DetailsIcon,\n  },\n  {\n    name: 'Deals',\n    label: __('Deals'),\n    icon: h(DealsIcon, { class: 'h-4 w-4' }),\n    count: computed(() => deals.data?.length),\n  },\n  {\n    name: 'Contacts',\n    label: __('Contacts'),\n    icon: h(ContactsIcon, { class: 'h-4 w-4' }),\n    count: computed(() => contacts.data?.length),\n  },\n]\n\nconst deals = createListResource({\n  type: 'list',\n  doctype: 'CRM Deal',\n  cache: ['deals', props.organizationId],\n  fields: [\n    'name',\n    'organization',\n    'currency',\n    'annual_revenue',\n    'status',\n    'email',\n    'mobile_no',\n    'deal_owner',\n    'modified',\n  ],\n  filters: {\n    organization: props.organizationId,\n  },\n  orderBy: 'modified desc',\n  pageLength: 20,\n  auto: true,\n})\n\nconst contacts = createListResource({\n  type: 'list',\n  doctype: 'Contact',\n  cache: ['contacts', props.organizationId],\n  fields: [\n    'name',\n    'full_name',\n    'image',\n    'email_id',\n    'mobile_no',\n    'company_name',\n    'modified',\n  ],\n  filters: {\n    company_name: props.organizationId,\n  },\n  orderBy: 'modified desc',\n  pageLength: 20,\n  auto: true,\n})\n\nconst rows = computed(() => {\n  let list = []\n  list = !tabIndex.value ? deals : contacts\n\n  if (!list.data) return []\n\n  return list.data.map((row) => {\n    return !tabIndex.value ? getDealRowObject(row) : getContactRowObject(row)\n  })\n})\n\nconst { getFormattedCurrency } = getMeta('CRM Deal')\n\nconst columns = computed(() => {\n  return tabIndex.value === 0 ? dealColumns : contactColumns\n})\n\nfunction getDealRowObject(deal) {\n  return {\n    name: deal.name,\n    organization: {\n      label: deal.organization,\n      logo: organization.doc?.organization_logo,\n    },\n    annual_revenue: getFormattedCurrency('annual_revenue', deal),\n    status: {\n      label: deal.status,\n      color: getDealStatus(deal.status)?.color,\n    },\n    email: deal.email,\n    mobile_no: deal.mobile_no,\n    deal_owner: {\n      label: deal.deal_owner && getUser(deal.deal_owner).full_name,\n      ...(deal.deal_owner && getUser(deal.deal_owner)),\n    },\n    modified: {\n      label: formatDate(deal.modified),\n      timeAgo: __(timeAgo(deal.modified)),\n    },\n  }\n}\n\nfunction getContactRowObject(contact) {\n  return {\n    name: contact.name,\n    full_name: {\n      label: contact.full_name,\n      image_label: contact.full_name,\n      image: contact.image,\n    },\n    email: contact.email_id,\n    mobile_no: contact.mobile_no,\n    company_name: {\n      label: contact.company_name,\n      logo: organization.doc?.organization_logo,\n    },\n    modified: {\n      label: formatDate(contact.modified),\n      timeAgo: __(timeAgo(contact.modified)),\n    },\n  }\n}\n\nconst dealColumns = [\n  {\n    label: __('Organization'),\n    key: 'organization',\n    width: '11rem',\n  },\n  {\n    label: __('Amount'),\n    key: 'annual_revenue',\n    align: 'right',\n    width: '9rem',\n  },\n  {\n    label: __('Status'),\n    key: 'status',\n    width: '10rem',\n  },\n  {\n    label: __('Email'),\n    key: 'email',\n    width: '12rem',\n  },\n  {\n    label: __('Mobile no'),\n    key: 'mobile_no',\n    width: '11rem',\n  },\n  {\n    label: __('Deal owner'),\n    key: 'deal_owner',\n    width: '10rem',\n  },\n  {\n    label: __('Last modified'),\n    key: 'modified',\n    width: '8rem',\n  },\n]\n\nconst contactColumns = [\n  {\n    label: __('Name'),\n    key: 'full_name',\n    width: '17rem',\n  },\n  {\n    label: __('Email'),\n    key: 'email',\n    width: '12rem',\n  },\n  {\n    label: __('Phone'),\n    key: 'mobile_no',\n    width: '12rem',\n  },\n  {\n    label: __('Organization'),\n    key: 'company_name',\n    width: '12rem',\n  },\n  {\n    label: __('Last modified'),\n    key: 'modified',\n    width: '8rem',\n  },\n]\n\nfunction openAddressModal(_address) {\n  showAddressModal.value = true\n  addressProps.value = {\n    doctype: 'Address',\n    address: _address,\n  }\n}\n</script>\n"],"names":["props","__props","brand","getSettings","getUser","usersStore","$dialog","globalStore","getDealStatus","statusesStore","doctypeMeta","getMeta","route","useRoute","router","useRouter","organization","permissions","useDocument","canDelete","computed","_b","_a","breadcrumbs","items","view","getView","title","t","usePageMeta","changeOrganizationImage","file","call","deleteOrganization","close","openWebsite","toast","openExternalWebsite","sections","createResource","data","getParsedSections","_sections","section","column","field","value","openAddressModal","address","tabIndex","ref","tabs","DetailsIcon","h","DealsIcon","deals","ContactsIcon","contacts","createListResource","rows","list","row","getContactRowObject","getDealRowObject","getFormattedCurrency","columns","dealColumns","contactColumns","deal","formatDate","timeAgo","contact","_address","showAddressModal","addressProps","_unref","_createBlock","LayoutHeader","_createElementVNode","_hoisted_1","_createVNode","Breadcrumbs","_withCtx","item","Icon","_openBlock","_createElementBlock","_hoisted_2","FileUploader","validateIsImageFile","openFileSelector","error","_hoisted_3","_hoisted_4","_hoisted_5","Avatar","_resolveDynamicComponent","Dropdown","_mergeProps","__","_hoisted_6","CameraIcon","_hoisted_7","_hoisted_8","_toDisplayString","_hoisted_9","_component_Button","_component_FeatherIcon","_component_ErrorMessage","Tabs","$event","TabList","tab","selected","_normalizeClass","_createTextVNode","_component_Badge","TabPanel","_hoisted_10","_hoisted_11","SidePanelLayout","DealsListView","ContactsListView","_hoisted_12","_hoisted_13"],"mappings":"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"}