{"version":3,"file":"DeleteLinkedDocModal-fbcb8e64.js","sources":["../../../../frontend/src/components/ListViews/ListRows.vue","../../../../frontend/src/components/ListViews/LinkedDocsListView.vue","../../../../frontend/src/components/DeleteLinkedDocModal.vue"],"sourcesContent":["<template>\n  <div class=\"mx-3 mt-2 h-full overflow-y-auto sm:mx-5\" v-if=\"showGroupedRows\">\n    <div v-for=\"group in reactivieRows\" :key=\"group.group\">\n      <ListGroupHeader :group=\"group\">\n        <div\n          class=\"my-2 flex items-center gap-2 text-base font-medium text-ink-gray-8\"\n        >\n          <div>{{ __(group.label) }} -</div>\n          <div class=\"flex items-center gap-1\">\n            <component v-if=\"group.icon\" :is=\"group.icon\" />\n            <div v-if=\"group.group == ' '\" class=\"text-ink-gray-4\">\n              {{ __('Empty') }}\n            </div>\n            <div v-else>{{ group.group }}</div>\n          </div>\n        </div>\n      </ListGroupHeader>\n      <ListGroupRows :group=\"group\">\n        <ListRow\n          v-for=\"row in group.rows\"\n          :key=\"row.name\"\n          v-slot=\"{ idx, column, item }\"\n          :row=\"row\"\n        >\n          <slot v-bind=\"{ idx, column, item, row }\" />\n        </ListRow>\n      </ListGroupRows>\n    </div>\n  </div>\n  <ListRows\n    v-else\n    ref=\"scrollContainer\"\n    class=\"mx-3 sm:mx-5\"\n    @scroll=\"handleScroll\"\n  >\n    <ListRow\n      v-for=\"row in reactivieRows\"\n      :key=\"row.name\"\n      v-slot=\"{ idx, column, item }\"\n      :row=\"row\"\n    >\n      <slot v-bind=\"{ idx, column, item, row }\" />\n    </ListRow>\n  </ListRows>\n</template>\n\n<script setup>\nimport { useStorage } from '@vueuse/core'\nimport { ListRows, ListRow, ListGroupHeader, ListGroupRows } from 'frappe-ui'\nimport { ref, computed, watch, onBeforeUnmount, onMounted } from 'vue'\n\nconst props = defineProps({\n  rows: {\n    type: Array,\n    required: true,\n  },\n  doctype: {\n    type: String,\n    default: 'CRM Lead',\n  },\n})\n\nconst reactivieRows = ref(props.rows)\n\nwatch(\n  () => props.rows,\n  (val) => (reactivieRows.value = val),\n)\n\nlet showGroupedRows = computed(() => {\n  return props.rows.every(\n    (row) => row.group && row.rows && Array.isArray(row.rows),\n  )\n})\n\nconst scrollPosition = useStorage(`scrollPosition${props.doctype}`, 0)\nconst scrollContainer = ref(null)\n\nconst handleScroll = () => {\n  if (scrollContainer.value) {\n    scrollPosition.value = scrollContainer.value.$el.scrollTop\n  }\n}\n\nonBeforeUnmount(() => {\n  if (scrollContainer.value) {\n    scrollContainer.value.$el.removeEventListener('scroll', handleScroll)\n  }\n})\n\nonMounted(() => {\n  if (scrollContainer.value) {\n    scrollContainer.value.$el.addEventListener('scroll', handleScroll)\n    scrollContainer.value.$el.scrollTop = scrollPosition.value\n  }\n})\n</script>\n","<template>\n  <ListView\n    :class=\"$attrs.class\"\n    :columns=\"columns\"\n    :rows=\"rows\"\n    :options=\"{\n      selectable: true,\n      showTooltip: true,\n      resizeColumn: true,\n    }\"\n    row-key=\"reference_docname\"\n    @update:selections=\"(selections) => emit('selectionsChanged', selections)\"\n    ref=\"listViewRef\"\n  >\n    <ListHeader @columnWidthUpdated=\"emit('columnWidthUpdated')\">\n      <ListHeaderItem\n        v-for=\"column in columns\"\n        :key=\"column.key\"\n        :item=\"column\"\n        @columnWidthUpdated=\"emit('columnWidthUpdated', column)\"\n      >\n      </ListHeaderItem>\n    </ListHeader>\n    <div class=\"*:mx-0 *:sm:mx-0\">\n      <ListRows :rows=\"rows\" v-slot=\"{ idx, column, item, row }\">\n        <ListRowItem\n          :item=\"item\"\n          @click=\"listViewRef.toggleRow(row['reference_docname'])\"\n          class=\"!w-full\"\n        >\n          <template #default=\"{ label }\">\n            <div\n              v-if=\"column.key === 'title'\"\n              class=\"truncate text-base flex gap-2 w-full\"\n            >\n              <span class=\"max-w-[90%] truncate\">\n                {{ label }}\n              </span>\n              <FeatherIcon\n                name=\"external-link\"\n                class=\"h-4 w-4 cursor-pointer\"\n                @click.stop=\"viewLinkedDoc(row)\"\n              />\n            </div>\n            <span\n              v-if=\"column.key === 'reference_doctype'\"\n              class=\"truncate text-base flex gap-2\"\n            >\n              {{ getDoctypeName(row.reference_doctype) }}\n            </span>\n          </template>\n        </ListRowItem>\n      </ListRows>\n    </div>\n  </ListView>\n</template>\n\n<script setup>\nimport ListRows from '@/components/ListViews/ListRows.vue'\nimport { ListView, ListHeader, ListHeaderItem, ListRowItem } from 'frappe-ui'\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  rows: {\n    type: Array,\n    required: true,\n  },\n  columns: {\n    type: Array,\n    required: true,\n  },\n  linkedDocsResource: {\n    type: Object,\n    required: true,\n  },\n  unlinkLinkedDoc: {\n    type: Function,\n    required: true,\n  },\n  options: {\n    type: Object,\n    default: () => ({\n      selectable: true,\n      showTooltip: true,\n      resizeColumn: false,\n      totalCount: 0,\n      rowCount: 0,\n    }),\n  },\n})\nconst emit = defineEmits([\n  'loadMore',\n  'updatePageCount',\n  'columnWidthUpdated',\n  'applyFilter',\n  'applyLikeFilter',\n  'likeDoc',\n  'selectionsChanged',\n])\n\nconst listViewRef = ref(null)\n\nconst viewLinkedDoc = (doc) => {\n  let page = ''\n  let id = ''\n  let openDesk = false\n  switch (doc.reference_doctype) {\n    case 'CRM Lead':\n      page = 'leads'\n      id = doc.reference_docname\n      break\n    case 'CRM Call Log':\n      page = 'call-logs'\n      id = `view?open=${doc.reference_docname}`\n      break\n    case 'CRM Task':\n      page = 'tasks'\n      id = `view?open=${doc.reference_docname}`\n      break\n    case 'Contact':\n      page = 'contacts'\n      id = doc.reference_docname\n      break\n    case 'CRM Organization':\n      page = 'organizations'\n      id = doc.reference_docname\n      break\n    case 'CRM Notification':\n      page = 'crm-notification'\n      id = doc.reference_docname\n      openDesk = true\n      break\n    case 'FCRM Note':\n      page = 'notes'\n      id = `view?open=${doc.reference_docname}`\n      break\n    default:\n      break\n  }\n  let base = '/crm'\n  if (openDesk) {\n    base = '/app'\n  }\n  window.open(`${base}/${page}/${id}`)\n}\n\nconst getDoctypeName = (doctype) => {\n  return doctype.replace(/^(CRM|FCRM)\\s*/, '')\n}\n</script>\n","<template>\n  <Dialog v-model=\"show\" :options=\"{ size: 'xl' }\">\n    <template #body v-if=\"!confirmDeleteInfo.show\">\n      <div class=\"bg-surface-modal px-4 pb-6 pt-5 sm:px-6\">\n        <div class=\"mb-6 flex items-center justify-between\">\n          <div>\n            <h3 class=\"text-2xl leading-6 text-ink-gray-9 font-semibold\">\n              {{\n                linkedDocs?.length == 0\n                  ? __('Delete')\n                  : __('Delete or unlink linked documents')\n              }}\n            </h3>\n          </div>\n          <div class=\"flex items-center gap-1\">\n            <Button variant=\"ghost\" icon=\"x\" @click=\"show = false\" />\n          </div>\n        </div>\n        <div>\n          <div v-if=\"linkedDocs?.length > 0\">\n            <span class=\"text-ink-gray-5 text-base\">\n              {{\n                __(\n                  'Delete or unlink these linked documents before deleting this document',\n                )\n              }}\n            </span>\n            <LinkedDocsListView\n              class=\"mt-4\"\n              :rows=\"linkedDocs\"\n              :columns=\"[\n                {\n                  label: 'Document',\n                  key: 'title',\n                  width: '19rem',\n                },\n                {\n                  label: 'Master',\n                  key: 'reference_doctype',\n                  width: '12rem',\n                },\n              ]\"\n              @selectionsChanged=\"\n                (selections) => viewControls.updateSelections(selections)\n              \"\n              :linkedDocsResource=\"linkedDocsResource\"\n              :unlinkLinkedDoc=\"unlinkLinkedDoc\"\n            />\n          </div>\n          <div v-if=\"linkedDocs?.length == 0\" class=\"text-ink-gray-5 text-base\">\n            {{\n              __('Are you sure you want to delete {0} - {1}?', [\n                props.doctype,\n                props.docname,\n              ])\n            }}\n          </div>\n        </div>\n      </div>\n      <div class=\"px-4 pb-7 pt-0 sm:px-6\">\n        <div class=\"flex flex-row-reverse gap-2\">\n          <Button\n            v-if=\"linkedDocs?.length > 0\"\n            :label=\"\n              viewControls?.selections?.length == 0\n                ? __('Delete all')\n                : __('Delete {0} item(s)', [viewControls?.selections?.length])\n            \"\n            theme=\"red\"\n            variant=\"solid\"\n            icon-left=\"trash-2\"\n            @click=\"confirmDelete()\"\n          />\n          <Button\n            v-if=\"linkedDocs?.length > 0\"\n            :label=\"\n              viewControls?.selections?.length == 0\n                ? __('Unlink all')\n                : __('Unlink {0} item(s)', [viewControls?.selections?.length])\n            \"\n            variant=\"subtle\"\n            theme=\"gray\"\n            icon-left=\"unlock\"\n            @click=\"confirmUnlink()\"\n          />\n          <Button\n            v-if=\"linkedDocs?.length == 0\"\n            variant=\"solid\"\n            icon-left=\"trash-2\"\n            :label=\"__('Delete')\"\n            :loading=\"isDealCreating\"\n            @click=\"deleteDoc()\"\n            theme=\"red\"\n          />\n        </div>\n      </div>\n    </template>\n    <template #body v-if=\"confirmDeleteInfo.show\">\n      <div class=\"bg-surface-modal px-4 pb-6 pt-5 sm:px-6\">\n        <div class=\"mb-6 flex items-center justify-between\">\n          <div>\n            <h3 class=\"text-2xl leading-6 text-ink-gray-9 font-semibold\">\n              {{ confirmDeleteInfo.title }}\n            </h3>\n          </div>\n          <div class=\"flex items-center gap-1\">\n            <Button variant=\"ghost\" icon=\"x\" @click=\"show = false\" />\n          </div>\n        </div>\n        <div class=\"text-ink-gray-5 text-base\">\n          {{ confirmDeleteInfo.message }}\n        </div>\n        <div class=\"flex justify-end gap-2 mt-6\">\n          <Button variant=\"ghost\" @click=\"cancel()\">\n            {{ __('Cancel') }}\n          </Button>\n          <Button\n            variant=\"solid\"\n            :label=\"confirmDeleteInfo.title\"\n            @click=\"removeDocLinks()\"\n            theme=\"red\"\n          />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { createResource, call } from 'frappe-ui'\nimport { useRouter } from 'vue-router'\nimport { computed, ref } from 'vue'\n\nconst show = defineModel()\nconst router = useRouter()\nconst props = defineProps({\n  name: {\n    type: String,\n    required: true,\n  },\n  doctype: {\n    type: String,\n    required: true,\n  },\n  docname: {\n    type: String,\n    required: true,\n  },\n  reload: {\n    type: Function,\n  },\n})\nconst viewControls = ref({\n  selections: [],\n  updateSelections: (selections) => {\n    viewControls.value.selections = Array.from(selections || [])\n  },\n})\n\nconst confirmDeleteInfo = ref({\n  show: false,\n  title: '',\n})\n\nconst linkedDocsResource = createResource({\n  url: 'crm.api.doc.get_linked_docs_of_document',\n  params: {\n    doctype: props.doctype,\n    docname: props.docname,\n  },\n  auto: true,\n  validate(params) {\n    if (!params?.doctype || !params?.docname) {\n      return false\n    }\n  },\n})\n\nconst linkedDocs = computed(() => {\n  return (\n    linkedDocsResource.data?.map((doc) => ({\n      id: doc.reference_docname,\n      ...doc,\n    })) || []\n  )\n})\n\nconst cancel = () => {\n  confirmDeleteInfo.value.show = false\n  viewControls.value.updateSelections([])\n}\n\nconst unlinkLinkedDoc = (doc) => {\n  let selectedDocs = []\n  if (viewControls.value.selections.length > 0) {\n    Array.from(viewControls.value.selections).forEach((selection) => {\n      const docData = linkedDocs.value.find((d) => d.id == selection)\n      selectedDocs.push({\n        doctype: docData.reference_doctype,\n        docname: docData.reference_docname,\n      })\n    })\n  } else {\n    selectedDocs = linkedDocs.value.map((doc) => ({\n      doctype: doc.reference_doctype,\n      docname: doc.reference_docname,\n    }))\n  }\n\n  call('crm.api.doc.remove_linked_doc_reference', {\n    items: selectedDocs,\n    remove_contact: props.doctype == 'Contact',\n    delete: doc.delete,\n  }).then(() => {\n    linkedDocsResource.reload()\n    confirmDeleteInfo.value = {\n      show: false,\n      title: '',\n    }\n  })\n}\n\nconst confirmDelete = () => {\n  const items =\n    viewControls.value.selections.length == 0\n      ? 'all'\n      : viewControls.value.selections.length\n  confirmDeleteInfo.value = {\n    show: true,\n    title: __('Delete linked item'),\n    message: __('Are you sure you want to delete {0} linked item(s)?', [items]),\n    delete: true,\n  }\n}\n\nconst confirmUnlink = () => {\n  const items =\n    viewControls.value.selections.length == 0\n      ? 'all'\n      : viewControls.value.selections.length\n  confirmDeleteInfo.value = {\n    show: true,\n    title: __('Unlink linked item'),\n    message: __('Are you sure you want to unlink {0} linked item(s)?', [items]),\n    delete: false,\n  }\n}\n\nconst removeDocLinks = () => {\n  unlinkLinkedDoc({\n    reference_doctype: props.doctype,\n    reference_docname: props.docname,\n    delete: confirmDeleteInfo.value.delete,\n  })\n  viewControls.value.updateSelections([])\n}\n\nconst deleteDoc = async () => {\n  await call('frappe.client.delete', {\n    doctype: props.doctype,\n    name: props.docname,\n  })\n  router.push({ name: props.name })\n  props?.reload?.()\n}\n</script>\n"],"names":["props","__props","reactivieRows","ref","watch","val","showGroupedRows","computed","row","scrollPosition","useStorage","scrollContainer","handleScroll","onBeforeUnmount","onMounted","_unref","_openBlock","_createElementBlock","_hoisted_1","_Fragment","_renderList","group","_createVNode","ListGroupHeader","_createElementVNode","_hoisted_2","__","_hoisted_3","_createBlock","_resolveDynamicComponent","_hoisted_4","_toDisplayString","_hoisted_5","ListGroupRows","ListRow","_withCtx","idx","column","item","_renderSlot","_ctx","_mergeProps","ListRows","emit","__emit","listViewRef","viewLinkedDoc","doc","page","id","openDesk","base","getDoctypeName","doctype","ListView","_normalizeClass","$attrs","_cache","selections","ListHeader","ListHeaderItem","$event","ListRowItem","label","_component_FeatherIcon","_withModifiers","show","_useModel","router","useRouter","viewControls","confirmDeleteInfo","linkedDocsResource","createResource","params","linkedDocs","_a","cancel","unlinkLinkedDoc","selectedDocs","selection","docData","d","call","confirmDelete","items","confirmUnlink","removeDocLinks","deleteDoc","_component_Dialog","_component_Button","_b","_hoisted_6","_component_LinkedDocsListView","_c","_hoisted_7","_hoisted_8","_hoisted_9","_d","_f","_e","_h","_g","_i","_k","_j","_m","_l","_n","isDealCreating","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_hoisted_15"],"mappings":"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"}