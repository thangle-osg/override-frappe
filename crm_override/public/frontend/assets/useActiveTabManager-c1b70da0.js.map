{"version":3,"file":"useActiveTabManager-c1b70da0.js","sources":["../../../../frontend/node_modules/@headlessui/vue/dist/utils/get-text-value.js","../../../../frontend/node_modules/@headlessui/vue/dist/hooks/use-text-value.js","../../../../frontend/node_modules/@headlessui/vue/dist/components/menu/menu.js","../../../../frontend/node_modules/frappe-ui/src/components/CircularProgressBar/CircularProgressBar.vue","../../../../frontend/src/components/Icons/LoadingIndicator.vue","../../../../frontend/src/components/Icons/ActivityIcon.vue","../../../../frontend/src/components/Icons/AttachmentIcon.vue","../../../../frontend/src/components/frappe-ui/Dropdown.vue","../../../../frontend/src/components/MultiActionButton.vue","../../../../frontend/src/components/Activities/ActivityHeader.vue","../../../../frontend/src/components/Icons/ReplyIcon.vue","../../../../frontend/src/components/Icons/ReplyAllIcon.vue","../../../../frontend/node_modules/mime/dist/types/other.js","../../../../frontend/node_modules/mime/dist/types/standard.js","../../../../frontend/node_modules/mime/dist/src/Mime.js","../../../../frontend/node_modules/mime/dist/src/index.js","../../../../frontend/src/components/Icons/FileTypeIcon.vue","../../../../frontend/src/components/Icons/FileImageIcon.vue","../../../../frontend/src/components/Icons/FileTextIcon.vue","../../../../frontend/src/components/Icons/FileSpreadsheetIcon.vue","../../../../frontend/src/components/Icons/FileIcon.vue","../../../../frontend/src/components/AttachmentItem.vue","../../../../frontend/src/components/Activities/EmailContent.vue","../../../../frontend/src/components/Activities/EmailArea.vue","../../../../frontend/src/components/Activities/CommentArea.vue","../../../../frontend/src/components/Icons/PlayIcon.vue","../../../../frontend/src/components/Icons/PauseIcon.vue","../../../../frontend/src/components/Icons/VolumnLowIcon.vue","../../../../frontend/src/components/Icons/VolumnHighIcon.vue","../../../../frontend/src/components/Icons/MuteIcon.vue","../../../../frontend/src/components/Icons/PlaybackSpeedIcon.vue","../../../../frontend/src/components/Activities/PlaybackSpeedOption.vue","../../../../frontend/src/components/Activities/AudioPlayer.vue","../../../../frontend/src/components/Activities/CallArea.vue","../../../../frontend/src/components/Activities/NoteArea.vue","../../../../frontend/src/components/Icons/DotIcon.vue","../../../../frontend/src/components/Activities/TaskArea.vue","../../../../frontend/src/components/Icons/FileAudioIcon.vue","../../../../frontend/src/components/Icons/FileVideoIcon.vue","../../../../frontend/src/components/Activities/AttachmentArea.vue","../../../../frontend/src/components/Modals/DataFieldsModal.vue","../../../../frontend/src/components/Activities/DataFields.vue","../../../../frontend/src/components/Icons/DoubleCheckIcon.vue","../../../../frontend/src/components/Icons/DocumentIcon.vue","../../../../frontend/src/components/Icons/ReactIcon.vue","../../../../frontend/src/components/Activities/WhatsAppArea.vue","../../../../frontend/src/components/Icons/SmileIcon.vue","../../../../frontend/src/components/Activities/WhatsAppBox.vue","../../../../frontend/src/components/Icons/SelectIcon.vue","../../../../frontend/src/components/Icons/MissedCallIcon.vue","../../../../frontend/src/components/Icons/DeclinedCallIcon.vue","../../../../frontend/src/components/Icons/InboundCallIcon.vue","../../../../frontend/src/components/Icons/OutboundCallIcon.vue","../../../../frontend/src/components/Controls/MultiSelectEmailInput.vue","../../../../frontend/src/components/Modals/EmailTemplateSelectorModal.vue","../../../../frontend/src/components/EmailEditor.vue","../../../../frontend/src/components/CommentBox.vue","../../../../frontend/src/components/CommunicationArea.vue","../../../../frontend/src/components/Modals/WhatsappTemplateSelectorModal.vue","../../../../frontend/src/components/Activities/AllModals.vue","../../../../frontend/src/components/FilesUploader/FilesUploaderArea.vue","../../../../frontend/src/components/FilesUploader/filesUploaderHandler.ts","../../../../frontend/src/components/FilesUploader/FilesUploader.vue","../../../../frontend/src/components/Activities/Activities.vue","../../../../frontend/src/components/AssignToBody.vue","../../../../frontend/src/components/AssignTo.vue","../../../../frontend/src/components/SLASection.vue","../../../../frontend/src/composables/useActiveTabManager.js"],"sourcesContent":["let a=/([\\u2700-\\u27BF]|[\\uE000-\\uF8FF]|\\uD83C[\\uDC00-\\uDFFF]|\\uD83D[\\uDC00-\\uDFFF]|[\\u2011-\\u26FF]|\\uD83E[\\uDD10-\\uDDFF])/g;function o(e){var r,i;let n=(r=e.innerText)!=null?r:\"\",t=e.cloneNode(!0);if(!(t instanceof HTMLElement))return n;let u=!1;for(let f of t.querySelectorAll('[hidden],[aria-hidden],[role=\"img\"]'))f.remove(),u=!0;let l=u?(i=t.innerText)!=null?i:\"\":n;return a.test(l)&&(l=l.replace(a,\"\")),l}function g(e){let n=e.getAttribute(\"aria-label\");if(typeof n==\"string\")return n.trim();let t=e.getAttribute(\"aria-labelledby\");if(t){let u=t.split(\" \").map(l=>{let r=document.getElementById(l);if(r){let i=r.getAttribute(\"aria-label\");return typeof i==\"string\"?i.trim():o(r).trim()}return null}).filter(Boolean);if(u.length>0)return u.join(\", \")}return o(e).trim()}export{g as getTextValue};\n","import{ref as n}from\"vue\";import{dom as o}from'../utils/dom.js';import{getTextValue as i}from'../utils/get-text-value.js';function p(a){let t=n(\"\"),r=n(\"\");return()=>{let e=o(a);if(!e)return\"\";let l=e.innerText;if(t.value===l)return r.value;let u=i(e).trim().toLowerCase();return t.value=l,r.value=u,u}}export{p as useTextValue};\n","import{computed as y,defineComponent as T,inject as K,nextTick as x,onMounted as N,onUnmounted as j,provide as L,ref as R,watchEffect as B}from\"vue\";import{useId as w}from'../../hooks/use-id.js';import{useOutsideClick as U}from'../../hooks/use-outside-click.js';import{useResolveButtonType as $}from'../../hooks/use-resolve-button-type.js';import{useTextValue as V}from'../../hooks/use-text-value.js';import{useTrackedPointer as H}from'../../hooks/use-tracked-pointer.js';import{useTreeWalker as Q}from'../../hooks/use-tree-walker.js';import{State as D,useOpenClosed as _,useOpenClosedProvider as q}from'../../internal/open-closed.js';import{Keys as c}from'../../keyboard.js';import{calculateActiveIndex as W,Focus as S}from'../../utils/calculate-active-index.js';import{dom as m}from'../../utils/dom.js';import{Focus as E,FocusableMode as J,focusFrom as z,isFocusableElement as G,restoreFocusIfNecessary as k,sortByDomNode as X}from'../../utils/focus-management.js';import{match as Y}from'../../utils/match.js';import{Features as F,render as P}from'../../utils/render.js';var Z=(i=>(i[i.Open=0]=\"Open\",i[i.Closed=1]=\"Closed\",i))(Z||{}),ee=(i=>(i[i.Pointer=0]=\"Pointer\",i[i.Other=1]=\"Other\",i))(ee||{});function te(o){requestAnimationFrame(()=>requestAnimationFrame(o))}let A=Symbol(\"MenuContext\");function O(o){let M=K(A,null);if(M===null){let i=new Error(`<${o} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(i,O),i}return M}let ge=T({name:\"Menu\",props:{as:{type:[Object,String],default:\"template\"}},setup(o,{slots:M,attrs:i}){let I=R(1),p=R(null),e=R(null),r=R([]),f=R(\"\"),d=R(null),g=R(1);function b(t=a=>a){let a=d.value!==null?r.value[d.value]:null,n=X(t(r.value.slice()),v=>m(v.dataRef.domRef)),s=a?n.indexOf(a):null;return s===-1&&(s=null),{items:n,activeItemIndex:s}}let l={menuState:I,buttonRef:p,itemsRef:e,items:r,searchQuery:f,activeItemIndex:d,activationTrigger:g,closeMenu:()=>{I.value=1,d.value=null},openMenu:()=>I.value=0,goToItem(t,a,n){let s=b(),v=W(t===S.Specific?{focus:S.Specific,id:a}:{focus:t},{resolveItems:()=>s.items,resolveActiveIndex:()=>s.activeItemIndex,resolveId:u=>u.id,resolveDisabled:u=>u.dataRef.disabled});f.value=\"\",d.value=v,g.value=n!=null?n:1,r.value=s.items},search(t){let n=f.value!==\"\"?0:1;f.value+=t.toLowerCase();let v=(d.value!==null?r.value.slice(d.value+n).concat(r.value.slice(0,d.value+n)):r.value).find(h=>h.dataRef.textValue.startsWith(f.value)&&!h.dataRef.disabled),u=v?r.value.indexOf(v):-1;u===-1||u===d.value||(d.value=u,g.value=1)},clearSearch(){f.value=\"\"},registerItem(t,a){let n=b(s=>[...s,{id:t,dataRef:a}]);r.value=n.items,d.value=n.activeItemIndex,g.value=1},unregisterItem(t){let a=b(n=>{let s=n.findIndex(v=>v.id===t);return s!==-1&&n.splice(s,1),n});r.value=a.items,d.value=a.activeItemIndex,g.value=1}};return U([p,e],(t,a)=>{var n;l.closeMenu(),G(a,J.Loose)||(t.preventDefault(),(n=m(p))==null||n.focus())},y(()=>I.value===0)),L(A,l),q(y(()=>Y(I.value,{[0]:D.Open,[1]:D.Closed}))),()=>{let t={open:I.value===0,close:l.closeMenu};return P({ourProps:{},theirProps:o,slot:t,slots:M,attrs:i,name:\"Menu\"})}}}),Se=T({name:\"MenuButton\",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:\"button\"},id:{type:String,default:null}},setup(o,{attrs:M,slots:i,expose:I}){var b;let p=(b=o.id)!=null?b:`headlessui-menu-button-${w()}`,e=O(\"MenuButton\");I({el:e.buttonRef,$el:e.buttonRef});function r(l){switch(l.key){case c.Space:case c.Enter:case c.ArrowDown:l.preventDefault(),l.stopPropagation(),e.openMenu(),x(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(S.First)});break;case c.ArrowUp:l.preventDefault(),l.stopPropagation(),e.openMenu(),x(()=>{var t;(t=m(e.itemsRef))==null||t.focus({preventScroll:!0}),e.goToItem(S.Last)});break}}function f(l){switch(l.key){case c.Space:l.preventDefault();break}}function d(l){o.disabled||(e.menuState.value===0?(e.closeMenu(),x(()=>{var t;return(t=m(e.buttonRef))==null?void 0:t.focus({preventScroll:!0})})):(l.preventDefault(),e.openMenu(),te(()=>{var t;return(t=m(e.itemsRef))==null?void 0:t.focus({preventScroll:!0})})))}let g=$(y(()=>({as:o.as,type:M.type})),e.buttonRef);return()=>{var n;let l={open:e.menuState.value===0},{...t}=o,a={ref:e.buttonRef,id:p,type:g.value,\"aria-haspopup\":\"menu\",\"aria-controls\":(n=m(e.itemsRef))==null?void 0:n.id,\"aria-expanded\":e.menuState.value===0,onKeydown:r,onKeyup:f,onClick:d};return P({ourProps:a,theirProps:t,slot:l,attrs:M,slots:i,name:\"MenuButton\"})}}}),Me=T({name:\"MenuItems\",props:{as:{type:[Object,String],default:\"div\"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(o,{attrs:M,slots:i,expose:I}){var l;let p=(l=o.id)!=null?l:`headlessui-menu-items-${w()}`,e=O(\"MenuItems\"),r=R(null);I({el:e.itemsRef,$el:e.itemsRef}),Q({container:y(()=>m(e.itemsRef)),enabled:y(()=>e.menuState.value===0),accept(t){return t.getAttribute(\"role\")===\"menuitem\"?NodeFilter.FILTER_REJECT:t.hasAttribute(\"role\")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(t){t.setAttribute(\"role\",\"none\")}});function f(t){var a;switch(r.value&&clearTimeout(r.value),t.key){case c.Space:if(e.searchQuery.value!==\"\")return t.preventDefault(),t.stopPropagation(),e.search(t.key);case c.Enter:if(t.preventDefault(),t.stopPropagation(),e.activeItemIndex.value!==null){let s=e.items.value[e.activeItemIndex.value];(a=m(s.dataRef.domRef))==null||a.click()}e.closeMenu(),k(m(e.buttonRef));break;case c.ArrowDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(S.Next);case c.ArrowUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(S.Previous);case c.Home:case c.PageUp:return t.preventDefault(),t.stopPropagation(),e.goToItem(S.First);case c.End:case c.PageDown:return t.preventDefault(),t.stopPropagation(),e.goToItem(S.Last);case c.Escape:t.preventDefault(),t.stopPropagation(),e.closeMenu(),x(()=>{var n;return(n=m(e.buttonRef))==null?void 0:n.focus({preventScroll:!0})});break;case c.Tab:t.preventDefault(),t.stopPropagation(),e.closeMenu(),x(()=>z(m(e.buttonRef),t.shiftKey?E.Previous:E.Next));break;default:t.key.length===1&&(e.search(t.key),r.value=setTimeout(()=>e.clearSearch(),350));break}}function d(t){switch(t.key){case c.Space:t.preventDefault();break}}let g=_(),b=y(()=>g!==null?(g.value&D.Open)===D.Open:e.menuState.value===0);return()=>{var s,v;let t={open:e.menuState.value===0},{...a}=o,n={\"aria-activedescendant\":e.activeItemIndex.value===null||(s=e.items.value[e.activeItemIndex.value])==null?void 0:s.id,\"aria-labelledby\":(v=m(e.buttonRef))==null?void 0:v.id,id:p,onKeydown:f,onKeyup:d,role:\"menu\",tabIndex:0,ref:e.itemsRef};return P({ourProps:n,theirProps:a,slot:t,attrs:M,slots:i,features:F.RenderStrategy|F.Static,visible:b.value,name:\"MenuItems\"})}}}),be=T({name:\"MenuItem\",inheritAttrs:!1,props:{as:{type:[Object,String],default:\"template\"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(o,{slots:M,attrs:i,expose:I}){var v;let p=(v=o.id)!=null?v:`headlessui-menu-item-${w()}`,e=O(\"MenuItem\"),r=R(null);I({el:r,$el:r});let f=y(()=>e.activeItemIndex.value!==null?e.items.value[e.activeItemIndex.value].id===p:!1),d=V(r),g=y(()=>({disabled:o.disabled,get textValue(){return d()},domRef:r}));N(()=>e.registerItem(p,g)),j(()=>e.unregisterItem(p)),B(()=>{e.menuState.value===0&&f.value&&e.activationTrigger.value!==0&&x(()=>{var u,h;return(h=(u=m(r))==null?void 0:u.scrollIntoView)==null?void 0:h.call(u,{block:\"nearest\"})})});function b(u){if(o.disabled)return u.preventDefault();e.closeMenu(),k(m(e.buttonRef))}function l(){if(o.disabled)return e.goToItem(S.Nothing);e.goToItem(S.Specific,p)}let t=H();function a(u){t.update(u)}function n(u){t.wasMoved(u)&&(o.disabled||f.value||e.goToItem(S.Specific,p,0))}function s(u){t.wasMoved(u)&&(o.disabled||f.value&&e.goToItem(S.Nothing))}return()=>{let{disabled:u,...h}=o,C={active:f.value,disabled:u,close:e.closeMenu};return P({ourProps:{id:p,ref:r,role:\"menuitem\",tabIndex:u===!0?void 0:-1,\"aria-disabled\":u===!0?!0:void 0,onClick:b,onFocus:l,onPointerenter:a,onMouseenter:a,onPointermove:n,onMousemove:n,onPointerleave:s,onMouseleave:s},theirProps:{...i,...h},slot:C,attrs:i,slots:M,name:\"MenuItem\"})}}});export{ge as Menu,Se as MenuButton,be as MenuItem,Me as MenuItems};\n","<template>\n  <div\n    class=\"progressbar\"\n    role=\"progressbar\"\n    :class=\"{\n      completed: isCompleted,\n      fillOuter: variant === 'outline',\n    }\"\n  >\n    <div v-if=\"!isCompleted\">\n      <p v-if=\"!showPercentage\">{{ step }}</p>\n      <p v-else>{{ progress.toFixed(0) }}%</p>\n    </div>\n    <FeatherIcon v-else name=\"check\" class=\"check-icon\" />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { computed } from 'vue'\nimport FeatherIcon from '../FeatherIcon.vue'\nimport type { CircularProgressBarProps, Size, SizeProps } from './types'\n\nconst props = withDefaults(defineProps<CircularProgressBarProps>(), {\n  step: 1,\n  totalSteps: 4,\n  showPercentage: false,\n  theme: 'black',\n  size: 'md',\n  themeComplete: 'lightgreen',\n  variant: 'solid',\n})\n\n// predefined sizes for the circular progress bar\nconst sizeMap: Record<Size, SizeProps> = {\n  xs: {\n    ringSize: '30px',\n    ringBarWidth: '6px',\n    innerTextFontSize: props.showPercentage ? '8px' : '12px',\n    checkIconSize: '16px',\n  },\n  sm: {\n    ringSize: '42px',\n    ringBarWidth: '10px',\n    innerTextFontSize: props.showPercentage ? '12px' : '16px',\n    checkIconSize: '20px',\n  },\n  md: {\n    ringSize: '60px',\n    ringBarWidth: '14px',\n    innerTextFontSize: props.showPercentage ? '16px' : '20px',\n    checkIconSize: '24px',\n  },\n  lg: {\n    ringSize: '84px',\n    ringBarWidth: '18px',\n    innerTextFontSize: props.showPercentage ? '20px' : '24px',\n    checkIconSize: '40px',\n  },\n  xl: {\n    ringSize: '108px',\n    ringBarWidth: '22px',\n    innerTextFontSize: props.showPercentage ? '24px' : '28px',\n    checkIconSize: '48px',\n  },\n}\n\nconst size = computed(() => sizeMap[props.size] || sizeMap['md'])\n\ntype Theme = 'black' | 'red' | 'green' | 'blue' | 'orange'\ninterface ThemeProps {\n  primary: string\n  secondary: string\n}\n// predefined themes for the circular progress bar\nconst themeMap: Record<Theme, ThemeProps> = {\n  black: {\n    primary: '#333',\n    secondary: '#888',\n  },\n  red: {\n    primary: '#FF0000',\n    secondary: '#FFD7D7',\n  },\n  green: {\n    primary: '#22C55E',\n    secondary: '#b1ffda',\n  },\n  blue: {\n    primary: '#2376f5',\n    secondary: '#D7D7FF',\n  },\n  orange: {\n    primary: '#FFA500',\n    secondary: '#FFE5CC',\n  },\n}\n\nconst theme = computed(() => {\n  if (typeof props.theme === 'string') {\n    return themeMap[props.theme as Theme] || themeMap['black']\n  }\n  return props.theme\n})\n\nconst progress = computed(() => (props.step / props.totalSteps) * 100)\nconst isCompleted = computed(() => props.step === props.totalSteps)\n</script>\n\n<style scoped>\n.progressbar {\n  --size: v-bind(size.ringSize);\n  --bar-width: v-bind(size.ringBarWidth);\n  --font-size: v-bind(size.innerTextFontSize);\n  --check-icon-size: v-bind(size.checkIconSize);\n  --color-progress: v-bind(theme.primary);\n  --color-remaining-circle: v-bind(theme.secondary);\n  --color-complete: v-bind($props.themeComplete);\n  --progress: v-bind(progress + '%');\n\n  width: var(--size);\n  height: var(--size);\n  border-radius: 50%;\n  display: grid;\n  place-items: center;\n\n  position: relative;\n  font-size: var(--font-size);\n}\n@property --progress {\n  syntax: '<length-percentage>';\n  inherits: true;\n  initial-value: 0%;\n}\n\n.progressbar::before {\n  content: '';\n  position: absolute;\n  inset: 0;\n  border-radius: inherit;\n  background: conic-gradient(\n    var(--color-progress) var(--progress),\n    var(--color-remaining-circle) 0%\n  );\n  transition: --progress 500ms linear;\n  aspect-ratio: 1 / 1;\n  align-self: center;\n}\n\n.progressbar::after {\n  content: '';\n  position: absolute;\n  background: white;\n  border-radius: inherit;\n  z-index: 1;\n  width: calc(100% - var(--bar-width));\n  aspect-ratio: 1 / 1;\n}\n\n.progressbar > div {\n  z-index: 2;\n  position: relative;\n}\n\n.progressbar.completed:not(.fillOuter)::after {\n  background: var(--color-complete);\n}\n.progressbar.completed.fillOuter::before {\n  background: var(--color-complete);\n}\n\n.check-icon {\n  z-index: 3;\n  width: var(--check-icon-size);\n  height: var(--check-icon-size);\n}\n</style>\n","<template>\n  <svg\n    class=\"max-w-xs animate-spin\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n    fill=\"none\"\n    viewBox=\"0 0 24 24\"\n  >\n    <circle\n      class=\"opacity-25\"\n      cx=\"12\"\n      cy=\"12\"\n      r=\"10\"\n      stroke=\"currentColor\"\n      stroke-width=\"4\"\n    ></circle>\n    <path\n      class=\"opacity-75\"\n      fill=\"currentColor\"\n      d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"\n    ></path>\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M6.29021 2.64272C6.68375 0.785763 9.33429 0.785757 9.72783 2.64272L10.3657 5.65238L13.3753 6.29021C15.2323 6.68375 15.2323 9.33429 13.3753 9.72783L10.3657 10.3657L9.72783 13.3753C9.33429 15.2323 6.68375 15.2323 6.29021 13.3753L5.65238 10.3657L2.64272 9.72783C0.785763 9.33429 0.785757 6.68375 2.64272 6.29021L5.65238 5.65238L6.29021 2.64272ZM8.74956 2.85004C8.58 2.04999 7.43804 2.04998 7.26848 2.85004L6.56324 6.17777L6.49584 6.49583L6.17777 6.56324L2.85004 7.26848C2.04999 7.43804 2.04998 8.58 2.85004 8.74956L6.17777 9.4548L6.49584 9.5222L6.56324 9.84027L7.26848 13.168C7.43804 13.9681 8.58 13.9681 8.74956 13.168L9.4548 9.84027L9.5222 9.5222L9.84027 9.4548L13.168 8.74956C13.9681 8.58 13.9681 7.43804 13.168 7.26848L9.84027 6.56324L9.5222 6.49583L9.4548 6.17777L8.74956 2.85004Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M12.5684 2.50774C11.5403 1.49742 9.95026 1.49742 8.92215 2.50774L3.62404 7.71417C2.12532 9.18695 2.12532 11.669 3.62404 13.1418C5.12762 14.6194 7.66861 14.6194 9.17219 13.1418L12.1609 10.2049C12.3578 10.0113 12.6744 10.0141 12.8679 10.211C13.0615 10.408 13.0587 10.7246 12.8618 10.9181L9.8731 13.8551C7.98045 15.715 4.81578 15.715 2.92313 13.8551C1.02562 11.9904 1.02562 8.86558 2.92313 7.00091L8.22124 1.79449C9.63842 0.401838 11.8521 0.401838 13.2693 1.79449C14.6914 3.19191 14.6914 5.38225 13.2693 6.77968L13.2668 6.78213L13.2668 6.78212L8.37876 11.5189C8.37834 11.5193 8.37793 11.5197 8.37752 11.5201C7.51767 12.3638 6.11144 12.3939 5.29119 11.5097C4.43611 10.6596 4.40778 9.26893 5.30922 8.46081L7.33823 6.46692C7.53518 6.27337 7.85175 6.27613 8.04531 6.47309C8.23886 6.67005 8.23609 6.98662 8.03913 7.18017L6.0014 9.18264L5.99203 9.19185L5.98219 9.20055C5.5391 9.59243 5.5104 10.3231 6.0014 10.8056L6.01078 10.8148L6.01967 10.8245C6.42299 11.2649 7.18224 11.2926 7.67785 10.8056L7.68034 10.8032L7.68035 10.8032L12.5684 6.06643C12.5688 6.06604 12.5692 6.06565 12.5696 6.06526C13.5917 5.05969 13.5913 3.51289 12.5684 2.50774Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <Menu as=\"div\" class=\"relative inline-block text-left\" v-slot=\"{ open }\">\n    <Popover\n      :transition=\"dropdownTransition\"\n      :show=\"open\"\n      :placement=\"popoverPlacement\"\n    >\n      <template #target=\"{ togglePopover }\">\n        <MenuButton as=\"template\">\n          <slot v-if=\"$slots.default\" v-bind=\"{ open, togglePopover }\" />\n          <Button v-else :active=\"open\" v-bind=\"button\">\n            {{ button ? button?.label || null : 'Options' }}\n          </Button>\n        </MenuButton>\n      </template>\n\n      <template #body>\n        <div\n          class=\"mt-2 min-w-40 divide-y divide-outline-gray-modals rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n          :class=\"{\n            'mt-2': ['bottom', 'left', 'right'].includes(placement),\n            'ml-2': placement == 'right-start',\n          }\"\n        >\n          <MenuItems\n            class=\"min-w-40 divide-y divide-outline-gray-modals\"\n            :class=\"{\n              'left-0 origin-top-left': placement == 'left',\n              'right-0 origin-top-right': placement == 'right',\n              'inset-x-0 origin-top': placement == 'center',\n              'mt-0 origin-top-right': placement == 'right-start',\n            }\"\n          >\n            <div v-for=\"group in groups\" :key=\"group.key\" class=\"p-1.5\">\n              <div\n                v-if=\"group.group && !group.hideLabel\"\n                class=\"flex h-7 items-center px-2 text-sm font-medium text-ink-gray-4\"\n              >\n                {{ group.group }}\n              </div>\n              <MenuItem\n                v-for=\"item in group.items\"\n                :key=\"item.label\"\n                v-slot=\"{ active }\"\n              >\n                <slot name=\"item\" v-bind=\"{ item, active }\">\n                  <component\n                    v-if=\"item.component\"\n                    :is=\"item.component\"\n                    :active=\"active\"\n                  />\n                  <button\n                    v-else\n                    :class=\"[\n                      active ? 'bg-surface-gray-3' : 'text-ink-gray-6',\n                      'group flex h-7 w-full items-center rounded px-2 text-base',\n                    ]\"\n                    @click=\"item.onClick\"\n                  >\n                    <FeatherIcon\n                      v-if=\"item.icon && typeof item.icon === 'string'\"\n                      :name=\"item.icon\"\n                      class=\"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7\"\n                      aria-hidden=\"true\"\n                    />\n                    <component\n                      class=\"mr-2 h-4 w-4 flex-shrink-0 text-ink-gray-7\"\n                      v-else-if=\"item.icon\"\n                      :is=\"item.icon\"\n                    />\n                    <span class=\"whitespace-nowrap text-ink-gray-7\">\n                      {{ item.label }}\n                    </span>\n                  </button>\n                </slot>\n              </MenuItem>\n            </div>\n          </MenuItems>\n          <div v-if=\"slots.footer\" class=\"border-t p-1.5\">\n            <slot name=\"footer\"></slot>\n          </div>\n        </div>\n      </template>\n    </Popover>\n  </Menu>\n</template>\n\n<script setup>\nimport { Menu, MenuButton, MenuItems, MenuItem } from '@headlessui/vue'\nimport { Popover, Button, FeatherIcon } from 'frappe-ui'\nimport { computed, useSlots } from 'vue'\nimport { useRouter } from 'vue-router'\n\nconst props = defineProps({\n  button: {\n    type: Object,\n    default: null,\n  },\n  options: {\n    type: Array,\n    default: () => [],\n  },\n  placement: {\n    type: String,\n    default: 'left',\n  },\n})\n\nconst router = useRouter()\nconst slots = useSlots()\n\nconst dropdownTransition = {\n  enterActiveClass: 'transition duration-100 ease-out',\n  enterFromClass: 'transform scale-95 opacity-0',\n  enterToClass: 'transform scale-100 opacity-100',\n  leaveActiveClass: 'transition duration-75 ease-in',\n  leaveFromClass: 'transform scale-100 opacity-100',\n  leaveToClass: 'transform scale-95 opacity-0',\n}\n\nconst groups = computed(() => {\n  let groups = props.options[0]?.group\n    ? props.options\n    : [{ group: '', items: props.options }]\n\n  return groups.map((group, i) => {\n    return {\n      key: i,\n      group: group.group,\n      hideLabel: group.hideLabel || false,\n      items: filterOptions(group.items),\n    }\n  })\n})\n\nconst popoverPlacement = computed(() => {\n  if (props.placement === 'left') return 'bottom-start'\n  if (props.placement === 'right') return 'bottom-end'\n  if (props.placement === 'center') return 'bottom-center'\n  if (props.placement === 'right-start') return 'right-start'\n  return 'bottom'\n})\n\nfunction normalizeDropdownItem(option) {\n  let onClick = option.onClick || null\n  if (!onClick && option.route && router) {\n    onClick = () => router.push(option.route)\n  }\n\n  return {\n    name: option.name,\n    label: option.label,\n    icon: option.icon,\n    group: option.group,\n    component: option.component,\n    onClick,\n  }\n}\n\nfunction filterOptions(options) {\n  return (options || [])\n    .filter(Boolean)\n    .filter((option) => (option.condition ? option.condition() : true))\n    .map((option) => normalizeDropdownItem(option))\n}\n</script>\n","<template>\n  <div class=\"flex items-center\">\n    <Button\n      :variant=\"$attrs.variant\"\n      class=\"border-0\"\n      :label=\"activeButton.label\"\n      :size=\"$attrs.size\"\n      :class=\"[\n        $attrs.class,\n        showDropdown ? 'rounded-br-none rounded-tr-none' : '',\n      ]\"\n      :iconLeft=\"activeButton.icon\"\n      @click=\"() => activeButton.onClick()\"\n    />\n    <Dropdown\n      v-if=\"showDropdown\"\n      :options=\"parsedOptions\"\n      size=\"sm\"\n      placement=\"right\"\n      :button=\"{\n        icon: 'chevron-down',\n        variant: $attrs.variant,\n        size: $attrs.size,\n        class:\n          '!w-6 justify-start rounded-bl-none rounded-tl-none border-0 pr-0 text-xs',\n      }\"\n    />\n  </div>\n</template>\n<script setup>\nimport { DropdownOption } from '@/utils'\nimport { computed, ref } from 'vue'\n\nconst props = defineProps({\n  options: {\n    type: Array,\n    default: () => [],\n  },\n})\n\nconst showDropdown = ref(props.options?.length > 1)\nconst activeButton = ref(props.options?.[0] || {})\n\nconst parsedOptions = computed(() => {\n  return (\n    props.options?.map((option) => {\n      return {\n        label: option.label,\n        component: (props) =>\n          DropdownOption({\n            option: option.label,\n            active: props.active,\n            selected: option.label === activeButton.value.label,\n            onClick: () => (activeButton.value = option),\n          }),\n      }\n    }) || []\n  )\n})\n</script>\n","<template>\n  <div\n    v-if=\"title !== 'Data'\"\n    class=\"mx-4 my-3 flex items-center justify-between text-lg font-medium sm:mx-10 sm:mb-4 sm:mt-8\"\n  >\n    <div class=\"flex h-8 items-center text-xl font-semibold text-ink-gray-8\">\n      {{ __(title) }}\n    </div>\n    <Button\n      v-if=\"title == 'Emails'\"\n      variant=\"solid\"\n      :label=\"__('New Email')\"\n      iconLeft=\"plus\"\n      @click=\"emailBox.show = true\"\n    />\n    <Button\n      v-else-if=\"title == 'Comments'\"\n      variant=\"solid\"\n      :label=\"__('New Comment')\"\n      iconLeft=\"plus\"\n      @click=\"emailBox.showComment = true\"\n    />\n    <MultiActionButton\n      v-else-if=\"title == 'Calls'\"\n      variant=\"solid\"\n      :options=\"callActions\"\n    />\n    <Button\n      v-else-if=\"title == 'Notes'\"\n      variant=\"solid\"\n      :label=\"__('New Note')\"\n      iconLeft=\"plus\"\n      @click=\"modalRef.showNote()\"\n    />\n    <Button\n      v-else-if=\"title == 'Tasks'\"\n      variant=\"solid\"\n      :label=\"__('New Task')\"\n      iconLeft=\"plus\"\n      @click=\"modalRef.showTask()\"\n    />\n    <Button\n      v-else-if=\"title == 'Attachments'\"\n      variant=\"solid\"\n      :label=\"__('Upload Attachment')\"\n      iconLeft=\"plus\"\n      @click=\"showFilesUploader = true\"\n    />\n    <div class=\"flex gap-2 shrink-0\" v-else-if=\"title == 'WhatsApp'\">\n      <Button\n        :label=\"__('Send Template')\"\n        @click=\"showWhatsappTemplates = true\"\n      />\n      <Button\n        variant=\"solid\"\n        :label=\"__('New Message')\"\n        iconLeft=\"plus\"\n        @click=\"whatsappBox.show()\"\n      />\n    </div>\n    <Dropdown v-else :options=\"defaultActions\" @click.stop>\n      <template v-slot=\"{ open }\">\n        <Button\n          variant=\"solid\"\n          class=\"flex items-center gap-1\"\n          :label=\"__('New')\"\n          iconLeft=\"plus\"\n          :iconRight=\"open ? 'chevron-up' : 'chevron-down'\"\n        />\n      </template>\n    </Dropdown>\n  </div>\n</template>\n<script setup>\nimport MultiActionButton from '@/components/MultiActionButton.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport CommentIcon from '@/components/Icons/CommentIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport NoteIcon from '@/components/Icons/NoteIcon.vue'\nimport TaskIcon from '@/components/Icons/TaskIcon.vue'\nimport AttachmentIcon from '@/components/Icons/AttachmentIcon.vue'\nimport WhatsAppIcon from '@/components/Icons/WhatsAppIcon.vue'\nimport { globalStore } from '@/stores/global'\nimport { whatsappEnabled, callEnabled } from '@/composables/settings'\nimport { Dropdown } from 'frappe-ui'\nimport { computed, h } from 'vue'\n\nconst props = defineProps({\n  tabs: Array,\n  title: String,\n  doc: Object,\n  modalRef: Object,\n  emailBox: Object,\n  whatsappBox: Object,\n})\n\nconst { makeCall } = globalStore()\n\nconst tabIndex = defineModel()\nconst showWhatsappTemplates = defineModel('showWhatsappTemplates')\nconst showFilesUploader = defineModel('showFilesUploader')\n\nconst defaultActions = computed(() => {\n  let actions = [\n    {\n      icon: h(Email2Icon, { class: 'h-4 w-4' }),\n      label: __('New Email'),\n      onClick: () => (props.emailBox.show = true),\n    },\n    {\n      icon: h(CommentIcon, { class: 'h-4 w-4' }),\n      label: __('New Comment'),\n      onClick: () => (props.emailBox.showComment = true),\n    },\n    {\n      icon: h(PhoneIcon, { class: 'h-4 w-4' }),\n      label: __('Log a Call'),\n      onClick: () => props.modalRef.createCallLog(),\n    },\n    {\n      icon: h(PhoneIcon, { class: 'h-4 w-4' }),\n      label: __('Make a Call'),\n      onClick: () => makeCall(props.doc.mobile_no),\n      condition: () => callEnabled.value,\n    },\n    {\n      icon: h(NoteIcon, { class: 'h-4 w-4' }),\n      label: __('New Note'),\n      onClick: () => props.modalRef.showNote(),\n    },\n    {\n      icon: h(TaskIcon, { class: 'h-4 w-4' }),\n      label: __('New Task'),\n      onClick: () => props.modalRef.showTask(),\n    },\n    {\n      icon: h(AttachmentIcon, { class: 'h-4 w-4' }),\n      label: __('Upload Attachment'),\n      onClick: () => (showFilesUploader.value = true),\n    },\n    {\n      icon: h(WhatsAppIcon, { class: 'h-4 w-4' }),\n      label: __('New WhatsApp Message'),\n      onClick: () => (tabIndex.value = getTabIndex('WhatsApp')),\n      condition: () => whatsappEnabled.value,\n    },\n  ]\n  return actions.filter((action) =>\n    action.condition ? action.condition() : true,\n  )\n})\n\nfunction getTabIndex(name) {\n  return props.tabs.findIndex((tab) => tab.name === name)\n}\n\nconst callActions = computed(() => {\n  let actions = [\n    {\n      label: __('Log a Call'),\n      icon: 'plus',\n      onClick: () => props.modalRef.createCallLog(),\n    },\n    {\n      label: __('Make a Call'),\n      icon: h(PhoneIcon, { class: 'h-4 w-4' }),\n      onClick: () => makeCall(props.doc.mobile_no),\n      condition: () => callEnabled.value,\n    },\n  ]\n\n  return actions.filter((action) =>\n    action.condition ? action.condition() : true,\n  )\n})\n</script>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.64645 3.14645C5.84171 2.95118 6.15829 2.95118 6.35355 3.14645C6.54882 3.34171 6.54882 3.65829 6.35355 3.85355L3.20711 7H10C12.4853 7 14.5 9.01472 14.5 11.5V12C14.5 12.2761 14.2761 12.5 14 12.5C13.7239 12.5 13.5 12.2761 13.5 12V11.5C13.5 9.567 11.933 8 10 8H3.20711L6.35355 11.1464C6.54882 11.3417 6.54882 11.6583 6.35355 11.8536C6.15829 12.0488 5.84171 12.0488 5.64645 11.8536L1.64645 7.85355C1.45118 7.65829 1.45118 7.34171 1.64645 7.14645L5.64645 3.14645Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.85355 3.14645C5.65829 2.95118 5.34171 2.95118 5.14645 3.14645L1.14645 7.14645C0.951184 7.34171 0.951184 7.65829 1.14645 7.85355L5.14645 11.8536C5.34171 12.0488 5.65829 12.0488 5.85355 11.8536C6.04882 11.6583 6.04882 11.3417 5.85355 11.1464L2.20711 7.5L5.85355 3.85355C6.04882 3.65829 6.04882 3.34171 5.85355 3.14645ZM10 8C11.933 8 13.5 9.567 13.5 11.5V12C13.5 12.2761 13.7239 12.5 14 12.5C14.2761 12.5 14.5 12.2761 14.5 12V11.5C14.5 9.01472 12.4853 7 10 7H6.6728L9.81924 3.85355C10.0145 3.65829 10.0145 3.34171 9.81924 3.14645C9.62398 2.95118 9.3074 2.95118 9.11214 3.14645L5.11214 7.14645C4.91688 7.34171 4.91688 7.65829 5.11214 7.85355L9.11214 11.8536C9.3074 12.0488 9.62398 12.0488 9.81924 11.8536C10.0145 11.6583 10.0145 11.3417 9.81924 11.1464L6.6728 8H10Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","const types = {\n    'application/prs.cww': ['cww'],\n    'application/prs.xsf+xml': ['xsf'],\n    'application/vnd.1000minds.decision-model+xml': ['1km'],\n    'application/vnd.3gpp.pic-bw-large': ['plb'],\n    'application/vnd.3gpp.pic-bw-small': ['psb'],\n    'application/vnd.3gpp.pic-bw-var': ['pvb'],\n    'application/vnd.3gpp2.tcap': ['tcap'],\n    'application/vnd.3m.post-it-notes': ['pwn'],\n    'application/vnd.accpac.simply.aso': ['aso'],\n    'application/vnd.accpac.simply.imp': ['imp'],\n    'application/vnd.acucobol': ['acu'],\n    'application/vnd.acucorp': ['atc', 'acutc'],\n    'application/vnd.adobe.air-application-installer-package+zip': ['air'],\n    'application/vnd.adobe.formscentral.fcdt': ['fcdt'],\n    'application/vnd.adobe.fxp': ['fxp', 'fxpl'],\n    'application/vnd.adobe.xdp+xml': ['xdp'],\n    'application/vnd.adobe.xfdf': ['*xfdf'],\n    'application/vnd.age': ['age'],\n    'application/vnd.ahead.space': ['ahead'],\n    'application/vnd.airzip.filesecure.azf': ['azf'],\n    'application/vnd.airzip.filesecure.azs': ['azs'],\n    'application/vnd.amazon.ebook': ['azw'],\n    'application/vnd.americandynamics.acc': ['acc'],\n    'application/vnd.amiga.ami': ['ami'],\n    'application/vnd.android.package-archive': ['apk'],\n    'application/vnd.anser-web-certificate-issue-initiation': ['cii'],\n    'application/vnd.anser-web-funds-transfer-initiation': ['fti'],\n    'application/vnd.antix.game-component': ['atx'],\n    'application/vnd.apple.installer+xml': ['mpkg'],\n    'application/vnd.apple.keynote': ['key'],\n    'application/vnd.apple.mpegurl': ['m3u8'],\n    'application/vnd.apple.numbers': ['numbers'],\n    'application/vnd.apple.pages': ['pages'],\n    'application/vnd.apple.pkpass': ['pkpass'],\n    'application/vnd.aristanetworks.swi': ['swi'],\n    'application/vnd.astraea-software.iota': ['iota'],\n    'application/vnd.audiograph': ['aep'],\n    'application/vnd.autodesk.fbx': ['fbx'],\n    'application/vnd.balsamiq.bmml+xml': ['bmml'],\n    'application/vnd.blueice.multipass': ['mpm'],\n    'application/vnd.bmi': ['bmi'],\n    'application/vnd.businessobjects': ['rep'],\n    'application/vnd.chemdraw+xml': ['cdxml'],\n    'application/vnd.chipnuts.karaoke-mmd': ['mmd'],\n    'application/vnd.cinderella': ['cdy'],\n    'application/vnd.citationstyles.style+xml': ['csl'],\n    'application/vnd.claymore': ['cla'],\n    'application/vnd.cloanto.rp9': ['rp9'],\n    'application/vnd.clonk.c4group': ['c4g', 'c4d', 'c4f', 'c4p', 'c4u'],\n    'application/vnd.cluetrust.cartomobile-config': ['c11amc'],\n    'application/vnd.cluetrust.cartomobile-config-pkg': ['c11amz'],\n    'application/vnd.commonspace': ['csp'],\n    'application/vnd.contact.cmsg': ['cdbcmsg'],\n    'application/vnd.cosmocaller': ['cmc'],\n    'application/vnd.crick.clicker': ['clkx'],\n    'application/vnd.crick.clicker.keyboard': ['clkk'],\n    'application/vnd.crick.clicker.palette': ['clkp'],\n    'application/vnd.crick.clicker.template': ['clkt'],\n    'application/vnd.crick.clicker.wordbank': ['clkw'],\n    'application/vnd.criticaltools.wbs+xml': ['wbs'],\n    'application/vnd.ctc-posml': ['pml'],\n    'application/vnd.cups-ppd': ['ppd'],\n    'application/vnd.curl.car': ['car'],\n    'application/vnd.curl.pcurl': ['pcurl'],\n    'application/vnd.dart': ['dart'],\n    'application/vnd.data-vision.rdz': ['rdz'],\n    'application/vnd.dbf': ['dbf'],\n    'application/vnd.dcmp+xml': ['dcmp'],\n    'application/vnd.dece.data': ['uvf', 'uvvf', 'uvd', 'uvvd'],\n    'application/vnd.dece.ttml+xml': ['uvt', 'uvvt'],\n    'application/vnd.dece.unspecified': ['uvx', 'uvvx'],\n    'application/vnd.dece.zip': ['uvz', 'uvvz'],\n    'application/vnd.denovo.fcselayout-link': ['fe_launch'],\n    'application/vnd.dna': ['dna'],\n    'application/vnd.dolby.mlp': ['mlp'],\n    'application/vnd.dpgraph': ['dpg'],\n    'application/vnd.dreamfactory': ['dfac'],\n    'application/vnd.ds-keypoint': ['kpxx'],\n    'application/vnd.dvb.ait': ['ait'],\n    'application/vnd.dvb.service': ['svc'],\n    'application/vnd.dynageo': ['geo'],\n    'application/vnd.ecowin.chart': ['mag'],\n    'application/vnd.enliven': ['nml'],\n    'application/vnd.epson.esf': ['esf'],\n    'application/vnd.epson.msf': ['msf'],\n    'application/vnd.epson.quickanime': ['qam'],\n    'application/vnd.epson.salt': ['slt'],\n    'application/vnd.epson.ssf': ['ssf'],\n    'application/vnd.eszigno3+xml': ['es3', 'et3'],\n    'application/vnd.ezpix-album': ['ez2'],\n    'application/vnd.ezpix-package': ['ez3'],\n    'application/vnd.fdf': ['*fdf'],\n    'application/vnd.fdsn.mseed': ['mseed'],\n    'application/vnd.fdsn.seed': ['seed', 'dataless'],\n    'application/vnd.flographit': ['gph'],\n    'application/vnd.fluxtime.clip': ['ftc'],\n    'application/vnd.framemaker': ['fm', 'frame', 'maker', 'book'],\n    'application/vnd.frogans.fnc': ['fnc'],\n    'application/vnd.frogans.ltf': ['ltf'],\n    'application/vnd.fsc.weblaunch': ['fsc'],\n    'application/vnd.fujitsu.oasys': ['oas'],\n    'application/vnd.fujitsu.oasys2': ['oa2'],\n    'application/vnd.fujitsu.oasys3': ['oa3'],\n    'application/vnd.fujitsu.oasysgp': ['fg5'],\n    'application/vnd.fujitsu.oasysprs': ['bh2'],\n    'application/vnd.fujixerox.ddd': ['ddd'],\n    'application/vnd.fujixerox.docuworks': ['xdw'],\n    'application/vnd.fujixerox.docuworks.binder': ['xbd'],\n    'application/vnd.fuzzysheet': ['fzs'],\n    'application/vnd.genomatix.tuxedo': ['txd'],\n    'application/vnd.geogebra.file': ['ggb'],\n    'application/vnd.geogebra.slides': ['ggs'],\n    'application/vnd.geogebra.tool': ['ggt'],\n    'application/vnd.geometry-explorer': ['gex', 'gre'],\n    'application/vnd.geonext': ['gxt'],\n    'application/vnd.geoplan': ['g2w'],\n    'application/vnd.geospace': ['g3w'],\n    'application/vnd.gmx': ['gmx'],\n    'application/vnd.google-apps.document': ['gdoc'],\n    'application/vnd.google-apps.drawing': ['gdraw'],\n    'application/vnd.google-apps.form': ['gform'],\n    'application/vnd.google-apps.jam': ['gjam'],\n    'application/vnd.google-apps.map': ['gmap'],\n    'application/vnd.google-apps.presentation': ['gslides'],\n    'application/vnd.google-apps.script': ['gscript'],\n    'application/vnd.google-apps.site': ['gsite'],\n    'application/vnd.google-apps.spreadsheet': ['gsheet'],\n    'application/vnd.google-earth.kml+xml': ['kml'],\n    'application/vnd.google-earth.kmz': ['kmz'],\n    'application/vnd.gov.sk.xmldatacontainer+xml': ['xdcf'],\n    'application/vnd.grafeq': ['gqf', 'gqs'],\n    'application/vnd.groove-account': ['gac'],\n    'application/vnd.groove-help': ['ghf'],\n    'application/vnd.groove-identity-message': ['gim'],\n    'application/vnd.groove-injector': ['grv'],\n    'application/vnd.groove-tool-message': ['gtm'],\n    'application/vnd.groove-tool-template': ['tpl'],\n    'application/vnd.groove-vcard': ['vcg'],\n    'application/vnd.hal+xml': ['hal'],\n    'application/vnd.handheld-entertainment+xml': ['zmm'],\n    'application/vnd.hbci': ['hbci'],\n    'application/vnd.hhe.lesson-player': ['les'],\n    'application/vnd.hp-hpgl': ['hpgl'],\n    'application/vnd.hp-hpid': ['hpid'],\n    'application/vnd.hp-hps': ['hps'],\n    'application/vnd.hp-jlyt': ['jlt'],\n    'application/vnd.hp-pcl': ['pcl'],\n    'application/vnd.hp-pclxl': ['pclxl'],\n    'application/vnd.hydrostatix.sof-data': ['sfd-hdstx'],\n    'application/vnd.ibm.minipay': ['mpy'],\n    'application/vnd.ibm.modcap': ['afp', 'listafp', 'list3820'],\n    'application/vnd.ibm.rights-management': ['irm'],\n    'application/vnd.ibm.secure-container': ['sc'],\n    'application/vnd.iccprofile': ['icc', 'icm'],\n    'application/vnd.igloader': ['igl'],\n    'application/vnd.immervision-ivp': ['ivp'],\n    'application/vnd.immervision-ivu': ['ivu'],\n    'application/vnd.insors.igm': ['igm'],\n    'application/vnd.intercon.formnet': ['xpw', 'xpx'],\n    'application/vnd.intergeo': ['i2g'],\n    'application/vnd.intu.qbo': ['qbo'],\n    'application/vnd.intu.qfx': ['qfx'],\n    'application/vnd.ipunplugged.rcprofile': ['rcprofile'],\n    'application/vnd.irepository.package+xml': ['irp'],\n    'application/vnd.is-xpr': ['xpr'],\n    'application/vnd.isac.fcs': ['fcs'],\n    'application/vnd.jam': ['jam'],\n    'application/vnd.jcp.javame.midlet-rms': ['rms'],\n    'application/vnd.jisp': ['jisp'],\n    'application/vnd.joost.joda-archive': ['joda'],\n    'application/vnd.kahootz': ['ktz', 'ktr'],\n    'application/vnd.kde.karbon': ['karbon'],\n    'application/vnd.kde.kchart': ['chrt'],\n    'application/vnd.kde.kformula': ['kfo'],\n    'application/vnd.kde.kivio': ['flw'],\n    'application/vnd.kde.kontour': ['kon'],\n    'application/vnd.kde.kpresenter': ['kpr', 'kpt'],\n    'application/vnd.kde.kspread': ['ksp'],\n    'application/vnd.kde.kword': ['kwd', 'kwt'],\n    'application/vnd.kenameaapp': ['htke'],\n    'application/vnd.kidspiration': ['kia'],\n    'application/vnd.kinar': ['kne', 'knp'],\n    'application/vnd.koan': ['skp', 'skd', 'skt', 'skm'],\n    'application/vnd.kodak-descriptor': ['sse'],\n    'application/vnd.las.las+xml': ['lasxml'],\n    'application/vnd.llamagraphics.life-balance.desktop': ['lbd'],\n    'application/vnd.llamagraphics.life-balance.exchange+xml': ['lbe'],\n    'application/vnd.lotus-1-2-3': ['123'],\n    'application/vnd.lotus-approach': ['apr'],\n    'application/vnd.lotus-freelance': ['pre'],\n    'application/vnd.lotus-notes': ['nsf'],\n    'application/vnd.lotus-organizer': ['org'],\n    'application/vnd.lotus-screencam': ['scm'],\n    'application/vnd.lotus-wordpro': ['lwp'],\n    'application/vnd.macports.portpkg': ['portpkg'],\n    'application/vnd.mapbox-vector-tile': ['mvt'],\n    'application/vnd.mcd': ['mcd'],\n    'application/vnd.medcalcdata': ['mc1'],\n    'application/vnd.mediastation.cdkey': ['cdkey'],\n    'application/vnd.mfer': ['mwf'],\n    'application/vnd.mfmp': ['mfm'],\n    'application/vnd.micrografx.flo': ['flo'],\n    'application/vnd.micrografx.igx': ['igx'],\n    'application/vnd.mif': ['mif'],\n    'application/vnd.mobius.daf': ['daf'],\n    'application/vnd.mobius.dis': ['dis'],\n    'application/vnd.mobius.mbk': ['mbk'],\n    'application/vnd.mobius.mqy': ['mqy'],\n    'application/vnd.mobius.msl': ['msl'],\n    'application/vnd.mobius.plc': ['plc'],\n    'application/vnd.mobius.txf': ['txf'],\n    'application/vnd.mophun.application': ['mpn'],\n    'application/vnd.mophun.certificate': ['mpc'],\n    'application/vnd.mozilla.xul+xml': ['xul'],\n    'application/vnd.ms-artgalry': ['cil'],\n    'application/vnd.ms-cab-compressed': ['cab'],\n    'application/vnd.ms-excel': ['xls', 'xlm', 'xla', 'xlc', 'xlt', 'xlw'],\n    'application/vnd.ms-excel.addin.macroenabled.12': ['xlam'],\n    'application/vnd.ms-excel.sheet.binary.macroenabled.12': ['xlsb'],\n    'application/vnd.ms-excel.sheet.macroenabled.12': ['xlsm'],\n    'application/vnd.ms-excel.template.macroenabled.12': ['xltm'],\n    'application/vnd.ms-fontobject': ['eot'],\n    'application/vnd.ms-htmlhelp': ['chm'],\n    'application/vnd.ms-ims': ['ims'],\n    'application/vnd.ms-lrm': ['lrm'],\n    'application/vnd.ms-officetheme': ['thmx'],\n    'application/vnd.ms-outlook': ['msg'],\n    'application/vnd.ms-pki.seccat': ['cat'],\n    'application/vnd.ms-pki.stl': ['*stl'],\n    'application/vnd.ms-powerpoint': ['ppt', 'pps', 'pot'],\n    'application/vnd.ms-powerpoint.addin.macroenabled.12': ['ppam'],\n    'application/vnd.ms-powerpoint.presentation.macroenabled.12': ['pptm'],\n    'application/vnd.ms-powerpoint.slide.macroenabled.12': ['sldm'],\n    'application/vnd.ms-powerpoint.slideshow.macroenabled.12': ['ppsm'],\n    'application/vnd.ms-powerpoint.template.macroenabled.12': ['potm'],\n    'application/vnd.ms-project': ['*mpp', 'mpt'],\n    'application/vnd.ms-visio.viewer': ['vdx'],\n    'application/vnd.ms-word.document.macroenabled.12': ['docm'],\n    'application/vnd.ms-word.template.macroenabled.12': ['dotm'],\n    'application/vnd.ms-works': ['wps', 'wks', 'wcm', 'wdb'],\n    'application/vnd.ms-wpl': ['wpl'],\n    'application/vnd.ms-xpsdocument': ['xps'],\n    'application/vnd.mseq': ['mseq'],\n    'application/vnd.musician': ['mus'],\n    'application/vnd.muvee.style': ['msty'],\n    'application/vnd.mynfc': ['taglet'],\n    'application/vnd.nato.bindingdataobject+xml': ['bdo'],\n    'application/vnd.neurolanguage.nlu': ['nlu'],\n    'application/vnd.nitf': ['ntf', 'nitf'],\n    'application/vnd.noblenet-directory': ['nnd'],\n    'application/vnd.noblenet-sealer': ['nns'],\n    'application/vnd.noblenet-web': ['nnw'],\n    'application/vnd.nokia.n-gage.ac+xml': ['*ac'],\n    'application/vnd.nokia.n-gage.data': ['ngdat'],\n    'application/vnd.nokia.n-gage.symbian.install': ['n-gage'],\n    'application/vnd.nokia.radio-preset': ['rpst'],\n    'application/vnd.nokia.radio-presets': ['rpss'],\n    'application/vnd.novadigm.edm': ['edm'],\n    'application/vnd.novadigm.edx': ['edx'],\n    'application/vnd.novadigm.ext': ['ext'],\n    'application/vnd.oasis.opendocument.chart': ['odc'],\n    'application/vnd.oasis.opendocument.chart-template': ['otc'],\n    'application/vnd.oasis.opendocument.database': ['odb'],\n    'application/vnd.oasis.opendocument.formula': ['odf'],\n    'application/vnd.oasis.opendocument.formula-template': ['odft'],\n    'application/vnd.oasis.opendocument.graphics': ['odg'],\n    'application/vnd.oasis.opendocument.graphics-template': ['otg'],\n    'application/vnd.oasis.opendocument.image': ['odi'],\n    'application/vnd.oasis.opendocument.image-template': ['oti'],\n    'application/vnd.oasis.opendocument.presentation': ['odp'],\n    'application/vnd.oasis.opendocument.presentation-template': ['otp'],\n    'application/vnd.oasis.opendocument.spreadsheet': ['ods'],\n    'application/vnd.oasis.opendocument.spreadsheet-template': ['ots'],\n    'application/vnd.oasis.opendocument.text': ['odt'],\n    'application/vnd.oasis.opendocument.text-master': ['odm'],\n    'application/vnd.oasis.opendocument.text-template': ['ott'],\n    'application/vnd.oasis.opendocument.text-web': ['oth'],\n    'application/vnd.olpc-sugar': ['xo'],\n    'application/vnd.oma.dd2+xml': ['dd2'],\n    'application/vnd.openblox.game+xml': ['obgx'],\n    'application/vnd.openofficeorg.extension': ['oxt'],\n    'application/vnd.openstreetmap.data+xml': ['osm'],\n    'application/vnd.openxmlformats-officedocument.presentationml.presentation': [\n        'pptx',\n    ],\n    'application/vnd.openxmlformats-officedocument.presentationml.slide': [\n        'sldx',\n    ],\n    'application/vnd.openxmlformats-officedocument.presentationml.slideshow': [\n        'ppsx',\n    ],\n    'application/vnd.openxmlformats-officedocument.presentationml.template': [\n        'potx',\n    ],\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': ['xlsx'],\n    'application/vnd.openxmlformats-officedocument.spreadsheetml.template': [\n        'xltx',\n    ],\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.document': [\n        'docx',\n    ],\n    'application/vnd.openxmlformats-officedocument.wordprocessingml.template': [\n        'dotx',\n    ],\n    'application/vnd.osgeo.mapguide.package': ['mgp'],\n    'application/vnd.osgi.dp': ['dp'],\n    'application/vnd.osgi.subsystem': ['esa'],\n    'application/vnd.palm': ['pdb', 'pqa', 'oprc'],\n    'application/vnd.pawaafile': ['paw'],\n    'application/vnd.pg.format': ['str'],\n    'application/vnd.pg.osasli': ['ei6'],\n    'application/vnd.picsel': ['efif'],\n    'application/vnd.pmi.widget': ['wg'],\n    'application/vnd.pocketlearn': ['plf'],\n    'application/vnd.powerbuilder6': ['pbd'],\n    'application/vnd.previewsystems.box': ['box'],\n    'application/vnd.procrate.brushset': ['brushset'],\n    'application/vnd.procreate.brush': ['brush'],\n    'application/vnd.procreate.dream': ['drm'],\n    'application/vnd.proteus.magazine': ['mgz'],\n    'application/vnd.publishare-delta-tree': ['qps'],\n    'application/vnd.pvi.ptid1': ['ptid'],\n    'application/vnd.pwg-xhtml-print+xml': ['xhtm'],\n    'application/vnd.quark.quarkxpress': [\n        'qxd',\n        'qxt',\n        'qwd',\n        'qwt',\n        'qxl',\n        'qxb',\n    ],\n    'application/vnd.rar': ['rar'],\n    'application/vnd.realvnc.bed': ['bed'],\n    'application/vnd.recordare.musicxml': ['mxl'],\n    'application/vnd.recordare.musicxml+xml': ['musicxml'],\n    'application/vnd.rig.cryptonote': ['cryptonote'],\n    'application/vnd.rim.cod': ['cod'],\n    'application/vnd.rn-realmedia': ['rm'],\n    'application/vnd.rn-realmedia-vbr': ['rmvb'],\n    'application/vnd.route66.link66+xml': ['link66'],\n    'application/vnd.sailingtracker.track': ['st'],\n    'application/vnd.seemail': ['see'],\n    'application/vnd.sema': ['sema'],\n    'application/vnd.semd': ['semd'],\n    'application/vnd.semf': ['semf'],\n    'application/vnd.shana.informed.formdata': ['ifm'],\n    'application/vnd.shana.informed.formtemplate': ['itp'],\n    'application/vnd.shana.informed.interchange': ['iif'],\n    'application/vnd.shana.informed.package': ['ipk'],\n    'application/vnd.simtech-mindmapper': ['twd', 'twds'],\n    'application/vnd.smaf': ['mmf'],\n    'application/vnd.smart.teacher': ['teacher'],\n    'application/vnd.software602.filler.form+xml': ['fo'],\n    'application/vnd.solent.sdkm+xml': ['sdkm', 'sdkd'],\n    'application/vnd.spotfire.dxp': ['dxp'],\n    'application/vnd.spotfire.sfs': ['sfs'],\n    'application/vnd.stardivision.calc': ['sdc'],\n    'application/vnd.stardivision.draw': ['sda'],\n    'application/vnd.stardivision.impress': ['sdd'],\n    'application/vnd.stardivision.math': ['smf'],\n    'application/vnd.stardivision.writer': ['sdw', 'vor'],\n    'application/vnd.stardivision.writer-global': ['sgl'],\n    'application/vnd.stepmania.package': ['smzip'],\n    'application/vnd.stepmania.stepchart': ['sm'],\n    'application/vnd.sun.wadl+xml': ['wadl'],\n    'application/vnd.sun.xml.calc': ['sxc'],\n    'application/vnd.sun.xml.calc.template': ['stc'],\n    'application/vnd.sun.xml.draw': ['sxd'],\n    'application/vnd.sun.xml.draw.template': ['std'],\n    'application/vnd.sun.xml.impress': ['sxi'],\n    'application/vnd.sun.xml.impress.template': ['sti'],\n    'application/vnd.sun.xml.math': ['sxm'],\n    'application/vnd.sun.xml.writer': ['sxw'],\n    'application/vnd.sun.xml.writer.global': ['sxg'],\n    'application/vnd.sun.xml.writer.template': ['stw'],\n    'application/vnd.sus-calendar': ['sus', 'susp'],\n    'application/vnd.svd': ['svd'],\n    'application/vnd.symbian.install': ['sis', 'sisx'],\n    'application/vnd.syncml+xml': ['xsm'],\n    'application/vnd.syncml.dm+wbxml': ['bdm'],\n    'application/vnd.syncml.dm+xml': ['xdm'],\n    'application/vnd.syncml.dmddf+xml': ['ddf'],\n    'application/vnd.tao.intent-module-archive': ['tao'],\n    'application/vnd.tcpdump.pcap': ['pcap', 'cap', 'dmp'],\n    'application/vnd.tmobile-livetv': ['tmo'],\n    'application/vnd.trid.tpt': ['tpt'],\n    'application/vnd.triscape.mxs': ['mxs'],\n    'application/vnd.trueapp': ['tra'],\n    'application/vnd.ufdl': ['ufd', 'ufdl'],\n    'application/vnd.uiq.theme': ['utz'],\n    'application/vnd.umajin': ['umj'],\n    'application/vnd.unity': ['unityweb'],\n    'application/vnd.uoml+xml': ['uoml', 'uo'],\n    'application/vnd.vcx': ['vcx'],\n    'application/vnd.visio': ['vsd', 'vst', 'vss', 'vsw', 'vsdx', 'vtx'],\n    'application/vnd.visionary': ['vis'],\n    'application/vnd.vsf': ['vsf'],\n    'application/vnd.wap.wbxml': ['wbxml'],\n    'application/vnd.wap.wmlc': ['wmlc'],\n    'application/vnd.wap.wmlscriptc': ['wmlsc'],\n    'application/vnd.webturbo': ['wtb'],\n    'application/vnd.wolfram.player': ['nbp'],\n    'application/vnd.wordperfect': ['wpd'],\n    'application/vnd.wqd': ['wqd'],\n    'application/vnd.wt.stf': ['stf'],\n    'application/vnd.xara': ['xar'],\n    'application/vnd.xfdl': ['xfdl'],\n    'application/vnd.yamaha.hv-dic': ['hvd'],\n    'application/vnd.yamaha.hv-script': ['hvs'],\n    'application/vnd.yamaha.hv-voice': ['hvp'],\n    'application/vnd.yamaha.openscoreformat': ['osf'],\n    'application/vnd.yamaha.openscoreformat.osfpvg+xml': ['osfpvg'],\n    'application/vnd.yamaha.smaf-audio': ['saf'],\n    'application/vnd.yamaha.smaf-phrase': ['spf'],\n    'application/vnd.yellowriver-custom-menu': ['cmp'],\n    'application/vnd.zul': ['zir', 'zirz'],\n    'application/vnd.zzazz.deck+xml': ['zaz'],\n    'application/x-7z-compressed': ['7z'],\n    'application/x-abiword': ['abw'],\n    'application/x-ace-compressed': ['ace'],\n    'application/x-apple-diskimage': ['*dmg'],\n    'application/x-arj': ['arj'],\n    'application/x-authorware-bin': ['aab', 'x32', 'u32', 'vox'],\n    'application/x-authorware-map': ['aam'],\n    'application/x-authorware-seg': ['aas'],\n    'application/x-bcpio': ['bcpio'],\n    'application/x-bdoc': ['*bdoc'],\n    'application/x-bittorrent': ['torrent'],\n    'application/x-blender': ['blend'],\n    'application/x-blorb': ['blb', 'blorb'],\n    'application/x-bzip': ['bz'],\n    'application/x-bzip2': ['bz2', 'boz'],\n    'application/x-cbr': ['cbr', 'cba', 'cbt', 'cbz', 'cb7'],\n    'application/x-cdlink': ['vcd'],\n    'application/x-cfs-compressed': ['cfs'],\n    'application/x-chat': ['chat'],\n    'application/x-chess-pgn': ['pgn'],\n    'application/x-chrome-extension': ['crx'],\n    'application/x-cocoa': ['cco'],\n    'application/x-compressed': ['*rar'],\n    'application/x-conference': ['nsc'],\n    'application/x-cpio': ['cpio'],\n    'application/x-csh': ['csh'],\n    'application/x-debian-package': ['*deb', 'udeb'],\n    'application/x-dgc-compressed': ['dgc'],\n    'application/x-director': [\n        'dir',\n        'dcr',\n        'dxr',\n        'cst',\n        'cct',\n        'cxt',\n        'w3d',\n        'fgd',\n        'swa',\n    ],\n    'application/x-doom': ['wad'],\n    'application/x-dtbncx+xml': ['ncx'],\n    'application/x-dtbook+xml': ['dtb'],\n    'application/x-dtbresource+xml': ['res'],\n    'application/x-dvi': ['dvi'],\n    'application/x-envoy': ['evy'],\n    'application/x-eva': ['eva'],\n    'application/x-font-bdf': ['bdf'],\n    'application/x-font-ghostscript': ['gsf'],\n    'application/x-font-linux-psf': ['psf'],\n    'application/x-font-pcf': ['pcf'],\n    'application/x-font-snf': ['snf'],\n    'application/x-font-type1': ['pfa', 'pfb', 'pfm', 'afm'],\n    'application/x-freearc': ['arc'],\n    'application/x-futuresplash': ['spl'],\n    'application/x-gca-compressed': ['gca'],\n    'application/x-glulx': ['ulx'],\n    'application/x-gnumeric': ['gnumeric'],\n    'application/x-gramps-xml': ['gramps'],\n    'application/x-gtar': ['gtar'],\n    'application/x-hdf': ['hdf'],\n    'application/x-httpd-php': ['php'],\n    'application/x-install-instructions': ['install'],\n    'application/x-ipynb+json': ['ipynb'],\n    'application/x-iso9660-image': ['*iso'],\n    'application/x-iwork-keynote-sffkey': ['*key'],\n    'application/x-iwork-numbers-sffnumbers': ['*numbers'],\n    'application/x-iwork-pages-sffpages': ['*pages'],\n    'application/x-java-archive-diff': ['jardiff'],\n    'application/x-java-jnlp-file': ['jnlp'],\n    'application/x-keepass2': ['kdbx'],\n    'application/x-latex': ['latex'],\n    'application/x-lua-bytecode': ['luac'],\n    'application/x-lzh-compressed': ['lzh', 'lha'],\n    'application/x-makeself': ['run'],\n    'application/x-mie': ['mie'],\n    'application/x-mobipocket-ebook': ['*prc', 'mobi'],\n    'application/x-ms-application': ['application'],\n    'application/x-ms-shortcut': ['lnk'],\n    'application/x-ms-wmd': ['wmd'],\n    'application/x-ms-wmz': ['wmz'],\n    'application/x-ms-xbap': ['xbap'],\n    'application/x-msaccess': ['mdb'],\n    'application/x-msbinder': ['obd'],\n    'application/x-mscardfile': ['crd'],\n    'application/x-msclip': ['clp'],\n    'application/x-msdos-program': ['*exe'],\n    'application/x-msdownload': ['*exe', '*dll', 'com', 'bat', '*msi'],\n    'application/x-msmediaview': ['mvb', 'm13', 'm14'],\n    'application/x-msmetafile': ['*wmf', '*wmz', '*emf', 'emz'],\n    'application/x-msmoney': ['mny'],\n    'application/x-mspublisher': ['pub'],\n    'application/x-msschedule': ['scd'],\n    'application/x-msterminal': ['trm'],\n    'application/x-mswrite': ['wri'],\n    'application/x-netcdf': ['nc', 'cdf'],\n    'application/x-ns-proxy-autoconfig': ['pac'],\n    'application/x-nzb': ['nzb'],\n    'application/x-perl': ['pl', 'pm'],\n    'application/x-pilot': ['*prc', '*pdb'],\n    'application/x-pkcs12': ['p12', 'pfx'],\n    'application/x-pkcs7-certificates': ['p7b', 'spc'],\n    'application/x-pkcs7-certreqresp': ['p7r'],\n    'application/x-rar-compressed': ['*rar'],\n    'application/x-redhat-package-manager': ['rpm'],\n    'application/x-research-info-systems': ['ris'],\n    'application/x-sea': ['sea'],\n    'application/x-sh': ['sh'],\n    'application/x-shar': ['shar'],\n    'application/x-shockwave-flash': ['swf'],\n    'application/x-silverlight-app': ['xap'],\n    'application/x-sql': ['*sql'],\n    'application/x-stuffit': ['sit'],\n    'application/x-stuffitx': ['sitx'],\n    'application/x-subrip': ['srt'],\n    'application/x-sv4cpio': ['sv4cpio'],\n    'application/x-sv4crc': ['sv4crc'],\n    'application/x-t3vm-image': ['t3'],\n    'application/x-tads': ['gam'],\n    'application/x-tar': ['tar'],\n    'application/x-tcl': ['tcl', 'tk'],\n    'application/x-tex': ['tex'],\n    'application/x-tex-tfm': ['tfm'],\n    'application/x-texinfo': ['texinfo', 'texi'],\n    'application/x-tgif': ['*obj'],\n    'application/x-ustar': ['ustar'],\n    'application/x-virtualbox-hdd': ['hdd'],\n    'application/x-virtualbox-ova': ['ova'],\n    'application/x-virtualbox-ovf': ['ovf'],\n    'application/x-virtualbox-vbox': ['vbox'],\n    'application/x-virtualbox-vbox-extpack': ['vbox-extpack'],\n    'application/x-virtualbox-vdi': ['vdi'],\n    'application/x-virtualbox-vhd': ['vhd'],\n    'application/x-virtualbox-vmdk': ['vmdk'],\n    'application/x-wais-source': ['src'],\n    'application/x-web-app-manifest+json': ['webapp'],\n    'application/x-x509-ca-cert': ['der', 'crt', 'pem'],\n    'application/x-xfig': ['fig'],\n    'application/x-xliff+xml': ['*xlf'],\n    'application/x-xpinstall': ['xpi'],\n    'application/x-xz': ['xz'],\n    'application/x-zip-compressed': ['*zip'],\n    'application/x-zmachine': ['z1', 'z2', 'z3', 'z4', 'z5', 'z6', 'z7', 'z8'],\n    'audio/vnd.dece.audio': ['uva', 'uvva'],\n    'audio/vnd.digital-winds': ['eol'],\n    'audio/vnd.dra': ['dra'],\n    'audio/vnd.dts': ['dts'],\n    'audio/vnd.dts.hd': ['dtshd'],\n    'audio/vnd.lucent.voice': ['lvp'],\n    'audio/vnd.ms-playready.media.pya': ['pya'],\n    'audio/vnd.nuera.ecelp4800': ['ecelp4800'],\n    'audio/vnd.nuera.ecelp7470': ['ecelp7470'],\n    'audio/vnd.nuera.ecelp9600': ['ecelp9600'],\n    'audio/vnd.rip': ['rip'],\n    'audio/x-aac': ['*aac'],\n    'audio/x-aiff': ['aif', 'aiff', 'aifc'],\n    'audio/x-caf': ['caf'],\n    'audio/x-flac': ['flac'],\n    'audio/x-m4a': ['*m4a'],\n    'audio/x-matroska': ['mka'],\n    'audio/x-mpegurl': ['m3u'],\n    'audio/x-ms-wax': ['wax'],\n    'audio/x-ms-wma': ['wma'],\n    'audio/x-pn-realaudio': ['ram', 'ra'],\n    'audio/x-pn-realaudio-plugin': ['rmp'],\n    'audio/x-realaudio': ['*ra'],\n    'audio/x-wav': ['*wav'],\n    'chemical/x-cdx': ['cdx'],\n    'chemical/x-cif': ['cif'],\n    'chemical/x-cmdf': ['cmdf'],\n    'chemical/x-cml': ['cml'],\n    'chemical/x-csml': ['csml'],\n    'chemical/x-xyz': ['xyz'],\n    'image/prs.btif': ['btif', 'btf'],\n    'image/prs.pti': ['pti'],\n    'image/vnd.adobe.photoshop': ['psd'],\n    'image/vnd.airzip.accelerator.azv': ['azv'],\n    'image/vnd.blockfact.facti': ['facti'],\n    'image/vnd.dece.graphic': ['uvi', 'uvvi', 'uvg', 'uvvg'],\n    'image/vnd.djvu': ['djvu', 'djv'],\n    'image/vnd.dvb.subtitle': ['*sub'],\n    'image/vnd.dwg': ['dwg'],\n    'image/vnd.dxf': ['dxf'],\n    'image/vnd.fastbidsheet': ['fbs'],\n    'image/vnd.fpx': ['fpx'],\n    'image/vnd.fst': ['fst'],\n    'image/vnd.fujixerox.edmics-mmr': ['mmr'],\n    'image/vnd.fujixerox.edmics-rlc': ['rlc'],\n    'image/vnd.microsoft.icon': ['ico'],\n    'image/vnd.ms-dds': ['dds'],\n    'image/vnd.ms-modi': ['mdi'],\n    'image/vnd.ms-photo': ['wdp'],\n    'image/vnd.net-fpx': ['npx'],\n    'image/vnd.pco.b16': ['b16'],\n    'image/vnd.tencent.tap': ['tap'],\n    'image/vnd.valve.source.texture': ['vtf'],\n    'image/vnd.wap.wbmp': ['wbmp'],\n    'image/vnd.xiff': ['xif'],\n    'image/vnd.zbrush.pcx': ['pcx'],\n    'image/x-3ds': ['3ds'],\n    'image/x-adobe-dng': ['dng'],\n    'image/x-cmu-raster': ['ras'],\n    'image/x-cmx': ['cmx'],\n    'image/x-freehand': ['fh', 'fhc', 'fh4', 'fh5', 'fh7'],\n    'image/x-icon': ['*ico'],\n    'image/x-jng': ['jng'],\n    'image/x-mrsid-image': ['sid'],\n    'image/x-ms-bmp': ['*bmp'],\n    'image/x-pcx': ['*pcx'],\n    'image/x-pict': ['pic', 'pct'],\n    'image/x-portable-anymap': ['pnm'],\n    'image/x-portable-bitmap': ['pbm'],\n    'image/x-portable-graymap': ['pgm'],\n    'image/x-portable-pixmap': ['ppm'],\n    'image/x-rgb': ['rgb'],\n    'image/x-tga': ['tga'],\n    'image/x-xbitmap': ['xbm'],\n    'image/x-xpixmap': ['xpm'],\n    'image/x-xwindowdump': ['xwd'],\n    'message/vnd.wfa.wsc': ['wsc'],\n    'model/vnd.bary': ['bary'],\n    'model/vnd.cld': ['cld'],\n    'model/vnd.collada+xml': ['dae'],\n    'model/vnd.dwf': ['dwf'],\n    'model/vnd.gdl': ['gdl'],\n    'model/vnd.gtw': ['gtw'],\n    'model/vnd.mts': ['*mts'],\n    'model/vnd.opengex': ['ogex'],\n    'model/vnd.parasolid.transmit.binary': ['x_b'],\n    'model/vnd.parasolid.transmit.text': ['x_t'],\n    'model/vnd.pytha.pyox': ['pyo', 'pyox'],\n    'model/vnd.sap.vds': ['vds'],\n    'model/vnd.usda': ['usda'],\n    'model/vnd.usdz+zip': ['usdz'],\n    'model/vnd.valve.source.compiled-map': ['bsp'],\n    'model/vnd.vtu': ['vtu'],\n    'text/prs.lines.tag': ['dsc'],\n    'text/vnd.curl': ['curl'],\n    'text/vnd.curl.dcurl': ['dcurl'],\n    'text/vnd.curl.mcurl': ['mcurl'],\n    'text/vnd.curl.scurl': ['scurl'],\n    'text/vnd.dvb.subtitle': ['sub'],\n    'text/vnd.familysearch.gedcom': ['ged'],\n    'text/vnd.fly': ['fly'],\n    'text/vnd.fmi.flexstor': ['flx'],\n    'text/vnd.graphviz': ['gv'],\n    'text/vnd.in3d.3dml': ['3dml'],\n    'text/vnd.in3d.spot': ['spot'],\n    'text/vnd.sun.j2me.app-descriptor': ['jad'],\n    'text/vnd.wap.wml': ['wml'],\n    'text/vnd.wap.wmlscript': ['wmls'],\n    'text/x-asm': ['s', 'asm'],\n    'text/x-c': ['c', 'cc', 'cxx', 'cpp', 'h', 'hh', 'dic'],\n    'text/x-component': ['htc'],\n    'text/x-fortran': ['f', 'for', 'f77', 'f90'],\n    'text/x-handlebars-template': ['hbs'],\n    'text/x-java-source': ['java'],\n    'text/x-lua': ['lua'],\n    'text/x-markdown': ['mkd'],\n    'text/x-nfo': ['nfo'],\n    'text/x-opml': ['opml'],\n    'text/x-org': ['*org'],\n    'text/x-pascal': ['p', 'pas'],\n    'text/x-processing': ['pde'],\n    'text/x-sass': ['sass'],\n    'text/x-scss': ['scss'],\n    'text/x-setext': ['etx'],\n    'text/x-sfv': ['sfv'],\n    'text/x-suse-ymp': ['ymp'],\n    'text/x-uuencode': ['uu'],\n    'text/x-vcalendar': ['vcs'],\n    'text/x-vcard': ['vcf'],\n    'video/vnd.dece.hd': ['uvh', 'uvvh'],\n    'video/vnd.dece.mobile': ['uvm', 'uvvm'],\n    'video/vnd.dece.pd': ['uvp', 'uvvp'],\n    'video/vnd.dece.sd': ['uvs', 'uvvs'],\n    'video/vnd.dece.video': ['uvv', 'uvvv'],\n    'video/vnd.dvb.file': ['dvb'],\n    'video/vnd.fvt': ['fvt'],\n    'video/vnd.mpegurl': ['mxu', 'm4u'],\n    'video/vnd.ms-playready.media.pyv': ['pyv'],\n    'video/vnd.uvvu.mp4': ['uvu', 'uvvu'],\n    'video/vnd.vivo': ['viv'],\n    'video/x-f4v': ['f4v'],\n    'video/x-fli': ['fli'],\n    'video/x-flv': ['flv'],\n    'video/x-m4v': ['m4v'],\n    'video/x-matroska': ['mkv', 'mk3d', 'mks'],\n    'video/x-mng': ['mng'],\n    'video/x-ms-asf': ['asf', 'asx'],\n    'video/x-ms-vob': ['vob'],\n    'video/x-ms-wm': ['wm'],\n    'video/x-ms-wmv': ['wmv'],\n    'video/x-ms-wmx': ['wmx'],\n    'video/x-ms-wvx': ['wvx'],\n    'video/x-msvideo': ['avi'],\n    'video/x-sgi-movie': ['movie'],\n    'video/x-smv': ['smv'],\n    'x-conference/x-cooltalk': ['ice'],\n};\nObject.freeze(types);\nexport default types;\n","const types = {\n    'application/andrew-inset': ['ez'],\n    'application/appinstaller': ['appinstaller'],\n    'application/applixware': ['aw'],\n    'application/appx': ['appx'],\n    'application/appxbundle': ['appxbundle'],\n    'application/atom+xml': ['atom'],\n    'application/atomcat+xml': ['atomcat'],\n    'application/atomdeleted+xml': ['atomdeleted'],\n    'application/atomsvc+xml': ['atomsvc'],\n    'application/atsc-dwd+xml': ['dwd'],\n    'application/atsc-held+xml': ['held'],\n    'application/atsc-rsat+xml': ['rsat'],\n    'application/automationml-aml+xml': ['aml'],\n    'application/automationml-amlx+zip': ['amlx'],\n    'application/bdoc': ['bdoc'],\n    'application/calendar+xml': ['xcs'],\n    'application/ccxml+xml': ['ccxml'],\n    'application/cdfx+xml': ['cdfx'],\n    'application/cdmi-capability': ['cdmia'],\n    'application/cdmi-container': ['cdmic'],\n    'application/cdmi-domain': ['cdmid'],\n    'application/cdmi-object': ['cdmio'],\n    'application/cdmi-queue': ['cdmiq'],\n    'application/cpl+xml': ['cpl'],\n    'application/cu-seeme': ['cu'],\n    'application/cwl': ['cwl'],\n    'application/dash+xml': ['mpd'],\n    'application/dash-patch+xml': ['mpp'],\n    'application/davmount+xml': ['davmount'],\n    'application/dicom': ['dcm'],\n    'application/docbook+xml': ['dbk'],\n    'application/dssc+der': ['dssc'],\n    'application/dssc+xml': ['xdssc'],\n    'application/ecmascript': ['ecma'],\n    'application/emma+xml': ['emma'],\n    'application/emotionml+xml': ['emotionml'],\n    'application/epub+zip': ['epub'],\n    'application/exi': ['exi'],\n    'application/express': ['exp'],\n    'application/fdf': ['fdf'],\n    'application/fdt+xml': ['fdt'],\n    'application/font-tdpfr': ['pfr'],\n    'application/geo+json': ['geojson'],\n    'application/gml+xml': ['gml'],\n    'application/gpx+xml': ['gpx'],\n    'application/gxf': ['gxf'],\n    'application/gzip': ['gz'],\n    'application/hjson': ['hjson'],\n    'application/hyperstudio': ['stk'],\n    'application/inkml+xml': ['ink', 'inkml'],\n    'application/ipfix': ['ipfix'],\n    'application/its+xml': ['its'],\n    'application/java-archive': ['jar', 'war', 'ear'],\n    'application/java-serialized-object': ['ser'],\n    'application/java-vm': ['class'],\n    'application/javascript': ['*js'],\n    'application/json': ['json', 'map'],\n    'application/json5': ['json5'],\n    'application/jsonml+json': ['jsonml'],\n    'application/ld+json': ['jsonld'],\n    'application/lgr+xml': ['lgr'],\n    'application/lost+xml': ['lostxml'],\n    'application/mac-binhex40': ['hqx'],\n    'application/mac-compactpro': ['cpt'],\n    'application/mads+xml': ['mads'],\n    'application/manifest+json': ['webmanifest'],\n    'application/marc': ['mrc'],\n    'application/marcxml+xml': ['mrcx'],\n    'application/mathematica': ['ma', 'nb', 'mb'],\n    'application/mathml+xml': ['mathml'],\n    'application/mbox': ['mbox'],\n    'application/media-policy-dataset+xml': ['mpf'],\n    'application/mediaservercontrol+xml': ['mscml'],\n    'application/metalink+xml': ['metalink'],\n    'application/metalink4+xml': ['meta4'],\n    'application/mets+xml': ['mets'],\n    'application/mmt-aei+xml': ['maei'],\n    'application/mmt-usd+xml': ['musd'],\n    'application/mods+xml': ['mods'],\n    'application/mp21': ['m21', 'mp21'],\n    'application/mp4': ['*mp4', '*mpg4', 'mp4s', 'm4p'],\n    'application/msix': ['msix'],\n    'application/msixbundle': ['msixbundle'],\n    'application/msword': ['doc', 'dot'],\n    'application/mxf': ['mxf'],\n    'application/n-quads': ['nq'],\n    'application/n-triples': ['nt'],\n    'application/node': ['cjs'],\n    'application/octet-stream': [\n        'bin',\n        'dms',\n        'lrf',\n        'mar',\n        'so',\n        'dist',\n        'distz',\n        'pkg',\n        'bpk',\n        'dump',\n        'elc',\n        'deploy',\n        'exe',\n        'dll',\n        'deb',\n        'dmg',\n        'iso',\n        'img',\n        'msi',\n        'msp',\n        'msm',\n        'buffer',\n    ],\n    'application/oda': ['oda'],\n    'application/oebps-package+xml': ['opf'],\n    'application/ogg': ['ogx'],\n    'application/omdoc+xml': ['omdoc'],\n    'application/onenote': [\n        'onetoc',\n        'onetoc2',\n        'onetmp',\n        'onepkg',\n        'one',\n        'onea',\n    ],\n    'application/oxps': ['oxps'],\n    'application/p2p-overlay+xml': ['relo'],\n    'application/patch-ops-error+xml': ['xer'],\n    'application/pdf': ['pdf'],\n    'application/pgp-encrypted': ['pgp'],\n    'application/pgp-keys': ['asc'],\n    'application/pgp-signature': ['sig', '*asc'],\n    'application/pics-rules': ['prf'],\n    'application/pkcs10': ['p10'],\n    'application/pkcs7-mime': ['p7m', 'p7c'],\n    'application/pkcs7-signature': ['p7s'],\n    'application/pkcs8': ['p8'],\n    'application/pkix-attr-cert': ['ac'],\n    'application/pkix-cert': ['cer'],\n    'application/pkix-crl': ['crl'],\n    'application/pkix-pkipath': ['pkipath'],\n    'application/pkixcmp': ['pki'],\n    'application/pls+xml': ['pls'],\n    'application/postscript': ['ai', 'eps', 'ps'],\n    'application/provenance+xml': ['provx'],\n    'application/pskc+xml': ['pskcxml'],\n    'application/raml+yaml': ['raml'],\n    'application/rdf+xml': ['rdf', 'owl'],\n    'application/reginfo+xml': ['rif'],\n    'application/relax-ng-compact-syntax': ['rnc'],\n    'application/resource-lists+xml': ['rl'],\n    'application/resource-lists-diff+xml': ['rld'],\n    'application/rls-services+xml': ['rs'],\n    'application/route-apd+xml': ['rapd'],\n    'application/route-s-tsid+xml': ['sls'],\n    'application/route-usd+xml': ['rusd'],\n    'application/rpki-ghostbusters': ['gbr'],\n    'application/rpki-manifest': ['mft'],\n    'application/rpki-roa': ['roa'],\n    'application/rsd+xml': ['rsd'],\n    'application/rss+xml': ['rss'],\n    'application/rtf': ['rtf'],\n    'application/sbml+xml': ['sbml'],\n    'application/scvp-cv-request': ['scq'],\n    'application/scvp-cv-response': ['scs'],\n    'application/scvp-vp-request': ['spq'],\n    'application/scvp-vp-response': ['spp'],\n    'application/sdp': ['sdp'],\n    'application/senml+xml': ['senmlx'],\n    'application/sensml+xml': ['sensmlx'],\n    'application/set-payment-initiation': ['setpay'],\n    'application/set-registration-initiation': ['setreg'],\n    'application/shf+xml': ['shf'],\n    'application/sieve': ['siv', 'sieve'],\n    'application/smil+xml': ['smi', 'smil'],\n    'application/sparql-query': ['rq'],\n    'application/sparql-results+xml': ['srx'],\n    'application/sql': ['sql'],\n    'application/srgs': ['gram'],\n    'application/srgs+xml': ['grxml'],\n    'application/sru+xml': ['sru'],\n    'application/ssdl+xml': ['ssdl'],\n    'application/ssml+xml': ['ssml'],\n    'application/swid+xml': ['swidtag'],\n    'application/tei+xml': ['tei', 'teicorpus'],\n    'application/thraud+xml': ['tfi'],\n    'application/timestamped-data': ['tsd'],\n    'application/toml': ['toml'],\n    'application/trig': ['trig'],\n    'application/ttml+xml': ['ttml'],\n    'application/ubjson': ['ubj'],\n    'application/urc-ressheet+xml': ['rsheet'],\n    'application/urc-targetdesc+xml': ['td'],\n    'application/voicexml+xml': ['vxml'],\n    'application/wasm': ['wasm'],\n    'application/watcherinfo+xml': ['wif'],\n    'application/widget': ['wgt'],\n    'application/winhlp': ['hlp'],\n    'application/wsdl+xml': ['wsdl'],\n    'application/wspolicy+xml': ['wspolicy'],\n    'application/xaml+xml': ['xaml'],\n    'application/xcap-att+xml': ['xav'],\n    'application/xcap-caps+xml': ['xca'],\n    'application/xcap-diff+xml': ['xdf'],\n    'application/xcap-el+xml': ['xel'],\n    'application/xcap-ns+xml': ['xns'],\n    'application/xenc+xml': ['xenc'],\n    'application/xfdf': ['xfdf'],\n    'application/xhtml+xml': ['xhtml', 'xht'],\n    'application/xliff+xml': ['xlf'],\n    'application/xml': ['xml', 'xsl', 'xsd', 'rng'],\n    'application/xml-dtd': ['dtd'],\n    'application/xop+xml': ['xop'],\n    'application/xproc+xml': ['xpl'],\n    'application/xslt+xml': ['*xsl', 'xslt'],\n    'application/xspf+xml': ['xspf'],\n    'application/xv+xml': ['mxml', 'xhvml', 'xvml', 'xvm'],\n    'application/yang': ['yang'],\n    'application/yin+xml': ['yin'],\n    'application/zip': ['zip'],\n    'application/zip+dotlottie': ['lottie'],\n    'audio/3gpp': ['*3gpp'],\n    'audio/aac': ['adts', 'aac'],\n    'audio/adpcm': ['adp'],\n    'audio/amr': ['amr'],\n    'audio/basic': ['au', 'snd'],\n    'audio/midi': ['mid', 'midi', 'kar', 'rmi'],\n    'audio/mobile-xmf': ['mxmf'],\n    'audio/mp3': ['*mp3'],\n    'audio/mp4': ['m4a', 'mp4a', 'm4b'],\n    'audio/mpeg': ['mpga', 'mp2', 'mp2a', 'mp3', 'm2a', 'm3a'],\n    'audio/ogg': ['oga', 'ogg', 'spx', 'opus'],\n    'audio/s3m': ['s3m'],\n    'audio/silk': ['sil'],\n    'audio/wav': ['wav'],\n    'audio/wave': ['*wav'],\n    'audio/webm': ['weba'],\n    'audio/xm': ['xm'],\n    'font/collection': ['ttc'],\n    'font/otf': ['otf'],\n    'font/ttf': ['ttf'],\n    'font/woff': ['woff'],\n    'font/woff2': ['woff2'],\n    'image/aces': ['exr'],\n    'image/apng': ['apng'],\n    'image/avci': ['avci'],\n    'image/avcs': ['avcs'],\n    'image/avif': ['avif'],\n    'image/bmp': ['bmp', 'dib'],\n    'image/cgm': ['cgm'],\n    'image/dicom-rle': ['drle'],\n    'image/dpx': ['dpx'],\n    'image/emf': ['emf'],\n    'image/fits': ['fits'],\n    'image/g3fax': ['g3'],\n    'image/gif': ['gif'],\n    'image/heic': ['heic'],\n    'image/heic-sequence': ['heics'],\n    'image/heif': ['heif'],\n    'image/heif-sequence': ['heifs'],\n    'image/hej2k': ['hej2'],\n    'image/ief': ['ief'],\n    'image/jaii': ['jaii'],\n    'image/jais': ['jais'],\n    'image/jls': ['jls'],\n    'image/jp2': ['jp2', 'jpg2'],\n    'image/jpeg': ['jpg', 'jpeg', 'jpe'],\n    'image/jph': ['jph'],\n    'image/jphc': ['jhc'],\n    'image/jpm': ['jpm', 'jpgm'],\n    'image/jpx': ['jpx', 'jpf'],\n    'image/jxl': ['jxl'],\n    'image/jxr': ['jxr'],\n    'image/jxra': ['jxra'],\n    'image/jxrs': ['jxrs'],\n    'image/jxs': ['jxs'],\n    'image/jxsc': ['jxsc'],\n    'image/jxsi': ['jxsi'],\n    'image/jxss': ['jxss'],\n    'image/ktx': ['ktx'],\n    'image/ktx2': ['ktx2'],\n    'image/pjpeg': ['jfif'],\n    'image/png': ['png'],\n    'image/sgi': ['sgi'],\n    'image/svg+xml': ['svg', 'svgz'],\n    'image/t38': ['t38'],\n    'image/tiff': ['tif', 'tiff'],\n    'image/tiff-fx': ['tfx'],\n    'image/webp': ['webp'],\n    'image/wmf': ['wmf'],\n    'message/disposition-notification': ['disposition-notification'],\n    'message/global': ['u8msg'],\n    'message/global-delivery-status': ['u8dsn'],\n    'message/global-disposition-notification': ['u8mdn'],\n    'message/global-headers': ['u8hdr'],\n    'message/rfc822': ['eml', 'mime', 'mht', 'mhtml'],\n    'model/3mf': ['3mf'],\n    'model/gltf+json': ['gltf'],\n    'model/gltf-binary': ['glb'],\n    'model/iges': ['igs', 'iges'],\n    'model/jt': ['jt'],\n    'model/mesh': ['msh', 'mesh', 'silo'],\n    'model/mtl': ['mtl'],\n    'model/obj': ['obj'],\n    'model/prc': ['prc'],\n    'model/step': ['step', 'stp', 'stpnc', 'p21', '210'],\n    'model/step+xml': ['stpx'],\n    'model/step+zip': ['stpz'],\n    'model/step-xml+zip': ['stpxz'],\n    'model/stl': ['stl'],\n    'model/u3d': ['u3d'],\n    'model/vrml': ['wrl', 'vrml'],\n    'model/x3d+binary': ['*x3db', 'x3dbz'],\n    'model/x3d+fastinfoset': ['x3db'],\n    'model/x3d+vrml': ['*x3dv', 'x3dvz'],\n    'model/x3d+xml': ['x3d', 'x3dz'],\n    'model/x3d-vrml': ['x3dv'],\n    'text/cache-manifest': ['appcache', 'manifest'],\n    'text/calendar': ['ics', 'ifb'],\n    'text/coffeescript': ['coffee', 'litcoffee'],\n    'text/css': ['css'],\n    'text/csv': ['csv'],\n    'text/html': ['html', 'htm', 'shtml'],\n    'text/jade': ['jade'],\n    'text/javascript': ['js', 'mjs'],\n    'text/jsx': ['jsx'],\n    'text/less': ['less'],\n    'text/markdown': ['md', 'markdown'],\n    'text/mathml': ['mml'],\n    'text/mdx': ['mdx'],\n    'text/n3': ['n3'],\n    'text/plain': ['txt', 'text', 'conf', 'def', 'list', 'log', 'in', 'ini'],\n    'text/richtext': ['rtx'],\n    'text/rtf': ['*rtf'],\n    'text/sgml': ['sgml', 'sgm'],\n    'text/shex': ['shex'],\n    'text/slim': ['slim', 'slm'],\n    'text/spdx': ['spdx'],\n    'text/stylus': ['stylus', 'styl'],\n    'text/tab-separated-values': ['tsv'],\n    'text/troff': ['t', 'tr', 'roff', 'man', 'me', 'ms'],\n    'text/turtle': ['ttl'],\n    'text/uri-list': ['uri', 'uris', 'urls'],\n    'text/vcard': ['vcard'],\n    'text/vtt': ['vtt'],\n    'text/wgsl': ['wgsl'],\n    'text/xml': ['*xml'],\n    'text/yaml': ['yaml', 'yml'],\n    'video/3gpp': ['3gp', '3gpp'],\n    'video/3gpp2': ['3g2'],\n    'video/h261': ['h261'],\n    'video/h263': ['h263'],\n    'video/h264': ['h264'],\n    'video/iso.segment': ['m4s'],\n    'video/jpeg': ['jpgv'],\n    'video/jpm': ['*jpm', '*jpgm'],\n    'video/mj2': ['mj2', 'mjp2'],\n    'video/mp2t': ['ts', 'm2t', 'm2ts', 'mts'],\n    'video/mp4': ['mp4', 'mp4v', 'mpg4'],\n    'video/mpeg': ['mpeg', 'mpg', 'mpe', 'm1v', 'm2v'],\n    'video/ogg': ['ogv'],\n    'video/quicktime': ['qt', 'mov'],\n    'video/webm': ['webm'],\n};\nObject.freeze(types);\nexport default types;\n","var __classPrivateFieldGet = (this && this.__classPrivateFieldGet) || function (receiver, state, kind, f) {\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n};\nvar _Mime_extensionToType, _Mime_typeToExtension, _Mime_typeToExtensions;\nclass Mime {\n    constructor(...args) {\n        _Mime_extensionToType.set(this, new Map());\n        _Mime_typeToExtension.set(this, new Map());\n        _Mime_typeToExtensions.set(this, new Map());\n        for (const arg of args) {\n            this.define(arg);\n        }\n    }\n    define(typeMap, force = false) {\n        for (let [type, extensions] of Object.entries(typeMap)) {\n            type = type.toLowerCase();\n            extensions = extensions.map((ext) => ext.toLowerCase());\n            if (!__classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").has(type)) {\n                __classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").set(type, new Set());\n            }\n            const allExtensions = __classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").get(type);\n            let first = true;\n            for (let extension of extensions) {\n                const starred = extension.startsWith('*');\n                extension = starred ? extension.slice(1) : extension;\n                allExtensions?.add(extension);\n                if (first) {\n                    __classPrivateFieldGet(this, _Mime_typeToExtension, \"f\").set(type, extension);\n                }\n                first = false;\n                if (starred)\n                    continue;\n                const currentType = __classPrivateFieldGet(this, _Mime_extensionToType, \"f\").get(extension);\n                if (currentType && currentType != type && !force) {\n                    throw new Error(`\"${type} -> ${extension}\" conflicts with \"${currentType} -> ${extension}\". Pass \\`force=true\\` to override this definition.`);\n                }\n                __classPrivateFieldGet(this, _Mime_extensionToType, \"f\").set(extension, type);\n            }\n        }\n        return this;\n    }\n    getType(path) {\n        if (typeof path !== 'string')\n            return null;\n        const last = path.replace(/^.*[/\\\\]/s, '').toLowerCase();\n        const ext = last.replace(/^.*\\./s, '').toLowerCase();\n        const hasPath = last.length < path.length;\n        const hasDot = ext.length < last.length - 1;\n        if (!hasDot && hasPath)\n            return null;\n        return __classPrivateFieldGet(this, _Mime_extensionToType, \"f\").get(ext) ?? null;\n    }\n    getExtension(type) {\n        if (typeof type !== 'string')\n            return null;\n        type = type?.split?.(';')[0];\n        return ((type && __classPrivateFieldGet(this, _Mime_typeToExtension, \"f\").get(type.trim().toLowerCase())) ?? null);\n    }\n    getAllExtensions(type) {\n        if (typeof type !== 'string')\n            return null;\n        return __classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").get(type.toLowerCase()) ?? null;\n    }\n    _freeze() {\n        this.define = () => {\n            throw new Error('define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances');\n        };\n        Object.freeze(this);\n        for (const extensions of __classPrivateFieldGet(this, _Mime_typeToExtensions, \"f\").values()) {\n            Object.freeze(extensions);\n        }\n        return this;\n    }\n    _getTestState() {\n        return {\n            types: __classPrivateFieldGet(this, _Mime_extensionToType, \"f\"),\n            extensions: __classPrivateFieldGet(this, _Mime_typeToExtension, \"f\"),\n        };\n    }\n}\n_Mime_extensionToType = new WeakMap(), _Mime_typeToExtension = new WeakMap(), _Mime_typeToExtensions = new WeakMap();\nexport default Mime;\n","import otherTypes from '../types/other.js';\nimport standardTypes from '../types/standard.js';\nimport Mime from './Mime.js';\nexport { default as Mime } from './Mime.js';\nexport default new Mime(standardTypes, otherTypes)._freeze();\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-file-type\"\n  >\n    <path\n      d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"\n    />\n    <polyline points=\"14 2 14 8 20 8\" />\n    <path d=\"M9 13v-1h6v1\" />\n    <path d=\"M11 18h2\" />\n    <path d=\"M12 12v6\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-file-image\"\n  >\n    <path\n      d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"\n    />\n    <polyline points=\"14 2 14 8 20 8\" />\n    <circle cx=\"10\" cy=\"13\" r=\"2\" />\n    <path d=\"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-file-text\"\n  >\n    <path\n      d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"\n    />\n    <polyline points=\"14 2 14 8 20 8\" />\n    <line x1=\"16\" x2=\"8\" y1=\"13\" y2=\"13\" />\n    <line x1=\"16\" x2=\"8\" y1=\"17\" y2=\"17\" />\n    <line x1=\"10\" x2=\"8\" y1=\"9\" y2=\"9\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-file-spreadsheet\"\n  >\n    <path\n      d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"\n    />\n    <polyline points=\"14 2 14 8 20 8\" />\n    <path d=\"M8 13h2\" />\n    <path d=\"M8 17h2\" />\n    <path d=\"M14 13h2\" />\n    <path d=\"M14 17h2\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-file\"\n  >\n    <path\n      d=\"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z\"\n    />\n    <polyline points=\"14 2 14 8 20 8\" />\n  </svg>\n</template>\n","<template>\n  <span>\n    <a :href=\"isShowable ? null : url\" target=\"_blank\">\n      <Button\n        :label=\"label\"\n        theme=\"gray\"\n        variant=\"outline\"\n        :iconLeft=\"getIcon()\"\n        @click=\"toggleDialog()\"\n      >\n        <template #suffix>\n          <slot name=\"suffix\" />\n        </template>\n      </Button>\n    </a>\n    <Dialog\n      v-model=\"showDialog\"\n      :options=\"{\n        title: label,\n        size: '4xl',\n      }\"\n    >\n      <template #body-content>\n        <div\n          v-if=\"isText\"\n          class=\"prose prose-sm max-w-none whitespace-pre-wrap\"\n        >\n          {{ content }}\n        </div>\n        <img v-if=\"isImage\" :src=\"url\" class=\"m-auto rounded border\" />\n      </template>\n    </Dialog>\n  </span>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport mime from 'mime'\nimport FileTypeIcon from '@/components/Icons/FileTypeIcon.vue'\nimport FileImageIcon from '@/components/Icons/FileImageIcon.vue'\nimport FileTextIcon from '@/components/Icons/FileTextIcon.vue'\nimport FileSpreadsheetIcon from '@/components/Icons/FileSpreadsheetIcon.vue'\nimport FileIcon from '@/components/Icons/FileIcon.vue'\n\nconst props = defineProps({\n  label: {\n    type: String,\n    default: null,\n  },\n  url: {\n    type: String,\n    default: null,\n  },\n})\n\nconst showDialog = ref(false)\nconst mimeType = mime.getType(props.label) || ''\nconst isImage = mimeType.startsWith('image/')\nconst isPdf = mimeType === 'application/pdf'\nconst isSpreadsheet = mimeType.includes('spreadsheet')\nconst isText = mimeType === 'text/plain'\nconst isShowable = props.url && (isText || isImage)\nconst content = ref('')\n\nfunction getIcon() {\n  if (isText) return FileTypeIcon\n  else if (isImage) return FileImageIcon\n  else if (isPdf) return FileTextIcon\n  else if (isSpreadsheet) return FileSpreadsheetIcon\n  else return FileIcon\n}\n\nfunction toggleDialog() {\n  if (!isShowable) return\n  if (isText) {\n    fetch(props.url).then((res) => res.text().then((t) => (content.value = t)))\n  }\n  showDialog.value = !showDialog.value\n}\n</script>\n","<template>\n  <iframe\n    ref=\"iframeRef\"\n    :srcdoc=\"htmlContent\"\n    class=\"prose-f block h-10 max-h-[500px] w-full\"\n  />\n</template>\n\n<script setup>\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  content: {\n    type: String,\n    required: true,\n  },\n})\n\nconst files = import.meta.globEager('/src/index.css', { query: '?inline' })\nconst css = files['/src/index.css'].default\n\nconst iframeRef = ref(null)\nconst _content = ref(props.content)\n\nconst parser = new DOMParser()\nconst doc = parser.parseFromString(_content.value, 'text/html')\n\nconst gmailReplyToContent = doc.querySelectorAll('div.gmail_quote')\nconst outlookReplyToContent = doc.querySelectorAll('div#appendonsend')\nconst replyToContent = doc.querySelectorAll('p.reply-to-content')\n\nif (gmailReplyToContent.length) {\n  _content.value = parseReplyToContent(doc, 'div.gmail_quote', true)\n} else if (outlookReplyToContent.length) {\n  _content.value = parseReplyToContent(doc, 'div#appendonsend')\n} else if (replyToContent.length) {\n  _content.value = parseReplyToContent(doc, 'p.reply-to-content')\n}\n\nfunction parseReplyToContent(doc, selector, forGmail = false) {\n  function handleAllInstances(doc) {\n    const replyToContentElements = doc.querySelectorAll(selector)\n    if (replyToContentElements.length === 0) return\n    const replyToContentElement = replyToContentElements[0]\n    replaceReplyToContent(replyToContentElement, forGmail)\n    handleAllInstances(doc)\n  }\n\n  handleAllInstances(doc)\n\n  return doc.body.innerHTML\n}\n\nfunction replaceReplyToContent(replyToContentElement, forGmail) {\n  if (!replyToContentElement) return\n  let randomId = Math.random().toString(36).substring(2, 7)\n  const wrapper = doc.createElement('div')\n  wrapper.classList.add('replied-content')\n\n  const collapseLabel = doc.createElement('label')\n  collapseLabel.classList.add('collapse')\n  collapseLabel.setAttribute('for', randomId)\n  collapseLabel.innerHTML = '...'\n  wrapper.appendChild(collapseLabel)\n\n  const collapseInput = doc.createElement('input')\n  collapseInput.setAttribute('id', randomId)\n  collapseInput.setAttribute('class', 'replyCollapser')\n  collapseInput.setAttribute('type', 'checkbox')\n  wrapper.appendChild(collapseInput)\n\n  if (forGmail) {\n    const prevSibling = replyToContentElement.previousElementSibling\n    if (prevSibling && prevSibling.tagName === 'BR') {\n      prevSibling.remove()\n    }\n    let cloned = replyToContentElement.cloneNode(true)\n    cloned.classList.remove('gmail_quote')\n    wrapper.appendChild(cloned)\n  } else {\n    const allSiblings = Array.from(replyToContentElement.parentElement.children)\n    const replyToContentIndex = allSiblings.indexOf(replyToContentElement)\n    const followingSiblings = allSiblings.slice(replyToContentIndex + 1)\n\n    if (followingSiblings.length === 0) return\n\n    let clonedFollowingSiblings = followingSiblings.map((sibling) =>\n      sibling.cloneNode(true),\n    )\n\n    const div = doc.createElement('div')\n    div.append(...clonedFollowingSiblings)\n\n    wrapper.append(div)\n\n    // Remove all siblings after the reply-to-content element\n    for (let i = replyToContentIndex + 1; i < allSiblings.length; i++) {\n      replyToContentElement.parentElement.removeChild(allSiblings[i])\n    }\n  }\n\n  replyToContentElement.parentElement.replaceChild(\n    wrapper,\n    replyToContentElement,\n  )\n}\n\nconst htmlContent = `\n<!DOCTYPE html>\n<html>\n<head>\n  <style>\n    ${css}\n    :root {\n      --bg-surface-gray-3: #ededed;\n      --bg-surface-gray-4: #e2e2e2;\n    }\n    [data-theme='dark'] {\n      --bg-surface-gray-3: #343434;\n      --bg-surface-gray-4: #424242;\n    }\n\n    .replied-content .collapse {\n      margin: 10px 0 10px 0;\n      visibility: visible;\n      cursor: pointer;\n      display: flex;\n      font-size: larger;\n      font-weight: 700;\n      height: 12px;\n      line-height: 0.1;\n      background: var(--bg-surface-gray-3);\n      width: 23px;\n      justify-content: center;\n      border-radius: 5px;\n    }\n\n    .replied-content .collapse:hover {\n      background: var(--bg-surface-gray-4);\n    }\n\n    .replied-content .collapse + input {\n      display: none;\n    }\n    .replied-content .collapse + input + div {\n      display: none;\n    }\n    .replied-content .collapse + input:checked + div {\n      display: block;\n    }\n\n    .email-content {\n        word-break: break-word;\n    }\n    .email-content\n        :is(:where(table):not(:where([class~='not-prose'], [class~='not-prose']\n            *))) {\n    table-layout: auto;\n    }\n\n    .email-content\n        :where(table):not(:where([class~='not-prose'], [class~='not-prose'] *)) {\n    width: unset;\n    table-layout: auto;\n    text-align: unset;\n    margin-top: unset;\n    margin-bottom: unset;\n    font-size: unset;\n    line-height: unset;\n    }\n\n    /* tr */\n\n    .email-content\n        :where(tbody tr):not(:where([class~='not-prose'], [class~='not-prose']\n            *)) {\n    border-bottom-width: 0;\n    border-bottom-color: transparent;\n    }\n\n    /* td */\n\n    .email-content\n        :is(:where(td):not(:where([class~='not-prose'], [class~='not-prose'] *))) {\n    position: unset;\n    border-width: 0;\n    border-color: transparent;\n    padding: 0;\n    }\n\n    .email-content\n        :where(tbody td):not(:where([class~='not-prose'], [class~='not-prose']\n            *)) {\n    vertical-align: revert;\n    }\n\n    /* image */\n    .email-content\n        :is(:where(img):not(:where([class~='not-prose'], [class~='not-prose']\n            *))) {\n    border-width: 0;\n    }\n\n    .email-content\n        :where(img):not(:where([class~='not-prose'], [class~='not-prose'] *)) {\n    margin: 0;\n    }\n\n    /* before & after */\n\n    .email-content\n        :where(blockquote\n        p:first-of-type):not(:where([class~='not-prose'], [class~='not-prose']\n            *))::before {\n    content: none;\n    }\n\n    .email-content\n        :where(blockquote\n        p:last-of-type):not(:where([class~='not-prose'], [class~='not-prose']\n            *))::after {\n    content: none;\n    }\n  </style>\n</head>\n<body>\n    <div ref=\"emailContentRef\" class=\"email-content prose-f\">${_content.value}</div>\n</body>\n</html>\n`\n\nwatch(iframeRef, (iframe) => {\n  if (iframe) {\n    iframe.onload = () => {\n      const emailContent =\n        iframe.contentWindow.document.querySelector('.email-content')\n      let parent = emailContent.closest('html')\n\n      let theme = document.documentElement.getAttribute('data-theme')\n      parent.setAttribute('data-theme', theme)\n\n      iframe.style.height = parent.offsetHeight + 1 + 'px'\n\n      let replyCollapsers = emailContent.querySelectorAll('.replyCollapser')\n      if (replyCollapsers.length) {\n        replyCollapsers.forEach((replyCollapser) => {\n          replyCollapser.addEventListener('change', () => {\n            iframe.style.height = parent.offsetHeight + 1 + 'px'\n          })\n        })\n      }\n    }\n  }\n})\n</script>\n","<template>\n  <div\n    class=\"cursor-pointer flex flex-col rounded-md shadow bg-surface-cards px-3 py-1.5 text-base transition-all duration-300 ease-in-out\"\n  >\n    <div\n      class=\"-mb-0.5 flex items-center justify-between gap-2 truncate text-ink-gray-9\"\n    >\n      <div class=\"flex items-center gap-2 truncate\">\n        <span>{{ activity.data.sender_full_name }}</span>\n        <span class=\"sm:flex hidden text-sm text-ink-gray-5\">\n          {{ '<' + activity.data.sender + '>' }}\n        </span>\n        <Badge\n          v-if=\"activity.communication_type == 'Automated Message'\"\n          :label=\"__('Notification')\"\n          variant=\"subtle\"\n          theme=\"green\"\n        />\n      </div>\n      <div class=\"flex items-center gap-2 shrink-0\">\n        <Badge\n          v-if=\"status.label\"\n          :label=\"__(status.label)\"\n          variant=\"subtle\"\n          :theme=\"status.color\"\n        />\n        <Tooltip :text=\"formatDate(activity.communication_date)\">\n          <div class=\"text-sm text-ink-gray-5\">\n            {{ __(timeAgo(activity.communication_date)) }}\n          </div>\n        </Tooltip>\n        <div class=\"flex gap-0.5\">\n          <Button\n            :tooltip=\"__('Reply')\"\n            variant=\"ghost\"\n            class=\"text-ink-gray-7\"\n            :icon=\"ReplyIcon\"\n            @click=\"reply(activity.data)\"\n          />\n          <Button\n            :tooltip=\"__('Reply All')\"\n            variant=\"ghost\"\n            :icon=\"ReplyAllIcon\"\n            class=\"text-ink-gray-7\"\n            @click=\"reply(activity.data, true)\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"flex flex-col gap-1 text-base leading-5 text-ink-gray-8\">\n      <div>{{ activity.data.subject }}</div>\n      <div>\n        <span class=\"mr-1 text-ink-gray-5\"> {{ __('To') }}: </span>\n        <span>{{ activity.data.recipients }}</span>\n        <span v-if=\"activity.data.cc\">, </span>\n        <span v-if=\"activity.data.cc\" class=\"mr-1 text-ink-gray-5\">\n          {{ __('CC') }}:\n        </span>\n        <span v-if=\"activity.data.cc\">{{ activity.data.cc }}</span>\n        <span v-if=\"activity.data.bcc\">, </span>\n        <span v-if=\"activity.data.bcc\" class=\"mr-1 text-ink-gray-5\">\n          {{ __('BCC') }}:\n        </span>\n        <span v-if=\"activity.data.bcc\">{{ activity.data.bcc }}</span>\n      </div>\n    </div>\n    <div class=\"border-0 border-t mt-3 mb-1 border-outline-gray-modals\" />\n    <EmailContent :content=\"activity.data.content\" />\n    <div v-if=\"activity.data?.attachments?.length\" class=\"flex flex-wrap gap-2\">\n      <AttachmentItem\n        v-for=\"a in activity.data.attachments\"\n        :key=\"a.file_url\"\n        :label=\"a.file_name\"\n        :url=\"a.file_url\"\n      />\n    </div>\n  </div>\n</template>\n<script setup>\nimport ReplyIcon from '@/components/Icons/ReplyIcon.vue'\nimport ReplyAllIcon from '@/components/Icons/ReplyAllIcon.vue'\nimport AttachmentItem from '@/components/AttachmentItem.vue'\nimport EmailContent from '@/components/Activities/EmailContent.vue'\nimport { Badge, Tooltip } from 'frappe-ui'\nimport { timeAgo, formatDate } from '@/utils'\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  activity: Object,\n  emailBox: Object,\n})\n\nfunction reply(email, reply_all = false) {\n  props.emailBox.show = true\n  let editor = props.emailBox.editor\n  let message = email.content\n  let recipients = email.recipients.split(',').map((r) => r.trim())\n  editor.toEmails = [email.sender]\n  editor.cc = editor.bcc = false\n  editor.ccEmails = []\n  editor.bccEmails = []\n\n  if (!email.subject.startsWith('Re:')) {\n    editor.subject = `Re: ${email.subject}`\n  } else {\n    editor.subject = email.subject\n  }\n\n  if (reply_all) {\n    let cc = email.cc?.split(',').map((r) => r.trim())\n    let bcc = email.bcc?.split(',').map((r) => r.trim())\n\n    if (cc?.length) {\n      recipients = recipients.filter((r) => !cc?.includes(r))\n      cc.push(...recipients)\n    } else {\n      cc = recipients\n    }\n\n    editor.cc = cc ? true : false\n    editor.bcc = bcc ? true : false\n\n    editor.ccEmails = cc\n    editor.bccEmails = bcc\n  }\n\n  let repliedMessage = `<blockquote>${message}</blockquote>`\n\n  editor.editor\n    .chain()\n    .clearContent()\n    .insertContent('<p>.</p>')\n    .updateAttributes('paragraph', { class: 'reply-to-content' })\n    .insertContent(repliedMessage)\n    .focus('all')\n    .insertContentAt(0, { type: 'paragraph' })\n    .focus('start')\n    .run()\n}\n\nconst status = computed(() => {\n  let _status = props.activity?.data?.delivery_status\n  let indicator_color = 'red'\n  if (['Sent', 'Clicked'].includes(_status)) {\n    indicator_color = 'green'\n  } else if (['Sending', 'Scheduled'].includes(_status)) {\n    indicator_color = 'orange'\n  } else if (['Opened', 'Read'].includes(_status)) {\n    indicator_color = 'blue'\n  } else if (_status == 'Error') {\n    indicator_color = 'red'\n  }\n  return { label: _status, color: indicator_color }\n})\n</script>\n","<template>\n  <div :id=\"activity.name\">\n    <div class=\"mb-1 flex items-center justify-stretch gap-2 py-1 text-base\">\n      <div class=\"inline-flex items-center flex-wrap gap-1 text-ink-gray-5\">\n        <UserAvatar class=\"mr-1\" :user=\"activity.owner\" size=\"md\" />\n        <span class=\"font-medium text-ink-gray-8\">\n          {{ activity.owner_name }}\n        </span>\n        <span>{{ __('added a') }}</span>\n        <span class=\"max-w-xs truncate font-medium text-ink-gray-8\">\n          {{ __('comment') }}\n        </span>\n      </div>\n      <div class=\"ml-auto whitespace-nowrap\">\n        <Tooltip :text=\"formatDate(activity.creation)\">\n          <div class=\"text-sm text-ink-gray-5\">\n            {{ __(timeAgo(activity.creation)) }}\n          </div>\n        </Tooltip>\n      </div>\n    </div>\n    <div\n      class=\"cursor-pointer rounded bg-surface-gray-1 px-3 py-[7.5px] text-base leading-6 transition-all duration-300 ease-in-out\"\n    >\n      <div class=\"prose-f\" v-html=\"activity.content\" />\n      <div v-if=\"activity.attachments.length\" class=\"mt-2 flex flex-wrap gap-2\">\n        <AttachmentItem\n          v-for=\"a in activity.attachments\"\n          :key=\"a.file_url\"\n          :label=\"a.file_name\"\n          :url=\"a.file_url\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport AttachmentItem from '@/components/AttachmentItem.vue'\nimport { Tooltip } from 'frappe-ui'\nimport { timeAgo, formatDate } from '@/utils'\nconst props = defineProps({\n  activity: Object,\n})\n</script>\n","<template>\n  <svg\n    width=\"12\"\n    height=\"12\"\n    viewBox=\"0 0 12 12\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M3.76527 2.76476L3.76515 2.76469C3.76518 2.76471 3.76516 2.7647 3.76508 2.76466C3.76417 2.76417 3.75528 2.75942 3.73828 2.7571V9.24215C3.75528 9.23982 3.76418 9.23508 3.76508 9.23459C3.76516 9.23455 3.76518 9.23454 3.76515 9.23456L3.76527 9.23448L8.75611 5.99962L3.76527 2.76476ZM9.5471 6.67863L4.30917 10.0736C4.01166 10.2665 3.61363 10.2975 3.28101 10.1538C2.94839 10.01 2.73828 9.71611 2.73828 9.39463V2.60462C2.73828 2.28313 2.94839 1.98924 3.28101 1.84547C3.61363 1.7017 4.01166 1.73272 4.30917 1.92561L9.5471 5.32062C9.79432 5.48091 9.93982 5.73247 9.93982 5.99962C9.93982 6.26677 9.79432 6.51833 9.5471 6.67863Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M6 4.5V11.5C6 12.3284 5.32843 13 4.5 13C3.67157 13 3 12.3284 3 11.5V4.5C3 3.67157 3.67157 3 4.5 3C5.32843 3 6 3.67157 6 4.5ZM2 4.5C2 3.11929 3.11929 2 4.5 2C5.88071 2 7 3.11929 7 4.5V11.5C7 12.8807 5.88071 14 4.5 14C3.11929 14 2 12.8807 2 11.5V4.5ZM13 4.5V11.5C13 12.3284 12.3284 13 11.5 13C10.6716 13 10 12.3284 10 11.5V4.5C10 3.67157 10.6716 3 11.5 3C12.3284 3 13 3.67157 13 4.5ZM9 4.5C9 3.11929 10.1193 2 11.5 2C12.8807 2 14 3.11929 14 4.5V11.5C14 12.8807 12.8807 14 11.5 14C10.1193 14 9 12.8807 9 11.5V4.5Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M5.05142 5.27273H2.6926C2.3798 5.27273 2.07981 5.38766 1.85863 5.59225C1.63744 5.79683 1.51318 6.07431 1.51318 6.36364V9.63636C1.51318 9.92569 1.63744 10.2032 1.85863 10.4078C2.07981 10.6123 2.3798 10.7273 2.6926 10.7273H5.05142L9.76908 14V2L5.05142 5.27273Z\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M11.5 5.5C11.8143 5.81281 12.066 6.1975 12.2384 6.62854C12.4108 7.05958 12.5 7.52708 12.5 8C12.5 8.47292 12.4108 8.94042 12.2384 9.37146C12.066 9.8025 11.8143 10.1872 11.5 10.5\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M5.05142 5.27273H2.6926C2.3798 5.27273 2.07981 5.38766 1.85863 5.59225C1.63744 5.79683 1.51318 6.07431 1.51318 6.36364V9.63636C1.51318 9.92569 1.63744 10.2032 1.85863 10.4078C2.07981 10.6123 2.3798 10.7273 2.6926 10.7273H5.05142L9.76908 14V2L5.05142 5.27273Z\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M11.5 5.5C11.8143 5.81281 12.066 6.1975 12.2384 6.62854C12.4108 7.05958 12.5 7.52708 12.5 8C12.5 8.47292 12.4108 8.94042 12.2384 9.37146C12.066 9.8025 11.8143 10.1872 11.5 10.5\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M12.5 3C13.1286 3.62561 13.632 4.39501 13.9768 5.25708C14.3217 6.11915 14.5 7.05416 14.5 8C14.5 8.94584 14.3217 9.88085 13.9768 10.7429C13.632 11.605 13.1286 12.3744 12.5 13\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M5.05142 5.27273H2.6926C2.3798 5.27273 2.07981 5.38766 1.85863 5.59225C1.63744 5.79683 1.51318 6.07431 1.51318 6.36364V9.63636C1.51318 9.92569 1.63744 10.2032 1.85863 10.4078C2.07981 10.6123 2.3798 10.7273 2.6926 10.7273H5.05142L9.76908 14V2L5.05142 5.27273Z\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M11.5 5.5C11.8143 5.81281 12.066 6.1975 12.2384 6.62854C12.4108 7.05958 12.5 7.52708 12.5 8C12.5 8.47292 12.4108 8.94042 12.2384 9.37146C12.066 9.8025 11.8143 10.1872 11.5 10.5\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M12.5 3C13.1286 3.62561 13.632 4.39501 13.9768 5.25708C14.3217 6.11915 14.5 7.05416 14.5 8C14.5 8.94584 14.3217 9.88085 13.9768 10.7429C13.632 11.605 13.1286 12.3744 12.5 13\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <path\n      d=\"M5.25 3.07596L13.7286 12.2609\"\n      stroke=\"white\"\n      stroke-linecap=\"round\"\n    />\n    <path\n      d=\"M2.97913 2.0192L14.0209 13.9808\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle\n      cx=\"8\"\n      cy=\"8\"\n      r=\"6.5\"\n      stroke=\"currentColor\"\n      stroke-linecap=\"round\"\n      stroke-dasharray=\"1.9 1.9\"\n    />\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M7.5 14.9824C7.66515 14.9941 7.83188 15 8 15C11.866 15 15 11.866 15 8C15 4.13401 11.866 1 8 1C7.83188 1 7.66515 1.00593 7.5 1.01758V2.02054C7.66487 2.00694 7.83162 2 8 2C11.3137 2 14 4.68629 14 8C14 11.3137 11.3137 14 8 14C7.83162 14 7.66487 13.9931 7.5 13.9795V14.9824Z\"\n      fill=\"currentColor\"\n    />\n    <path\n      d=\"M6.55133 5.06237L10.9174 8.09973L6.54669 10.7899L6.55133 5.06237Z\"\n      stroke=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div>\n    <Button\n      class=\"flex justify-between w-full rounded text-base\"\n      variant=\"ghost\"\n      :label=\"label\"\n      @click=\"onClick\"\n    >\n      <template v-if=\"active\" #suffix>\n        <FeatherIcon class=\"size-4\" name=\"check\" />\n      </template>\n    </Button>\n  </div>\n</template>\n<script setup>\nconst props = defineProps({\n  label: String,\n  active: Boolean,\n  onClick: Array,\n})\n</script>\n","<template>\n  <div class=\"w-full text-sm text-ink-gray-5\">\n    <div class=\"flex items-center gap-2\">\n      <Button\n        variant=\"ghost\"\n        class=\"text-ink-gray-5\"\n        :icon=\"isPaused ? PlayIcon : PauseIcon\"\n        @click=\"playPause\"\n      />\n      <div class=\"flex gap-2 items-center justify-between flex-1\">\n        <input\n          class=\"w-full slider !h-[0.5] bg-surface-gray-3 [&::-webkit-slider-thumb]:shadow [&::-webkit-slider-thumb:hover]:outline [&::-webkit-slider-thumb:hover]:outline-[0.5px]\"\n          :style=\"{\n            background: `linear-gradient(to right, var(--surface-gray-7, #171717) ${progress}%, var(--surface-gray-3, #ededed) ${progress}%)`,\n          }\"\n          type=\"range\"\n          id=\"track\"\n          min=\"0\"\n          :max=\"duration\"\n          :value=\"currentTime\"\n          step=\"0.01\"\n          @input=\"(e) => (audio.currentTime = e.target.value)\"\n        />\n        <div class=\"shrink-0\">\n          {{ formatTime(currentTime) }} / {{ formatTime(duration) }}\n        </div>\n      </div>\n      <div class=\"flex items-center gap-1\">\n        <div class=\"flex group gap-2 items-center\">\n          <input\n            class=\"slider opacity-0 group-hover:opacity-100 w-0 group-hover:w-20 !h-[0.5] [&::-webkit-slider-thumb]:shadow [&::-webkit-slider-thumb:hover]:outline [&::-webkit-slider-thumb:hover]:outline-[0.5px]\"\n            :style=\"{\n              background: `linear-gradient(to right, #171717 ${volumnProgress}%, #ededed ${volumnProgress}%)`,\n            }\"\n            type=\"range\"\n            id=\"volume\"\n            min=\"0\"\n            max=\"1\"\n            :value=\"currentVolumn\"\n            step=\"0.01\"\n            @input=\"(e) => updateVolumnProgress(e.target.value)\"\n          />\n          <Button variant=\"ghost\">\n            <template #icon>\n              <MuteIcon\n                v-if=\"volumnProgress == 0\"\n                class=\"size-4\"\n                @click=\"updateVolumnProgress('1')\"\n              />\n              <VolumnLowIcon\n                v-else-if=\"volumnProgress <= 40\"\n                class=\"size-4\"\n                @click=\"updateVolumnProgress('0')\"\n              />\n              <VolumnHighIcon\n                v-else-if=\"volumnProgress > 20\"\n                class=\"size-4\"\n                @click=\"updateVolumnProgress('0')\"\n              />\n            </template>\n          </Button>\n        </div>\n        <Dropdown :options=\"options\">\n          <Button\n            icon=\"more-horizontal\"\n            variant=\"ghost\"\n            @click=\"showPlaybackSpeed = false\"\n          />\n        </Dropdown>\n      </div>\n    </div>\n\n    <audio\n      ref=\"audio\"\n      :src=\"src\"\n      crossorigin=\"anonymous\"\n      @loadedmetadata=\"setupDuration\"\n      @timeupdate=\"updateCurrentTime\"\n      @ended=\"isPaused = true\"\n    ></audio>\n  </div>\n</template>\n\n<script setup>\nimport PlayIcon from '@/components/Icons/PlayIcon.vue'\nimport PauseIcon from '@/components/Icons/PauseIcon.vue'\nimport VolumnLowIcon from '@/components/Icons/VolumnLowIcon.vue'\nimport VolumnHighIcon from '@/components/Icons/VolumnHighIcon.vue'\nimport MuteIcon from '@/components/Icons/MuteIcon.vue'\nimport PlaybackSpeedIcon from '@/components/Icons/PlaybackSpeedIcon.vue'\nimport PlaybackSpeedOption from '@/components/Activities/PlaybackSpeedOption.vue'\nimport Dropdown from '@/components/frappe-ui/Dropdown.vue'\nimport { computed, h, ref } from 'vue'\n\nconst props = defineProps({\n  src: String,\n})\n\nconst audio = ref(null)\nconst isPaused = ref(true)\n\nconst duration = ref(0)\nconst currentTime = ref(0)\nconst progress = computed(() => (currentTime.value / duration.value) * 100)\nconst currentVolumn = ref(1)\nconst volumnProgress = ref(100)\n\nfunction setupDuration() {\n  duration.value = audio.value.duration\n}\n\nfunction updateCurrentTime() {\n  currentTime.value = audio.value.currentTime\n}\n\nfunction playPause() {\n  if (audio.value.paused) {\n    audio.value.play()\n    isPaused.value = false\n  } else {\n    audio.value.pause()\n    isPaused.value = true\n  }\n}\n\nfunction formatTime(time) {\n  if (isNaN(time)) return '00:00'\n  const minutes = Math.floor(time / 60)\n  const seconds = Math.floor(time % 60)\n  return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`\n}\n\nfunction updateVolumnProgress(value) {\n  audio.value.volume = value\n  currentVolumn.value = value\n  volumnProgress.value = value * 100\n}\n\nconst showPlaybackSpeed = ref(false)\nconst currentPlaybackSpeed = ref(1)\n\nconst options = computed(() => {\n  let playbackSpeeds = [0.25, 0.5, 0.75, 1, 1.25, 1.5, 1.75, 2]\n\n  let playbackSpeedOptions = playbackSpeeds.map((speed) => {\n    let label = `${speed}x`\n    if (speed === 1) {\n      label = __('Normal')\n    }\n    return {\n      component: () =>\n        h(PlaybackSpeedOption, {\n          label,\n          active: speed === currentPlaybackSpeed.value,\n          onClick: () => {\n            audio.value.playbackRate = speed\n            showPlaybackSpeed.value = false\n            currentPlaybackSpeed.value = speed\n          },\n        }),\n    }\n  })\n  let _options = [\n    {\n      icon: 'download',\n      label: __('Download'),\n      onClick: () => {\n        const a = document.createElement('a')\n        a.href = props.src\n        a.download = props.src.split('/').pop()\n        a.click()\n      },\n    },\n    {\n      icon: () => h(PlaybackSpeedIcon, { class: 'size-4' }),\n      label: __('Playback speed'),\n      onClick: (e) => {\n        e.preventDefault()\n        e.stopPropagation()\n        showPlaybackSpeed.value = true\n      },\n    },\n  ]\n\n  return showPlaybackSpeed.value ? playbackSpeedOptions : _options\n})\n</script>\n\n<style scoped>\n.slider {\n  --trackHeight: 2px;\n  --thumbRadius: 14px;\n  -webkit-appearance: none;\n  appearance: none;\n  background: transparent;\n  padding: 0;\n  margin: 0;\n  border-radius: 100px;\n  cursor: pointer;\n}\n\n.slider::-webkit-slider-runnable-track {\n  appearance: none;\n  height: var(--trackHeight);\n  border-radius: 100px;\n}\n\n.slider:focus-visible {\n  outline: none;\n}\n\n.slider::-webkit-slider-thumb {\n  width: var(--thumbRadius);\n  height: var(--thumbRadius);\n  margin-top: calc((var(--trackHeight) - var(--thumbRadius)) / 2);\n  background: #fff;\n  border-radius: 100px;\n  pointer-events: all;\n  appearance: none;\n  z-index: 1;\n}\n\n.slider::-webkit-slider-thumb {\n  width: var(--thumbRadius);\n  height: var(--thumbRadius);\n  margin-top: calc((var(--trackHeight) - var(--thumbRadius)) / 2);\n  background: #fff;\n  border-radius: 100px;\n  pointer-events: all;\n  appearance: none;\n  z-index: 1;\n}\n</style>\n","<template>\n  <div>\n    <div class=\"mb-1 flex items-center justify-stretch gap-2 py-1 text-base\">\n      <div class=\"inline-flex items-center flex-wrap gap-1 text-ink-gray-5\">\n        <Avatar\n          :image=\"activity._caller.image\"\n          :label=\"activity._caller.label\"\n          size=\"md\"\n        />\n        <span class=\"font-medium text-ink-gray-8 ml-1\">\n          {{ activity._caller.label }}\n        </span>\n        <span>{{\n          activity.type == 'Incoming'\n            ? __('has reached out')\n            : __('has made a call')\n        }}</span>\n      </div>\n      <div class=\"ml-auto whitespace-nowrap\">\n        <Tooltip :text=\"formatDate(activity.creation)\">\n          <div class=\"text-sm text-ink-gray-5\">\n            {{ __(timeAgo(activity.creation)) }}\n          </div>\n        </Tooltip>\n      </div>\n    </div>\n    <div\n      @click=\"showCallLogDetailModal = true\"\n      class=\"flex flex-col gap-2 border cursor-pointer border-outline-gray-modals rounded-md bg-surface-cards px-3 py-2.5 text-ink-gray-9\"\n    >\n      <div class=\"flex items-center justify-between\">\n        <div class=\"inline-flex gap-2 items-center text-base font-medium\">\n          <div>\n            {{\n              activity.type == 'Incoming'\n                ? __('Inbound Call')\n                : __('Outbound Call')\n            }}\n          </div>\n        </div>\n        <div>\n          <MultipleAvatar\n            :avatars=\"[\n              {\n                image: activity._caller.image,\n                label: activity._caller.label,\n                name: activity._caller.label,\n              },\n              {\n                image: activity._receiver.image,\n                label: activity._receiver.label,\n                name: activity._receiver.label,\n              },\n            ]\"\n            size=\"sm\"\n          />\n        </div>\n      </div>\n      <div class=\"flex items-center flex-wrap gap-2\">\n        <Badge :label=\"formatDate(activity.creation, 'MMM D, dddd')\">\n          <template #prefix>\n            <CalendarIcon class=\"size-3\" />\n          </template>\n        </Badge>\n        <Badge\n          v-if=\"activity.status == 'Completed'\"\n          :label=\"activity._duration\"\n        >\n          <template #prefix>\n            <DurationIcon class=\"size-3\" />\n          </template>\n        </Badge>\n        <Badge\n          v-if=\"activity.recording_url\"\n          :label=\"activity.show_recording ? __('Hide Recording') : __('Listen')\"\n          class=\"cursor-pointer\"\n          @click.stop=\"activity.show_recording = !activity.show_recording\"\n        >\n          <template #prefix>\n            <PlayIcon class=\"size-3\" />\n          </template>\n        </Badge>\n        <Badge\n          :label=\"statusLabelMap[activity.status]\"\n          :theme=\"statusColorMap[activity.status]\"\n        />\n      </div>\n      <div\n        v-if=\"activity.show_recording && activity.recording_url\"\n        class=\"flex flex-col items-center justify-between\"\n        @click.stop\n      >\n        <AudioPlayer :src=\"activity.recording_url\" />\n      </div>\n    </div>\n    <CallLogDetailModal\n      v-model=\"showCallLogDetailModal\"\n      v-model:callLogModal=\"showCallLogModal\"\n      v-model:callLog=\"callLog\"\n    />\n    <CallLogModal\n      v-if=\"showCallLogModal\"\n      v-model=\"showCallLogModal\"\n      :data=\"callLog.data\"\n    />\n  </div>\n</template>\n<script setup>\nimport PlayIcon from '@/components/Icons/PlayIcon.vue'\nimport CalendarIcon from '@/components/Icons/CalendarIcon.vue'\nimport DurationIcon from '@/components/Icons/DurationIcon.vue'\nimport MultipleAvatar from '@/components/MultipleAvatar.vue'\nimport AudioPlayer from '@/components/Activities/AudioPlayer.vue'\nimport CallLogDetailModal from '@/components/Modals/CallLogDetailModal.vue'\nimport CallLogModal from '@/components/Modals/CallLogModal.vue'\nimport { statusLabelMap, statusColorMap } from '@/utils/callLog.js'\nimport { formatDate, timeAgo } from '@/utils'\nimport { Avatar, Badge, Tooltip, createResource } from 'frappe-ui'\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  activity: Object,\n})\n\nconst callLog = createResource({\n  url: 'crm.fcrm.doctype.crm_call_log.crm_call_log.get_call_log',\n  params: { name: props.activity.name },\n  cache: ['call_log', props.activity.name],\n  auto: true,\n})\nconst showCallLogDetailModal = ref(false)\nconst showCallLogModal = ref(false)\n</script>\n","<template>\n  <div\n    class=\"activity group flex h-48 cursor-pointer flex-col justify-between gap-2 rounded-md bg-surface-gray-1 px-4 py-3 hover:bg-surface-gray-2\"\n  >\n    <div class=\"flex items-center justify-between\">\n      <div class=\"truncate text-lg font-medium text-ink-gray-8\">\n        {{ note.title }}\n      </div>\n      <Dropdown\n        :options=\"[\n          {\n            label: __('Delete'),\n            icon: 'trash-2',\n            onClick: () => deleteNote(note.name),\n          },\n        ]\"\n        @click.stop\n        class=\"h-6 w-6\"\n      >\n        <Button\n          icon=\"more-horizontal\"\n          variant=\"ghosted\"\n          class=\"!h-6 !w-6 hover:bg-surface-gray-2\"\n        />\n      </Dropdown>\n    </div>\n    <TextEditor\n      v-if=\"note.content\"\n      :content=\"note.content\"\n      :editable=\"false\"\n      editor-class=\"prose-sm text-p-sm max-w-none text-ink-gray-5 focus:outline-none\"\n      class=\"flex-1 overflow-hidden\"\n    />\n    <div class=\"mt-1 flex items-center justify-between gap-2\">\n      <div class=\"flex items-center gap-2 truncate\">\n        <UserAvatar :user=\"note.owner\" size=\"xs\" />\n        <div\n          class=\"truncate text-sm text-ink-gray-8\"\n          :title=\"getUser(note.owner).full_name\"\n        >\n          {{ getUser(note.owner).full_name }}\n        </div>\n      </div>\n      <Tooltip :text=\"formatDate(note.modified)\">\n        <div class=\"truncate text-sm text-ink-gray-7\">\n          {{ __(timeAgo(note.modified)) }}\n        </div>\n      </Tooltip>\n    </div>\n  </div>\n</template>\n<script setup>\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport { timeAgo, formatDate } from '@/utils'\nimport { Tooltip, Dropdown, TextEditor, call } from 'frappe-ui'\nimport { usersStore } from '@/stores/users'\n\nconst props = defineProps({\n  note: Object,\n})\n\nconst notes = defineModel()\n\nconst { getUser } = usersStore()\n\nasync function deleteNote(name) {\n  await call('frappe.client.delete', {\n    doctype: 'FCRM Note',\n    name,\n  })\n  notes.value?.reload()\n}\n</script>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <circle cx=\"8\" cy=\"8\" :r=\"radius\" fill=\"currentColor\" />\n  </svg>\n</template>\n<script setup>\nconst props = defineProps({\n  radius: {\n    type: Number,\n    default: 3.5,\n  },\n})\n</script>\n","<template>\n  <div v-if=\"tasks.length\">\n    <div v-for=\"(task, i) in tasks\" :key=\"task.name\">\n      <div\n        class=\"activity flex cursor-pointer gap-6 rounded p-2.5 duration-300 ease-in-out hover:bg-surface-gray-1\"\n        @click=\"modalRef.showTask(task)\"\n      >\n        <div class=\"flex flex-1 flex-col gap-1.5 text-base truncate\">\n          <div class=\"font-medium text-ink-gray-9 truncate\">\n            {{ task.title }}\n          </div>\n          <div class=\"flex gap-1.5 text-ink-gray-8\">\n            <div class=\"flex items-center gap-1.5\">\n              <UserAvatar :user=\"task.assigned_to\" size=\"xs\" />\n              {{ getUser(task.assigned_to).full_name }}\n            </div>\n            <div v-if=\"task.due_date\" class=\"flex items-center justify-center\">\n              <DotIcon class=\"h-2.5 w-2.5 text-ink-gray-5\" :radius=\"2\" />\n            </div>\n            <div v-if=\"task.due_date\">\n              <Tooltip\n                :text=\"formatDate(task.due_date, 'ddd, MMM D, YYYY | hh:mm a')\"\n              >\n                <div class=\"flex gap-2\">\n                  <CalendarIcon />\n                  <div>{{ formatDate(task.due_date, 'D MMM, hh:mm a') }}</div>\n                </div>\n              </Tooltip>\n            </div>\n            <div class=\"flex items-center justify-center\">\n              <DotIcon class=\"h-2.5 w-2.5 text-ink-gray-5\" :radius=\"2\" />\n            </div>\n            <div class=\"flex gap-2\">\n              <TaskPriorityIcon class=\"!h-2 !w-2\" :priority=\"task.priority\" />\n              {{ task.priority }}\n            </div>\n          </div>\n        </div>\n        <div class=\"flex items-center gap-1\">\n          <Dropdown\n            :options=\"taskStatusOptions(modalRef.updateTaskStatus, task)\"\n            @click.stop\n          >\n            <Button\n              :tooltip=\"__('Change status')\"\n              variant=\"ghosted\"\n              class=\"hover:bg-surface-gray-4\"\n            >\n              <TaskStatusIcon :status=\"task.status\" />\n            </Button>\n          </Dropdown>\n          <Dropdown\n            :options=\"[\n              {\n                label: __('Delete'),\n                icon: 'trash-2',\n                onClick: () => {\n                  $dialog({\n                    title: __('Delete Task'),\n                    message: __('Are you sure you want to delete this task?'),\n                    actions: [\n                      {\n                        label: __('Delete'),\n                        theme: 'red',\n                        variant: 'solid',\n                        onClick(close) {\n                          modalRef.deleteTask(task.name)\n                          close()\n                        },\n                      },\n                    ],\n                  })\n                },\n              },\n            ]\"\n            @click.stop\n          >\n            <Button\n              icon=\"more-horizontal\"\n              variant=\"ghosted\"\n              class=\"hover:bg-surface-gray-4 text-ink-gray-9\"\n            />\n          </Dropdown>\n        </div>\n      </div>\n      <div\n        v-if=\"i < tasks.length - 1\"\n        class=\"mx-2 h-px border-t border-outline-gray-modals\"\n      />\n    </div>\n  </div>\n</template>\n<script setup>\nimport CalendarIcon from '@/components/Icons/CalendarIcon.vue'\nimport TaskStatusIcon from '@/components/Icons/TaskStatusIcon.vue'\nimport TaskPriorityIcon from '@/components/Icons/TaskPriorityIcon.vue'\nimport DotIcon from '@/components/Icons/DotIcon.vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport { formatDate, taskStatusOptions } from '@/utils'\nimport { usersStore } from '@/stores/users'\nimport { globalStore } from '@/stores/global'\nimport { Tooltip, Dropdown } from 'frappe-ui'\n\nconst props = defineProps({\n  tasks: Array,\n  modalRef: Object,\n})\n\nconst { getUser } = usersStore()\nconst { $dialog } = globalStore()\n</script>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-file-audio-2\"\n  >\n    <path d=\"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2\" />\n    <path d=\"M14 2v4a2 2 0 0 0 2 2h4\" />\n    <circle cx=\"3\" cy=\"17\" r=\"1\" />\n    <path d=\"M2 17v-3a4 4 0 0 1 8 0v3\" />\n    <circle cx=\"9\" cy=\"17\" r=\"1\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"1\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-file-video-2\"\n  >\n    <path d=\"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4\" />\n    <path d=\"M14 2v4a2 2 0 0 0 2 2h4\" />\n    <rect width=\"8\" height=\"6\" x=\"2\" y=\"12\" rx=\"1\" />\n    <path d=\"m10 15.5 4 2.5v-6l-4 2.5\" />\n  </svg>\n</template>\n","<template>\n  <div v-if=\"attachments.length\">\n    <div v-for=\"(attachment, i) in attachments\" :key=\"attachment.name\">\n      <div\n        class=\"activity flex justify-between gap-2 hover:bg-surface-menu-bar rounded text-base p-2.5 cursor-pointer\"\n        @click=\"openFile(attachment)\"\n      >\n        <div class=\"flex gap-2 truncate\">\n          <div\n            class=\"size-11 bg-surface-white rounded overflow-hidden flex-shrink-0 flex justify-center items-center\"\n            :class=\"{ border: !isImage(attachment.file_type) }\"\n          >\n            <img\n              v-if=\"isImage(attachment.file_type)\"\n              class=\"size-full object-cover\"\n              :src=\"attachment.file_url\"\n              :alt=\"attachment.file_name\"\n            />\n            <component\n              v-else\n              class=\"size-4 text-ink-gray-7\"\n              :is=\"fileIcon(attachment.file_type)\"\n            />\n          </div>\n          <div class=\"flex flex-col justify-center gap-1 truncate\">\n            <div class=\"text-base text-ink-gray-8 truncate\">\n              {{ attachment.file_name }}\n            </div>\n            <div class=\"mb-1 text-sm text-ink-gray-5\">\n              {{ convertSize(attachment.file_size) }}\n            </div>\n          </div>\n        </div>\n        <div class=\"flex flex-col items-end gap-2 flex-shrink-0\">\n          <Tooltip :text=\"formatDate(attachment.creation)\">\n            <div class=\"text-sm text-ink-gray-5\">\n              {{ __(timeAgo(attachment.creation)) }}\n            </div>\n          </Tooltip>\n          <div class=\"flex gap-1\">\n            <Button\n              :tooltip=\"\n                attachment.is_private ? __('Make public') : __('Make private')\n              \"\n              class=\"!size-5\"\n              @click.stop=\"\n                togglePrivate(attachment.name, attachment.is_private)\n              \"\n            >\n              <template #icon>\n                <FeatherIcon\n                  :name=\"attachment.is_private ? 'lock' : 'unlock'\"\n                  class=\"size-3 text-ink-gray-7\"\n                />\n              </template>\n            </Button>\n            <Button\n              :tooltip=\"__('Delete attachment')\"\n              class=\"!size-5\"\n              @click.stop=\"() => deleteAttachment(attachment.name)\"\n            >\n              <template #icon>\n                <FeatherIcon name=\"trash-2\" class=\"size-3 text-ink-gray-7\" />\n              </template>\n            </Button>\n          </div>\n        </div>\n      </div>\n      <div\n        v-if=\"i < attachments.length - 1\"\n        class=\"mx-2 h-px border-t border-outline-gray-modals\"\n      />\n    </div>\n  </div>\n</template>\n<script setup>\nimport FileAudioIcon from '@/components/Icons/FileAudioIcon.vue'\nimport FileTextIcon from '@/components/Icons/FileTextIcon.vue'\nimport FileVideoIcon from '@/components/Icons/FileVideoIcon.vue'\nimport { globalStore } from '@/stores/global'\nimport { call, Tooltip } from 'frappe-ui'\nimport { formatDate, timeAgo, convertSize, isImage } from '@/utils'\n\nconst props = defineProps({\n  attachments: Array,\n})\n\nconst emit = defineEmits(['reload'])\n\nconst { $dialog } = globalStore()\n\nfunction openFile(attachment) {\n  window.open(attachment.file_url, '_blank')\n}\n\nfunction togglePrivate(fileName, isPrivate) {\n  let changeTo = isPrivate ? __('public') : __('private')\n  let title = __('Make attachment {0}', [changeTo])\n  let message = __('Are you sure you want to make this attachment {0}?', [\n    changeTo,\n  ])\n  $dialog({\n    title,\n    message,\n    actions: [\n      {\n        label: __('Make {0}', [changeTo]),\n        variant: 'solid',\n        onClick: async (close) => {\n          await call('frappe.client.set_value', {\n            doctype: 'File',\n            name: fileName,\n            fieldname: {\n              is_private: !isPrivate,\n            },\n          })\n          emit('reload')\n          close()\n        },\n      },\n    ],\n  })\n}\n\nfunction deleteAttachment(fileName) {\n  $dialog({\n    title: __('Delete attachment'),\n    message: __('Are you sure you want to delete this attachment?'),\n    actions: [\n      {\n        label: __('Delete'),\n        variant: 'solid',\n        theme: 'red',\n        onClick: async (close) => {\n          await call('frappe.client.delete', {\n            doctype: 'File',\n            name: fileName,\n          })\n          emit('reload')\n          close()\n        },\n      },\n    ],\n  })\n}\n\nfunction fileIcon(type) {\n  if (!type) return FileTextIcon\n  let audioExtentions = ['wav', 'mp3', 'ogg', 'flac', 'aac']\n  let videoExtentions = ['mp4', 'avi', 'mkv', 'flv', 'mov']\n  if (audioExtentions.includes(type.toLowerCase())) {\n    return FileAudioIcon\n  } else if (videoExtentions.includes(type.toLowerCase())) {\n    return FileVideoIcon\n  }\n  return FileTextIcon\n}\n</script>\n","<template>\n  <Dialog v-model=\"show\" :options=\"{ size: '4xl' }\">\n    <template #body-title>\n      <h3\n        class=\"flex items-center gap-2 text-2xl font-semibold leading-6 text-ink-gray-9\"\n      >\n        <div>{{ __('Edit Data Fields Layout') }}</div>\n        <Badge\n          v-if=\"dirty\"\n          :label=\"__('Not Saved')\"\n          variant=\"subtle\"\n          theme=\"orange\"\n        />\n      </h3>\n    </template>\n    <template #body-content>\n      <div class=\"flex flex-col gap-3\">\n        <div class=\"flex justify-between gap-2\">\n          <Button\n            :label=\"preview ? __('Hide preview') : __('Show preview')\"\n            @click=\"preview = !preview\"\n          />\n          <div class=\"flex flex-row-reverse gap-2\">\n            <Button\n              :loading=\"loading\"\n              :label=\"__('Save')\"\n              variant=\"solid\"\n              @click=\"saveChanges\"\n            />\n            <Button :label=\"__('Reset')\" @click=\"reload\" />\n          </div>\n        </div>\n        <div v-if=\"tabs?.data\">\n          <FieldLayoutEditor\n            v-if=\"!preview\"\n            :tabs=\"tabs.data\"\n            :doctype=\"_doctype\"\n          />\n          <FieldLayout\n            v-else\n            :tabs=\"tabs.data\"\n            :data=\"{}\"\n            :preview=\"true\"\n          />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n<script setup>\nimport FieldLayout from '@/components/FieldLayout/FieldLayout.vue'\nimport FieldLayoutEditor from '@/components/FieldLayoutEditor.vue'\nimport { useDebounceFn } from '@vueuse/core'\nimport { capture } from '@/telemetry'\nimport { Dialog, Badge, call, createResource } from 'frappe-ui'\nimport { ref, watch, onMounted, nextTick } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    default: 'CRM Lead',\n  },\n})\n\nconst emit = defineEmits(['reload'])\n\nconst show = defineModel()\nconst _doctype = ref(props.doctype)\nconst loading = ref(false)\nconst dirty = ref(false)\nconst preview = ref(false)\n\nfunction getParams() {\n  return { doctype: _doctype.value, type: 'Data Fields' }\n}\n\nconst tabs = createResource({\n  url: 'crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout',\n  cache: ['DataFieldsModal', _doctype.value],\n  params: getParams(),\n  onSuccess(data) {\n    tabs.originalData = JSON.parse(JSON.stringify(data))\n  },\n})\n\nwatch(\n  () => tabs?.data,\n  () => {\n    dirty.value =\n      JSON.stringify(tabs?.data) !== JSON.stringify(tabs?.originalData)\n  },\n  { deep: true },\n)\n\nonMounted(() => useDebounceFn(reload, 100)())\n\nfunction reload() {\n  nextTick(() => {\n    tabs.params = getParams()\n    tabs.reload()\n  })\n}\n\nfunction saveChanges() {\n  let _tabs = JSON.parse(JSON.stringify(tabs.data))\n  _tabs.forEach((tab) => {\n    if (!tab.sections) return\n    tab.sections.forEach((section) => {\n      section.columns.forEach((column) => {\n        if (!column.fields) return\n        column.fields = column.fields.map(\n          (field) => field.fieldname || field.name,\n        )\n      })\n    })\n  })\n  loading.value = true\n  call(\n    'crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.save_fields_layout',\n    {\n      doctype: _doctype.value,\n      type: 'Data Fields',\n      layout: JSON.stringify(_tabs),\n    },\n  ).then(() => {\n    loading.value = false\n    show.value = false\n    capture('data_fields_layout_builder', { doctype: _doctype.value })\n    emit('reload')\n  })\n}\n</script>\n","<template>\n  <div\n    class=\"my-3 flex items-center justify-between text-lg font-medium sm:mb-4 sm:mt-8\"\n  >\n    <div class=\"flex h-8 items-center text-xl font-semibold text-ink-gray-8\">\n      {{ __('Data') }}\n      <Badge\n        v-if=\"document.isDirty\"\n        class=\"ml-3\"\n        :label=\"'Not Saved'\"\n        theme=\"orange\"\n      />\n    </div>\n    <div class=\"flex gap-1\">\n      <Button\n        v-if=\"isManager() && !isMobileView\"\n        :tooltip=\"__('Edit fields layout')\"\n        :icon=\"EditIcon\"\n        @click=\"showDataFieldsModal = true\"\n      />\n      <Button\n        label=\"Save\"\n        :disabled=\"!document.isDirty\"\n        variant=\"solid\"\n        :loading=\"document.save.loading\"\n        @click=\"saveChanges\"\n      />\n    </div>\n  </div>\n  <div\n    v-if=\"document.get.loading\"\n    class=\"flex flex-1 flex-col items-center justify-center gap-3 text-xl font-medium text-ink-gray-6\"\n  >\n    <LoadingIndicator class=\"h-6 w-6\" />\n    <span>{{ __('Loading...') }}</span>\n  </div>\n  <div v-else class=\"pb-8\">\n    <FieldLayout\n      v-if=\"tabs.data\"\n      :tabs=\"tabs.data\"\n      :data=\"document.doc\"\n      :doctype=\"doctype\"\n    />\n  </div>\n  <DataFieldsModal\n    v-if=\"showDataFieldsModal\"\n    v-model=\"showDataFieldsModal\"\n    :doctype=\"doctype\"\n    @reload=\"\n      () => {\n        tabs.reload()\n        document.reload()\n      }\n    \"\n  />\n</template>\n\n<script setup>\nimport EditIcon from '@/components/Icons/EditIcon.vue'\nimport DataFieldsModal from '@/components/Modals/DataFieldsModal.vue'\nimport FieldLayout from '@/components/FieldLayout/FieldLayout.vue'\nimport { Badge, createResource } from 'frappe-ui'\nimport LoadingIndicator from '@/components/Icons/LoadingIndicator.vue'\nimport { usersStore } from '@/stores/users'\nimport { useDocument } from '@/data/document'\nimport { isMobileView } from '@/composables/settings'\nimport { ref, watch, getCurrentInstance } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    required: true,\n  },\n  docname: {\n    type: String,\n    required: true,\n  },\n})\n\nconst emit = defineEmits(['beforeSave', 'afterSave'])\n\nconst { isManager } = usersStore()\n\nconst instance = getCurrentInstance()\nconst attrs = instance?.vnode?.props ?? {}\n\nconst showDataFieldsModal = ref(false)\n\nconst { document } = useDocument(props.doctype, props.docname)\n\nconst tabs = createResource({\n  url: 'crm.fcrm.doctype.crm_fields_layout.crm_fields_layout.get_fields_layout',\n  cache: ['DataFields', props.doctype],\n  params: { doctype: props.doctype, type: 'Data Fields' },\n  auto: true,\n})\n\nfunction saveChanges() {\n  if (!document.isDirty) return\n\n  const updatedDoc = { ...document.doc }\n  const oldDoc = { ...document.originalDoc }\n\n  const changes = Object.keys(updatedDoc).reduce((acc, key) => {\n    if (JSON.stringify(updatedDoc[key]) !== JSON.stringify(oldDoc[key])) {\n      acc[key] = updatedDoc[key]\n    }\n    return acc\n  }, {})\n\n  const hasListener = attrs['onBeforeSave'] !== undefined\n\n  if (hasListener) {\n    emit('beforeSave', changes)\n  } else {\n    document.save.submit(null, {\n      onSuccess: () => emit('afterSave', changes),\n    })\n  }\n}\n\nwatch(\n  () => document.doc,\n  (newValue, oldValue) => {\n    if (!oldValue) return\n    if (newValue && oldValue) {\n      const isDirty =\n        JSON.stringify(newValue) !== JSON.stringify(document.originalDoc)\n      document.isDirty = isDirty\n      if (isDirty) {\n        document.save.loading = false\n      }\n    }\n  },\n  { deep: true },\n)\n</script>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-check-check\"\n  >\n    <path d=\"M18 6 7 17l-5-5\" />\n    <path d=\"m22 10-7.5 7.5L13 16\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    xmlns=\"http://www.w3.org/2000/svg\"\n    width=\"24\"\n    height=\"24\"\n    viewBox=\"0 0 24 24\"\n    fill=\"none\"\n    stroke=\"currentColor\"\n    stroke-width=\"2\"\n    stroke-linecap=\"round\"\n    stroke-linejoin=\"round\"\n    class=\"lucide lucide-file-text\"\n  >\n    <path d=\"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z\" />\n    <path d=\"M14 2v4a2 2 0 0 0 2 2h4\" />\n    <path d=\"M10 9H8\" />\n    <path d=\"M16 13H8\" />\n    <path d=\"M16 17H8\" />\n  </svg>\n</template>\n","<template>\n  <svg\n    viewBox=\"0 0 15 15\"\n    width=\"15\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    class=\"\"\n    fill=\"none\"\n  >\n    <title>react</title>\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M0 7.5C0 11.6305 3.36946 15 7.5 15C11.6527 15 15 11.6305 15 7.5C15 3.36946 11.6305 0 7.5 0C3.36946 0 0 3.36946 0 7.5ZM10.995 8.69333C11.1128 8.67863 11.2219 8.66503 11.3211 8.65309C11.61 8.63028 11.8076 8.91918 11.6784 9.13965C10.8573 10.6374 9.29116 11.793 7.50455 11.793C5.71794 11.793 4.15181 10.6602 3.33072 9.16246C3.18628 8.91918 3.37634 8.63028 3.66524 8.65309C3.79123 8.66749 3.93521 8.68511 4.09426 8.70457C4.94292 8.80842 6.22074 8.96479 7.48174 8.96479C8.81855 8.96479 10.1378 8.80025 10.995 8.69333ZM5.41405 7.37207C6.05761 7.37207 6.60923 6.72851 6.60923 6.02978C6.60923 5.30348 6.05761 4.6875 5.41405 4.6875C4.77048 4.6875 4.21886 5.33106 4.21886 6.02978C4.20967 6.75609 4.77048 7.37207 5.41405 7.37207ZM10.7807 6.05619C10.7807 6.74114 10.24 7.37201 9.60912 7.37201C8.97825 7.37201 8.4375 6.76818 8.4375 6.05619C8.4375 5.37124 8.97825 4.74037 9.60912 4.74037C10.24 4.74037 10.7807 5.34421 10.7807 6.05619Z\"\n      fill=\"currentColor\"\n    ></path>\n  </svg>\n</template>\n","<template>\n  <div>\n    <div\n      v-for=\"whatsapp in messages\"\n      :key=\"whatsapp.name\"\n      class=\"activity group flex gap-2\"\n      :class=\"[\n        whatsapp.type == 'Outgoing' ? 'flex-row-reverse' : '',\n        whatsapp.reaction ? 'mb-7' : 'mb-3',\n      ]\"\n    >\n      <div\n        :id=\"whatsapp.name\"\n        class=\"group/message relative max-w-[90%] rounded-md bg-surface-gray-1 text-ink-gray-9 p-1.5 pl-2 text-base shadow-sm\"\n      >\n        <div\n          v-if=\"whatsapp.is_reply\"\n          @click=\"() => scrollToMessage(whatsapp.reply_to)\"\n          class=\"mb-1 cursor-pointer rounded border-0 border-l-4 bg-surface-gray-3 p-2 text-ink-gray-5\"\n          :class=\"\n            whatsapp.reply_to_type == 'Incoming'\n              ? 'border-green-500'\n              : 'border-blue-400'\n          \"\n        >\n          <div\n            class=\"mb-1 text-sm font-bold\"\n            :class=\"\n              whatsapp.reply_to_type == 'Incoming'\n                ? 'text-ink-green-2'\n                : 'text-ink-blue-link'\n            \"\n          >\n            {{ whatsapp.reply_to_from || __('You') }}\n          </div>\n          <div class=\"flex flex-col gap-2 max-h-12 overflow-hidden\">\n            <div v-if=\"whatsapp.header\" class=\"text-base font-semibold\">\n              {{ whatsapp.header }}\n            </div>\n            <div v-html=\"formatWhatsAppMessage(whatsapp.reply_message)\" />\n            <div v-if=\"whatsapp.footer\" class=\"text-xs text-ink-gray-5\">\n              {{ whatsapp.footer }}\n            </div>\n          </div>\n        </div>\n        <div class=\"flex gap-2 justify-between\">\n          <div\n            class=\"absolute -right-0.5 -top-0.5 flex cursor-pointer gap-1 rounded-full bg-surface-white pb-2 pl-2 pr-1.5 pt-1.5 opacity-0 group-hover/message:opacity-100\"\n            :style=\"{\n              background:\n                'radial-gradient(circle at 50% 50%, rgba(255, 255, 255, 1) 0%, rgba(255, 255, 255, 1) 35%, rgba(238, 130, 238, 0) 100%)',\n            }\"\n          >\n            <Dropdown :options=\"messageOptions(whatsapp)\">\n              <FeatherIcon name=\"chevron-down\" class=\"size-4 text-ink-gray-5\" />\n            </Dropdown>\n          </div>\n          <div\n            class=\"absolute -bottom-5 flex gap-1 rounded-full border bg-surface-white p-1 pb-[3px] shadow-sm\"\n            v-if=\"whatsapp.reaction\"\n          >\n            <div class=\"flex size-4 items-center justify-center\">\n              {{ whatsapp.reaction }}\n            </div>\n          </div>\n          <div\n            class=\"flex flex-col gap-2\"\n            v-if=\"whatsapp.message_type == 'Template'\"\n          >\n            <div v-if=\"whatsapp.header\" class=\"text-base font-semibold\">\n              {{ whatsapp.header }}\n            </div>\n            <div v-html=\"formatWhatsAppMessage(whatsapp.template)\" />\n            <div v-if=\"whatsapp.footer\" class=\"text-xs text-ink-gray-5\">\n              {{ whatsapp.footer }}\n            </div>\n          </div>\n          <div\n            v-else-if=\"whatsapp.content_type == 'text'\"\n            v-html=\"formatWhatsAppMessage(whatsapp.message)\"\n          />\n          <div\n            v-else-if=\"whatsapp.content_type == 'button'\"\n            v-html=\"formatWhatsAppMessage(whatsapp.message)\"\n          />\n          <div v-else-if=\"whatsapp.content_type == 'image'\">\n            <img\n              :src=\"whatsapp.attach\"\n              class=\"h-40 cursor-pointer rounded-md\"\n              @click=\"() => openFileInAnotherTab(whatsapp.attach)\"\n            />\n            <div\n              v-if=\"!whatsapp.message.startsWith('/files/')\"\n              class=\"mt-1.5\"\n              v-html=\"formatWhatsAppMessage(whatsapp.message)\"\n            />\n          </div>\n          <div\n            v-else-if=\"whatsapp.content_type == 'document'\"\n            class=\"flex items-center gap-2\"\n          >\n            <DocumentIcon\n              class=\"size-10 cursor-pointer rounded-md text-ink-gray-4\"\n              @click=\"() => openFileInAnotherTab(whatsapp.attach)\"\n            />\n            <div class=\"text-ink-gray-5\">Document</div>\n          </div>\n          <div\n            v-else-if=\"whatsapp.content_type == 'audio'\"\n            class=\"flex items-center gap-2\"\n          >\n            <audio :src=\"whatsapp.attach\" controls class=\"cursor-pointer\" />\n          </div>\n          <div\n            v-else-if=\"whatsapp.content_type == 'video'\"\n            class=\"flex-col items-center gap-2\"\n          >\n            <video\n              :src=\"whatsapp.attach\"\n              controls\n              class=\"h-40 cursor-pointer rounded-md\"\n            />\n            <div\n              v-if=\"!whatsapp.message.startsWith('/files/')\"\n              class=\"mt-1.5\"\n              v-html=\"formatWhatsAppMessage(whatsapp.message)\"\n            />\n          </div>\n          <div class=\"-mb-1 flex shrink-0 items-end gap-1 text-ink-gray-5\">\n            <Tooltip :text=\"formatDate(whatsapp.creation, 'ddd, MMM D, YYYY')\">\n              <div class=\"text-2xs\">\n                {{ formatDate(whatsapp.creation, 'hh:mm a') }}\n              </div>\n            </Tooltip>\n            <div v-if=\"whatsapp.type == 'Outgoing'\">\n              <CheckIcon\n                v-if=\"['sent', 'Success'].includes(whatsapp.status)\"\n                class=\"size-4\"\n              />\n              <DoubleCheckIcon\n                v-else-if=\"['read', 'delivered'].includes(whatsapp.status)\"\n                class=\"size-4\"\n                :class=\"{ 'text-ink-blue-2': whatsapp.status == 'read' }\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"flex items-center justify-center opacity-0 transition-all ease-in group-hover:opacity-100\"\n      >\n        <IconPicker\n          v-model=\"emoji\"\n          v-model:reaction=\"reaction\"\n          v-slot=\"{ togglePopover }\"\n          @update:modelValue=\"() => reactOnMessage(whatsapp.name, emoji)\"\n        >\n          <Button\n            @click=\"() => (reaction = true) && togglePopover()\"\n            class=\"rounded-full !size-6 mt-0.5\"\n          >\n            <template #icon>\n              <ReactIcon class=\"text-ink-gray-3\" />\n            </template>\n          </Button>\n        </IconPicker>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport IconPicker from '@/components/IconPicker.vue'\nimport CheckIcon from '@/components/Icons/CheckIcon.vue'\nimport DoubleCheckIcon from '@/components/Icons/DoubleCheckIcon.vue'\nimport DocumentIcon from '@/components/Icons/DocumentIcon.vue'\nimport ReactIcon from '@/components/Icons/ReactIcon.vue'\nimport { formatDate } from '@/utils'\nimport { capture } from '@/telemetry'\nimport { Tooltip, Dropdown, createResource } from 'frappe-ui'\nimport { ref } from 'vue'\n\nconst props = defineProps({\n  messages: Array,\n})\n\nconst list = defineModel()\n\nfunction openFileInAnotherTab(url) {\n  window.open(url, '_blank')\n}\n\nfunction formatWhatsAppMessage(message) {\n  // if message contains _text_, make it italic\n  message = message.replace(/_(.*?)_/g, '<i>$1</i>')\n  // if message contains *text*, make it bold\n  message = message.replace(/\\*(.*?)\\*/g, '<b>$1</b>')\n  // if message contains ~text~, make it strikethrough\n  message = message.replace(/~(.*?)~/g, '<s>$1</s>')\n  // if message contains ```text```, make it monospace\n  message = message.replace(/```(.*?)```/g, '<code>$1</code>')\n  // if message contains `text`, make it inline code\n  message = message.replace(/`(.*?)`/g, '<code>$1</code>')\n  // if message contains > text, make it a blockquote\n  message = message.replace(/^> (.*)$/gm, '<blockquote>$1</blockquote>')\n  // if contain /n, make it a new line\n  message = message.replace(/\\n/g, '<br>')\n  // if contains *<space>text, make it a bullet point\n  message = message.replace(/\\* (.*?)(?=\\s*\\*|$)/g, '<li>$1</li>')\n  message = message.replace(/- (.*?)(?=\\s*-|$)/g, '<li>$1</li>')\n  message = message.replace(/(\\d+)\\. (.*?)(?=\\s*(\\d+)\\.|$)/g, '<li>$2</li>')\n\n  return message\n}\n\nconst emoji = ref('')\nconst reaction = ref(true)\n\nfunction reactOnMessage(name, emoji) {\n  createResource({\n    url: 'crm.api.whatsapp.react_on_whatsapp_message',\n    params: {\n      emoji,\n      reply_to_name: name,\n    },\n    auto: true,\n    onSuccess() {\n      capture('whatsapp_react_on_message')\n      list.value.reload()\n    },\n  })\n}\n\nconst reply = defineModel('reply')\nconst replyMode = ref(false)\n\nfunction messageOptions(message) {\n  return [\n    {\n      label: 'Reply',\n      onClick: () => {\n        replyMode.value = true\n        reply.value = {\n          ...message,\n          message: formatWhatsAppMessage(message.message),\n        }\n      },\n    },\n    // {\n    //   label: 'Forward',\n    //   onClick: () => console.log('Forward'),\n    // },\n    // {\n    //   label: 'Delete',\n    //   onClick: () => console.log('Delete'),\n    // },\n  ]\n}\n\nfunction scrollToMessage(name) {\n  const element = document.getElementById(name)\n  element.scrollIntoView({ behavior: 'smooth' })\n\n  // Highlight the message\n  element.classList.add('bg-yellow-100')\n  setTimeout(() => {\n    element.classList.remove('bg-yellow-100')\n  }, 1000)\n}\n</script>\n","<template>\n  <svg\n    viewBox=\"0 0 24 24\"\n    height=\"24\"\n    width=\"24\"\n    preserveAspectRatio=\"xMidYMid meet\"\n    class=\"\"\n    version=\"1.1\"\n    x=\"0px\"\n    y=\"0px\"\n    enable-background=\"new 0 0 24 24\"\n  >\n    <title>smiley</title>\n    <path\n      fill=\"currentColor\"\n      d=\"M9.153,11.603c0.795,0,1.439-0.879,1.439-1.962S9.948,7.679,9.153,7.679 S7.714,8.558,7.714,9.641S8.358,11.603,9.153,11.603z M5.949,12.965c-0.026-0.307-0.131,5.218,6.063,5.551 c6.066-0.25,6.066-5.551,6.066-5.551C12,14.381,5.949,12.965,5.949,12.965z M17.312,14.073c0,0-0.669,1.959-5.051,1.959 c-3.505,0-5.388-1.164-5.607-1.959C6.654,14.073,12.566,15.128,17.312,14.073z M11.804,1.011c-6.195,0-10.826,5.022-10.826,11.217 s4.826,10.761,11.021,10.761S23.02,18.423,23.02,12.228C23.021,6.033,17.999,1.011,11.804,1.011z M12,21.354 c-5.273,0-9.381-3.886-9.381-9.159s3.942-9.548,9.215-9.548s9.548,4.275,9.548,9.548C21.381,17.467,17.273,21.354,12,21.354z  M15.108,11.603c0.795,0,1.439-0.879,1.439-1.962s-0.644-1.962-1.439-1.962s-1.439,0.879-1.439,1.962S14.313,11.603,15.108,11.603z\"\n    ></path>\n  </svg>\n</template>\n","<template>\n  <div\n    v-if=\"reply?.message\"\n    class=\"flex items-center justify-around gap-2 px-3 pt-2 sm:px-10\"\n  >\n    <div\n      class=\"mb-1 ml-13 flex-1 cursor-pointer rounded border-0 border-l-4 border-green-500 bg-surface-gray-2 p-2 text-base text-ink-gray-5\"\n      :class=\"reply.type == 'Incoming' ? 'border-green-500' : 'border-blue-400'\"\n    >\n      <div\n        class=\"mb-1 text-sm font-bold\"\n        :class=\"reply.type == 'Incoming' ? 'text-ink-green-2' : 'text-ink-blue-link'\"\n      >\n        {{ reply.from_name || __('You') }}\n      </div>\n      <div class=\"max-h-12 overflow-hidden\" v-html=\"reply.message\" />\n    </div>\n\n    <Button variant=\"ghost\" icon=\"x\" @click=\"reply = {}\" />\n  </div>\n  <div class=\"flex items-end gap-2 px-3 py-2.5 sm:px-10\" v-bind=\"$attrs\">\n    <div class=\"flex h-8 items-center gap-2\">\n      <FileUploader @success=\"(file) => uploadFile(file)\">\n        <template v-slot=\"{ openFileSelector }\">\n          <div class=\"flex items-center space-x-2\">\n            <Dropdown :options=\"uploadOptions(openFileSelector)\">\n              <FeatherIcon\n                name=\"plus\"\n                class=\"size-4.5 cursor-pointer text-ink-gray-5\"\n              />\n            </Dropdown>\n          </div>\n        </template>\n      </FileUploader>\n      <IconPicker\n        v-model=\"emoji\"\n        v-slot=\"{ togglePopover }\"\n        @update:modelValue=\"\n          () => {\n            content += emoji\n            $refs.textareaRef.el.focus()\n            capture('whatsapp_emoji_added')\n          }\n        \"\n      >\n        <SmileIcon\n          @click=\"togglePopover\"\n          class=\"flex size-4.5 cursor-pointer rounded-sm text-xl leading-none text-ink-gray-4\"\n        />\n      </IconPicker>\n    </div>\n    <Textarea\n      ref=\"textareaRef\"\n      type=\"textarea\"\n      class=\"min-h-8 w-full\"\n      :rows=\"rows\"\n      v-model=\"content\"\n      :placeholder=\"placeholder\"\n      @focus=\"rows = 6\"\n      @blur=\"rows = 1\"\n      @keydown.enter.stop=\"(e) => sendTextMessage(e)\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport IconPicker from '@/components/IconPicker.vue'\nimport SmileIcon from '@/components/Icons/SmileIcon.vue'\nimport { capture } from '@/telemetry'\nimport { createResource, Textarea, FileUploader, Dropdown } from 'frappe-ui'\nimport { ref, nextTick, watch } from 'vue'\n\nconst props = defineProps({\n  doctype: String,\n})\n\nconst doc = defineModel()\nconst whatsapp = defineModel('whatsapp')\nconst reply = defineModel('reply')\nconst rows = ref(1)\nconst textareaRef = ref(null)\nconst emoji = ref('')\n\nconst content = ref('')\nconst placeholder = ref(__('Type your message here...'))\nconst fileType = ref('')\n\nfunction show() {\n  nextTick(() => textareaRef.value.el.focus())\n}\n\nfunction uploadFile(file) {\n  whatsapp.value.attach = file.file_url\n  whatsapp.value.content_type = fileType.value\n  sendWhatsAppMessage()\n  capture('whatsapp_upload_file')\n}\n\nfunction sendTextMessage(event) {\n  if (event.shiftKey) return\n  sendWhatsAppMessage()\n  textareaRef.value.el?.blur()\n  content.value = ''\n  capture('whatsapp_send_message')\n}\n\nasync function sendWhatsAppMessage() {\n  let args = {\n    reference_doctype: props.doctype,\n    reference_name: doc.value.name,\n    message: content.value,\n    to: doc.value.mobile_no,\n    attach: whatsapp.value.attach || '',\n    reply_to: reply.value?.name || '',\n    content_type: whatsapp.value.content_type,\n  }\n  content.value = ''\n  fileType.value = ''\n  whatsapp.value.attach = ''\n  whatsapp.value.content_type = 'text'\n  reply.value = {}\n  createResource({\n    url: 'crm.api.whatsapp.create_whatsapp_message',\n    params: args,\n    auto: true,\n  })\n}\n\nfunction uploadOptions(openFileSelector) {\n  return [\n    {\n      label: __('Upload Document'),\n      icon: 'file',\n      onClick: () => {\n        fileType.value = 'document'\n        openFileSelector()\n      },\n    },\n    {\n      label: __('Upload Image'),\n      icon: 'image',\n      onClick: () => {\n        fileType.value = 'image'\n        openFileSelector('image/*')\n      },\n    },\n    {\n      label: __('Upload Video'),\n      icon: 'video',\n      onClick: () => {\n        fileType.value = 'video'\n        openFileSelector('video/*')\n      },\n    },\n  ]\n}\n\nwatch(reply, (value) => {\n  if (value?.message) {\n    show()\n  }\n})\n\ndefineExpose({ show })\n</script>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M5.85355 9.64645C5.65829 9.45118 5.34171 9.45118 5.14645 9.64645C4.95118 9.84171 4.95118 10.1583 5.14645 10.3536L7.64645 12.8536C7.84171 13.0488 8.15829 13.0488 8.35355 12.8536L10.8536 10.3536C11.0488 10.1583 11.0488 9.84171 10.8536 9.64645C10.6583 9.45118 10.3417 9.45118 10.1464 9.64645L8 11.7929L5.85355 9.64645ZM5.85355 6.35355C5.65829 6.54882 5.34171 6.54882 5.14645 6.35355C4.95118 6.15829 4.95118 5.84171 5.14645 5.64645L7.64645 3.14645C7.84171 2.95118 8.15829 2.95118 8.35355 3.14645L10.8536 5.64645C11.0488 5.84171 11.0488 6.15829 10.8536 6.35355C10.6583 6.54882 10.3417 6.54882 10.1464 6.35355L8 4.20711L5.85355 6.35355Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M3.02118 2.99721C2.8774 3.1345 2.78573 3.33617 2.80797 3.6148C2.81297 3.67751 2.81796 3.74239 2.82274 3.80936C2.95354 4.86847 3.20623 5.88631 3.56569 6.81892L4.185 6.42862C5.0988 5.85273 5.53943 4.7551 5.27745 3.70723L5.13282 3.12873C5.07717 2.90615 4.87718 2.75 4.64775 2.75H3.72816C3.41272 2.75 3.17153 2.85363 3.02118 2.99721ZM3.97179 7.745L4.71817 7.27463C5.99749 6.46839 6.61436 4.93171 6.24759 3.46468L6.10296 2.88619C5.93602 2.21844 5.33604 1.75 4.64775 1.75H3.72816C3.19638 1.75 2.69456 1.9264 2.33056 2.27398C1.95999 2.62785 1.76597 3.12847 1.81114 3.69437C1.8163 3.75896 1.82136 3.82509 1.82617 3.89296L1.82707 3.90575L1.82863 3.91848C1.99551 5.28024 2.35125 6.58828 2.87459 7.7614C3.04973 8.15399 3.24384 8.53192 3.45622 8.89196C4.35788 10.4262 5.62004 11.7174 7.13333 12.6537C7.43191 12.8391 7.73994 13.0037 8.0565 13.1503C8.14057 13.1893 8.22523 13.2269 8.31046 13.2634C9.52086 13.7807 10.8516 14.0527 12.2547 14.2244L12.3239 14.2329L12.3244 14.2329C12.9454 14.3097 13.4485 14.0194 13.7721 13.6079C14.0876 13.2069 14.2525 12.6744 14.2519 12.1585L14.251 11.4295C14.2502 10.7571 13.802 10.1673 13.1543 9.98651L12.6745 9.85257C11.15 9.42701 9.53099 10.0777 8.72419 11.4365L8.70837 11.4634L8.30302 12.16C8.08253 12.0513 7.86826 11.933 7.66026 11.8038L7.65958 11.8034C6.28441 10.9525 5.13747 9.77916 4.31816 8.38495L4.31773 8.38422C4.19618 8.17818 4.08077 7.96488 3.97179 7.745ZM9.23286 12.5503L9.5209 12.0553L9.57269 11.9663C10.1451 10.9827 11.3095 10.5098 12.4056 10.8157L12.8855 10.9497C13.1014 11.01 13.2508 11.2065 13.251 11.4307L13.2519 12.1597C13.2523 12.477 13.1474 12.7847 12.9862 12.9897C12.8331 13.1843 12.6527 13.266 12.4469 13.2405L12.3853 13.7371L12.4464 13.2404L12.3764 13.2318L12.3761 13.2318C11.7844 13.1594 11.2179 13.0698 10.6771 12.9534C10.1733 12.845 9.69175 12.7132 9.23286 12.5503ZM10.1715 1.93846C10.3668 1.7432 10.6834 1.7432 10.8786 1.93846L12.1161 3.1759L13.3535 1.93846C13.5488 1.7432 13.8654 1.7432 14.0606 1.93846C14.2559 2.13373 14.2559 2.45031 14.0606 2.64557L12.8232 3.88301L14.0606 5.12044C14.2559 5.31571 14.2559 5.63229 14.0606 5.82755C13.8654 6.02281 13.5488 6.02281 13.3535 5.82755L12.1161 4.59011L10.8786 5.82755C10.6834 6.02281 10.3668 6.02281 10.1715 5.82755C9.97627 5.63229 9.97627 5.31571 10.1715 5.12044L11.409 3.88301L10.1715 2.64557C9.97627 2.45031 9.97627 2.13373 10.1715 1.93846Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      d=\"M3.08176 7.30769C2.58005 6.18305 2.23673 4.92355 2.07547 3.60766C2.07054 3.53793 2.06535 3.47026 2.06011 3.40458C1.99269 2.56006 2.6315 2 3.47871 2H4.3983C4.85717 2 5.25715 2.31229 5.36844 2.75746L5.51307 3.33596C5.82745 4.59341 5.2987 5.91056 4.20214 6.60162L3.08176 7.30769ZM3.08176 7.30769C3.24962 7.68396 3.43521 8.04513 3.63764 8.38827C4.49814 9.85258 5.70274 11.085 7.14706 11.9786C7.42755 12.1528 7.71775 12.308 8.01716 12.4466C8.09664 12.4834 8.17677 12.5191 8.25753 12.5536M8.25753 12.5536C9.40645 13.0447 10.6848 13.3091 12.0659 13.4781L12.136 13.4867V13.4867C12.963 13.5892 13.5034 12.7424 13.5025 11.9091L13.5016 11.1801C13.5011 10.7318 13.2023 10.3386 12.7705 10.2181L12.2906 10.0842C10.9753 9.71699 9.57793 10.2845 8.89108 11.4648L8.25753 12.5536Z\"\n      stroke=\"currentColor\"\n    />\n    <path\n      d=\"M10.8983 2.18433L13.8151 5.10114\"\n      stroke=\"currentColor\"\n      stroke-width=\"0.8\"\n      stroke-linecap=\"round\"\n      stroke-linejoin=\"round\"\n    />\n    <circle\n      cx=\"12.25\"\n      cy=\"3.75\"\n      r=\"2.35\"\n      stroke=\"currentColor\"\n      stroke-width=\"0.8\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M14.8532 1.14645C15.0485 1.34171 15.0485 1.65829 14.8532 1.85355L11.4822 5.22461L14.0089 5.22461C14.2851 5.22461 14.5089 5.44847 14.5089 5.72461C14.5089 6.00075 14.2851 6.22461 14.0089 6.22461L10.2749 6.22461C9.99874 6.22461 9.77489 6.00075 9.77489 5.72461L9.77489 1.99055C9.77489 1.71441 9.99874 1.49055 10.2749 1.49055C10.551 1.49055 10.7749 1.71441 10.7749 1.99055V4.51768L14.1461 1.14645C14.3414 0.951184 14.658 0.951184 14.8532 1.14645ZM2.80797 3.6148C2.78573 3.33617 2.8774 3.1345 3.02118 2.99721C3.17153 2.85363 3.41272 2.75 3.72816 2.75H4.64775C4.87718 2.75 5.07717 2.90615 5.13282 3.12873L5.27745 3.70723C5.53943 4.7551 5.0988 5.85273 4.185 6.42862L3.56569 6.81892C3.20623 5.88631 2.95354 4.86847 2.82274 3.80936C2.81796 3.74239 2.81297 3.67751 2.80797 3.6148ZM4.71817 7.27463L3.97179 7.745C4.08077 7.96488 4.19618 8.17818 4.31773 8.38422L4.31816 8.38495C5.13747 9.77916 6.28441 10.9525 7.65958 11.8034L7.66026 11.8038C7.86826 11.933 8.08253 12.0513 8.30302 12.16L8.70837 11.4634C8.71361 11.4544 8.71888 11.4454 8.72419 11.4365C9.53099 10.0777 11.15 9.42701 12.6745 9.85257L13.1543 9.98651C13.802 10.1673 14.2502 10.7571 14.251 11.4295L14.2519 12.1585C14.2525 12.6744 14.0876 13.2069 13.7721 13.6079C13.4485 14.0194 12.9454 14.3097 12.3244 14.2329L12.3239 14.2329L12.2547 14.2244C10.8516 14.0527 9.52086 13.7807 8.31046 13.2634C8.22523 13.2269 8.14057 13.1893 8.0565 13.1503C7.73994 13.0037 7.43191 12.8391 7.13333 12.6537C5.62004 11.7174 4.35788 10.4262 3.45622 8.89196C3.24384 8.53192 3.04973 8.15399 2.87459 7.7614C2.35125 6.58828 1.99551 5.28024 1.82863 3.91848L1.82707 3.90575L1.82617 3.89296C1.82136 3.82509 1.8163 3.75896 1.81114 3.69437C1.76597 3.12847 1.95999 2.62785 2.33056 2.27398C2.69456 1.9264 3.19638 1.75 3.72816 1.75H4.64775C5.33604 1.75 5.93602 2.21844 6.10296 2.88619L6.24759 3.46468C6.61436 4.93171 5.99749 6.46839 4.71817 7.27463ZM9.5209 12.0553L9.23286 12.5503C9.69175 12.7132 10.1733 12.845 10.6771 12.9534C11.2179 13.0698 11.7844 13.1594 12.3761 13.2318L12.3764 13.2318L12.4464 13.2404L12.3853 13.7371L12.4469 13.2405C12.6527 13.266 12.8331 13.1843 12.9862 12.9897C13.1474 12.7847 13.2523 12.477 13.2519 12.1597L13.251 11.4307C13.2508 11.2065 13.1014 11.01 12.8855 10.9497L12.4056 10.8157C11.3095 10.5098 10.1451 10.9827 9.57269 11.9663L9.5209 12.0553Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <svg\n    width=\"16\"\n    height=\"16\"\n    viewBox=\"0 0 16 16\"\n    fill=\"none\"\n    xmlns=\"http://www.w3.org/2000/svg\"\n  >\n    <path\n      fill-rule=\"evenodd\"\n      clip-rule=\"evenodd\"\n      d=\"M10.765 1C10.4889 1 10.265 1.22386 10.265 1.5C10.265 1.77614 10.4889 2 10.765 2H13.2921L9.92106 5.37106C9.72579 5.56632 9.72579 5.8829 9.92106 6.07816C10.1163 6.27342 10.4329 6.27342 10.6282 6.07816L13.9992 2.70714L13.9991 5.23405C13.9991 5.51019 14.2229 5.73405 14.4991 5.73406C14.7752 5.73407 14.9991 5.51022 14.9991 5.23408L14.9992 1.50002C14.9992 1.3674 14.9465 1.24022 14.8528 1.14645C14.759 1.05268 14.6318 1 14.4992 1H10.765ZM2.80797 3.61483C2.78573 3.3362 2.8774 3.13453 3.02118 2.99724C3.17153 2.85366 3.41272 2.75003 3.72816 2.75003H4.64775C4.87718 2.75003 5.07717 2.90618 5.13282 3.12876L5.27745 3.70726C5.53943 4.75513 5.0988 5.85276 4.185 6.42865L3.56569 6.81894C3.20623 5.88634 2.95354 4.8685 2.82274 3.80939C2.81796 3.74242 2.81297 3.67754 2.80797 3.61483ZM4.71817 7.27466L3.97179 7.74503C4.08077 7.96491 4.19618 8.17821 4.31773 8.38425L4.31816 8.38498C5.13747 9.77919 6.28441 10.9526 7.65958 11.8034L7.66026 11.8039C7.86826 11.933 8.08253 12.0514 8.30302 12.16L8.70837 11.4634C8.71361 11.4544 8.71888 11.4454 8.72419 11.4365C9.53099 10.0777 11.15 9.42704 12.6745 9.8526L13.1543 9.98654C13.802 10.1673 14.2502 10.7571 14.251 11.4295L14.2519 12.1585C14.2525 12.6744 14.0876 13.2069 13.7721 13.608C13.4485 14.0194 12.9454 14.3098 12.3244 14.233L12.3239 14.2329L12.2547 14.2244C10.8516 14.0528 9.52086 13.7807 8.31046 13.2634C8.22523 13.227 8.14057 13.1893 8.0565 13.1504C7.73994 13.0038 7.43191 12.8391 7.13333 12.6538C5.62004 11.7174 4.35788 10.4262 3.45622 8.89199C3.24384 8.53194 3.04973 8.15402 2.87459 7.76142C2.35125 6.58831 1.99551 5.28027 1.82863 3.91851L1.82707 3.90578L1.82617 3.89299C1.82136 3.82512 1.8163 3.75899 1.81114 3.6944C1.76597 3.1285 1.95999 2.62788 2.33056 2.27401C2.69456 1.92643 3.19638 1.75003 3.72816 1.75003H4.64775C5.33604 1.75003 5.93602 2.21847 6.10296 2.88621L6.24759 3.46471C6.61436 4.93174 5.99749 6.46842 4.71817 7.27466ZM9.5209 12.0553L9.23286 12.5503C9.69175 12.7132 10.1733 12.845 10.6771 12.9535C11.2179 13.0699 11.7844 13.1594 12.3761 13.2318L12.3764 13.2318L12.4464 13.2404L12.3853 13.7372L12.4469 13.2405C12.6527 13.266 12.8331 13.1843 12.9862 12.9897C13.1474 12.7847 13.2523 12.4771 13.2519 12.1597L13.251 11.4307C13.2508 11.2066 13.1014 11.01 12.8855 10.9497L12.4056 10.8158C11.3095 10.5098 10.1451 10.9827 9.57269 11.9663L9.5209 12.0553Z\"\n      fill=\"currentColor\"\n    />\n  </svg>\n</template>\n","<template>\n  <div>\n    <div class=\"flex flex-wrap gap-1\">\n      <Button\n        ref=\"emails\"\n        v-for=\"value in values\"\n        :key=\"value\"\n        :label=\"value\"\n        theme=\"gray\"\n        variant=\"subtle\"\n        :class=\"{\n          'rounded bg-surface-white hover:!bg-surface-gray-1 focus-visible:ring-outline-gray-4':\n            variant === 'subtle',\n        }\"\n        @keydown.delete.capture.stop=\"removeLastValue\"\n      >\n        <template #suffix>\n          <FeatherIcon\n            class=\"h-3.5\"\n            name=\"x\"\n            @click.stop=\"removeValue(value)\"\n          />\n        </template>\n      </Button>\n      <div class=\"flex-1\">\n        <Combobox v-model=\"selectedValue\" nullable>\n          <Popover class=\"w-full\" v-model:show=\"showOptions\">\n            <template #target=\"{ togglePopover }\">\n              <ComboboxInput\n                ref=\"search\"\n                class=\"search-input form-input w-full border-none focus:border-none focus:!shadow-none focus-visible:!ring-0\"\n                :class=\"[\n                  variant == 'ghost'\n                    ? 'bg-surface-white hover:bg-surface-white'\n                    : 'bg-surface-gray-2 hover:bg-surface-gray-3',\n                  inputClass,\n                ]\"\n                :placeholder=\"placeholder\"\n                type=\"text\"\n                :value=\"query\"\n                @change=\"\n                  (e) => {\n                    query = e.target.value\n                    showOptions = true\n                  }\n                \"\n                autocomplete=\"off\"\n                @focus=\"() => togglePopover()\"\n                @keydown.delete.capture.stop=\"removeLastValue\"\n              />\n            </template>\n            <template #body=\"{ isOpen }\">\n              <div v-show=\"isOpen\">\n                <div\n                  class=\"mt-1 rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black ring-opacity-5 focus:outline-none\"\n                >\n                  <ComboboxOptions\n                    class=\"p-1.5 max-h-[12rem] overflow-y-auto\"\n                    static\n                  >\n                    <div\n                      v-if=\"!options.length\"\n                      class=\"flex gap-2 rounded px-2 py-1 text-base text-ink-gray-5\"\n                    >\n                      <FeatherIcon\n                        v-if=\"fetchContacts\"\n                        name=\"search\"\n                        class=\"h-4\"\n                      />\n                      {{\n                        fetchContacts\n                          ? __('No results found')\n                          : __('Type an email address to invite')\n                      }}\n                    </div>\n                    <ComboboxOption\n                      v-for=\"option in options\"\n                      :key=\"option.value\"\n                      :value=\"option\"\n                      v-slot=\"{ active }\"\n                    >\n                      <li\n                        :class=\"[\n                          'flex cursor-pointer items-center rounded px-2 py-1 text-base',\n                          { 'bg-surface-gray-3': active },\n                        ]\"\n                      >\n                        <UserAvatar\n                          class=\"mr-2\"\n                          :user=\"option.value\"\n                          size=\"lg\"\n                        />\n                        <div class=\"flex flex-col gap-1 p-1 text-ink-gray-8\">\n                          <div class=\"text-base font-medium\">\n                            {{ option.label }}\n                          </div>\n                          <div class=\"text-sm text-ink-gray-5\">\n                            {{ option.value }}\n                          </div>\n                        </div>\n                      </li>\n                    </ComboboxOption>\n                  </ComboboxOptions>\n                </div>\n              </div>\n            </template>\n          </Popover>\n        </Combobox>\n      </div>\n    </div>\n    <ErrorMessage class=\"mt-2 pl-2\" v-if=\"error\" :message=\"error\" />\n    <div\n      v-if=\"info\"\n      class=\"whitespace-pre-line text-sm text-ink-blue-3 mt-2 pl-2\"\n    >\n      {{ info }}\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport {\n  Combobox,\n  ComboboxInput,\n  ComboboxOptions,\n  ComboboxOption,\n} from '@headlessui/vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport Popover from '@/components/frappe-ui/Popover.vue'\nimport { createResource } from 'frappe-ui'\nimport { ref, computed, nextTick } from 'vue'\nimport { watchDebounced } from '@vueuse/core'\n\nconst props = defineProps({\n  validate: {\n    type: Function,\n    default: null,\n  },\n  variant: {\n    type: String,\n    default: 'subtle',\n  },\n  placeholder: {\n    type: String,\n    default: '',\n  },\n  inputClass: {\n    type: String,\n    default: '',\n  },\n  errorMessage: {\n    type: Function,\n    default: (value) => `${value} is an Invalid value`,\n  },\n  fetchContacts: {\n    type: Boolean,\n    default: true,\n  },\n  existingEmails: {\n    type: Array,\n    default: () => [],\n  },\n})\n\nconst values = defineModel()\n\nconst emails = ref([])\nconst search = ref(null)\nconst error = ref(null)\nconst info = ref(null)\nconst query = ref('')\nconst text = ref('')\nconst showOptions = ref(false)\n\nconst selectedValue = computed({\n  get: () => query.value || '',\n  set: (val) => {\n    query.value = ''\n    if (val) {\n      showOptions.value = false\n    }\n    val?.value && addValue(val.value)\n  },\n})\n\nwatchDebounced(\n  query,\n  (val) => {\n    val = val || ''\n    if (text.value === val && options.value?.length) return\n    text.value = val\n    reload(val)\n  },\n  { debounce: 300, immediate: true },\n)\n\nconst filterOptions = createResource({\n  url: 'crm.api.contact.search_emails',\n  method: 'POST',\n  cache: [text.value, 'Contact'],\n  params: { txt: text.value },\n  transform: (data) => {\n    let allData = data.map((option) => {\n      let fullName = option[0]\n      let email = option[1]\n      let name = option[2]\n      return {\n        label: fullName || name || email,\n        value: email,\n      }\n    })\n\n    // Filter out existing emails\n    if (props.existingEmails?.length) {\n      allData = allData.filter((option) => {\n        return !props.existingEmails.includes(option.value)\n      })\n    }\n\n    return allData\n  },\n})\n\nconst options = computed(() => {\n  let searchedContacts = props.fetchContacts ? filterOptions.data : []\n  if (!searchedContacts?.length && query.value) {\n    searchedContacts.push({\n      label: query.value,\n      value: query.value,\n    })\n  }\n  return searchedContacts || []\n})\n\nfunction reload(val) {\n  if (!props.fetchContacts) return\n\n  filterOptions.update({\n    params: { txt: val },\n  })\n  filterOptions.reload()\n}\n\nconst addValue = (value) => {\n  error.value = null\n  info.value = null\n  if (value) {\n    const splitValues = value.split(',')\n    splitValues.forEach((value) => {\n      value = value.trim()\n      if (value) {\n        // check if value is not already in the values array\n        if (!values.value?.includes(value)) {\n          // check if value is valid\n          if (value && props.validate && !props.validate(value)) {\n            error.value = props.errorMessage(value)\n            query.value = value\n            return\n          }\n          // add value to values array\n          if (!values.value) {\n            values.value = [value]\n          } else {\n            values.value.push(value)\n          }\n          value = value.replace(value, '')\n        } else {\n          info.value = __('email already exists')\n        }\n      }\n    })\n    !error.value && (value = '')\n  }\n}\n\nconst removeValue = (value) => {\n  values.value = values.value.filter((v) => v !== value)\n}\n\nconst removeLastValue = () => {\n  if (query.value) return\n\n  let emailRef = emails.value[emails.value.length - 1]?.$el\n  if (document.activeElement === emailRef) {\n    values.value.pop()\n    nextTick(() => {\n      if (values.value.length) {\n        emailRef = emails.value[emails.value.length - 1].$el\n        emailRef?.focus()\n      } else {\n        setFocus()\n      }\n    })\n  } else {\n    emailRef?.focus()\n  }\n}\n\nfunction setFocus() {\n  search.value.$el.focus()\n}\n\ndefineExpose({ setFocus })\n</script>\n","<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{ title: __('Email Templates'), size: '4xl' }\"\n  >\n    <template #body-content>\n      <div class=\"flex items-center gap-2\">\n        <TextInput\n          class=\"w-full\"\n          ref=\"searchInput\"\n          v-model=\"search\"\n          type=\"text\"\n          :placeholder=\"__('Payment Reminder')\"\n        >\n          <template #prefix>\n            <FeatherIcon name=\"search\" class=\"h-4 w-4 text-ink-gray-4\" />\n          </template>\n        </TextInput>\n        <Button\n          :label=\"__('Create')\"\n          icon-left=\"plus\"\n          @click=\"\n            () => {\n              show = false\n              showSettings = true\n              activeSettingsPage = 'Email Templates'\n            }\n          \"\n        />\n      </div>\n      <div\n        v-if=\"filteredTemplates.length\"\n        class=\"mt-4 grid max-h-[560px] sm:grid-cols-3 gris-cols-1 gap-2 overflow-y-auto\"\n      >\n        <div\n          v-for=\"template in filteredTemplates\"\n          :key=\"template.name\"\n          class=\"flex h-56 cursor-pointer flex-col gap-2 rounded-lg border p-3 hover:bg-surface-gray-2\"\n          @click=\"emit('apply', template)\"\n        >\n          <div class=\"border-b pb-2 text-base font-semibold\">\n            {{ template.name }}\n          </div>\n          <div v-if=\"template.subject\" class=\"text-sm text-ink-gray-5\">\n            {{ __('Subject: {0}', [template.subject]) }}\n          </div>\n          <TextEditor\n            v-if=\"template.use_html && template.response_html\"\n            :content=\"template.response_html\"\n            :editable=\"false\"\n            editor-class=\"!prose-sm max-w-none !text-sm text-ink-gray-5 focus:outline-none\"\n            class=\"flex-1 overflow-hidden\"\n          />\n          <TextEditor\n            v-else-if=\"template.response\"\n            :content=\"template.response\"\n            :editable=\"false\"\n            editor-class=\"!prose-sm max-w-none !text-sm text-ink-gray-5 focus:outline-none\"\n            class=\"flex-1 overflow-hidden\"\n          />\n        </div>\n      </div>\n      <div v-else class=\"mt-2\">\n        <div class=\"flex h-56 flex-col items-center justify-center\">\n          <div class=\"text-lg text-ink-gray-4\">\n            {{ __('No templates found') }}\n          </div>\n          <Button\n            :label=\"__('Create New')\"\n            class=\"mt-4\"\n            @click=\"\n              () => {\n                show = false\n                showSettings = true\n                activeSettingsPage = 'Email Templates'\n              }\n            \"\n          />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { showSettings, activeSettingsPage } from '@/composables/settings'\nimport { TextEditor, createListResource } from 'frappe-ui'\nimport { ref, computed, nextTick, watch, onMounted } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    default: '',\n  },\n})\n\nconst show = defineModel()\nconst searchInput = ref('')\n\nconst emit = defineEmits(['apply'])\n\nconst search = ref('')\n\nconst templates = createListResource({\n  type: 'list',\n  doctype: 'Email Template',\n  cache: ['emailTemplates', props.doctype],\n  fields: [\n    'name',\n    'enabled',\n    'use_html',\n    'reference_doctype',\n    'subject',\n    'response',\n    'response_html',\n    'modified',\n    'owner',\n  ],\n  filters: { enabled: 1, reference_doctype: props.doctype },\n  orderBy: 'modified desc',\n  pageLength: 99999,\n})\n\nonMounted(() => {\n  if (templates.data == null) {\n    templates.fetch()\n  }\n})\n\nconst filteredTemplates = computed(() => {\n  return (\n    templates.data?.filter((template) => {\n      return (\n        template.name.toLowerCase().includes(search.value.toLowerCase()) ||\n        template.subject.toLowerCase().includes(search.value.toLowerCase())\n      )\n    }) ?? []\n  )\n})\n\nwatch(show, (value) => value && nextTick(() => searchInput.value?.el?.focus()))\n</script>\n","<template>\n  <TextEditor\n    ref=\"textEditor\"\n    :editor-class=\"[\n      'prose-sm max-w-none',\n      editable && 'min-h-[7rem]',\n      '[&_p.reply-to-content]:hidden',\n    ]\"\n    :content=\"content\"\n    @change=\"editable ? (content = $event) : null\"\n    :starterkit-options=\"{\n      heading: { levels: [2, 3, 4, 5, 6] },\n      paragraph: false,\n    }\"\n    :placeholder=\"placeholder\"\n    :editable=\"editable\"\n    :extensions=\"[CustomParagraph]\"\n  >\n    <template #top>\n      <div class=\"flex flex-col gap-3\">\n        <div class=\"sm:mx-10 mx-4 flex items-center gap-2 border-t pt-2.5\">\n          <span class=\"text-xs text-ink-gray-4\">{{ __('TO') }}:</span>\n          <MultiSelectEmailInput\n            class=\"flex-1\"\n            variant=\"ghost\"\n            v-model=\"toEmails\"\n            :validate=\"validateEmail\"\n            :error-message=\"\n              (value) => __('{0} is an invalid email address', [value])\n            \"\n          />\n          <div class=\"flex gap-1.5\">\n            <Button\n              :label=\"__('CC')\"\n              variant=\"ghost\"\n              @click=\"toggleCC()\"\n              :class=\"[\n                cc\n                  ? '!bg-surface-gray-4 hover:bg-surface-gray-3'\n                  : '!text-ink-gray-4',\n              ]\"\n            />\n            <Button\n              :label=\"__('BCC')\"\n              variant=\"ghost\"\n              @click=\"toggleBCC()\"\n              :class=\"[\n                bcc\n                  ? '!bg-surface-gray-4 hover:bg-surface-gray-3'\n                  : '!text-ink-gray-4',\n              ]\"\n            />\n          </div>\n        </div>\n        <div v-if=\"cc\" class=\"sm:mx-10 mx-4 flex items-center gap-2\">\n          <span class=\"text-xs text-ink-gray-4\">{{ __('CC') }}:</span>\n          <MultiSelectEmailInput\n            ref=\"ccInput\"\n            class=\"flex-1\"\n            variant=\"ghost\"\n            v-model=\"ccEmails\"\n            :validate=\"validateEmail\"\n            :error-message=\"\n              (value) => __('{0} is an invalid email address', [value])\n            \"\n          />\n        </div>\n        <div v-if=\"bcc\" class=\"sm:mx-10 mx-4 flex items-center gap-2\">\n          <span class=\"text-xs text-ink-gray-4\">{{ __('BCC') }}:</span>\n          <MultiSelectEmailInput\n            ref=\"bccInput\"\n            class=\"flex-1\"\n            variant=\"ghost\"\n            v-model=\"bccEmails\"\n            :validate=\"validateEmail\"\n            :error-message=\"\n              (value) => __('{0} is an invalid email address', [value])\n            \"\n          />\n        </div>\n        <div class=\"sm:mx-10 mx-4 flex items-center gap-2 pb-2.5\">\n          <span class=\"text-xs text-ink-gray-4\">{{ __('SUBJECT') }}:</span>\n          <input\n            class=\"flex-1 border-none text-ink-gray-9 text-base bg-surface-white hover:bg-surface-white focus:border-none focus:!shadow-none focus-visible:!ring-0\"\n            v-model=\"subject\"\n          />\n        </div>\n      </div>\n    </template>\n    <template v-slot:editor=\"{ editor }\">\n      <EditorContent\n        :class=\"[\n          editable &&\n            'sm:mx-10 mx-4 max-h-[35vh] overflow-y-auto border-t py-3',\n        ]\"\n        :editor=\"editor\"\n      />\n    </template>\n    <template v-slot:bottom>\n      <div v-if=\"editable\" class=\"flex flex-col gap-2\">\n        <div class=\"flex flex-wrap gap-2 sm:px-10 px-4\">\n          <AttachmentItem\n            v-for=\"a in attachments\"\n            :key=\"a.file_url\"\n            :label=\"a.file_name\"\n          >\n            <template #suffix>\n              <FeatherIcon\n                class=\"h-3.5\"\n                name=\"x\"\n                @click.stop=\"removeAttachment(a)\"\n              />\n            </template>\n          </AttachmentItem>\n        </div>\n        <div\n          class=\"flex justify-between gap-2 overflow-hidden border-t sm:px-10 px-4 py-2.5\"\n        >\n          <div class=\"flex gap-1 items-center overflow-x-auto\">\n            <TextEditorBubbleMenu :buttons=\"textEditorMenuButtons\" />\n            <IconPicker\n              v-model=\"emoji\"\n              v-slot=\"{ togglePopover }\"\n              @update:modelValue=\"() => appendEmoji()\"\n            >\n              <Button\n                :tooltip=\"__('Insert Emoji')\"\n                :icon=\"SmileIcon\"\n                variant=\"ghost\"\n                @click=\"togglePopover()\"\n              />\n            </IconPicker>\n            <FileUploader\n              :upload-args=\"{\n                doctype: doctype,\n                docname: modelValue.name,\n                private: true,\n              }\"\n              @success=\"(f) => attachments.push(f)\"\n            >\n              <template #default=\"{ openFileSelector }\">\n                <Button\n                  :tooltip=\"__('Attach a file')\"\n                  :icon=\"AttachmentIcon\"\n                  variant=\"ghost\"\n                  @click=\"openFileSelector()\"\n                />\n              </template>\n            </FileUploader>\n            <Button\n              :tooltip=\"__('Insert Email Template')\"\n              variant=\"ghost\"\n              :icon=\"EmailTemplateIcon\"\n              @click=\"showEmailTemplateSelectorModal = true\"\n            />\n          </div>\n          <div class=\"mt-2 flex items-center justify-end space-x-2 sm:mt-0\">\n            <Button v-bind=\"discardButtonProps || {}\" :label=\"__('Discard')\" />\n            <Button\n              variant=\"solid\"\n              v-bind=\"submitButtonProps || {}\"\n              :label=\"__('Send')\"\n            />\n          </div>\n        </div>\n      </div>\n    </template>\n  </TextEditor>\n  <EmailTemplateSelectorModal\n    v-model=\"showEmailTemplateSelectorModal\"\n    :doctype=\"doctype\"\n    @apply=\"applyEmailTemplate\"\n  />\n</template>\n\n<script setup>\nimport IconPicker from '@/components/IconPicker.vue'\nimport SmileIcon from '@/components/Icons/SmileIcon.vue'\nimport EmailTemplateIcon from '@/components/Icons/EmailTemplateIcon.vue'\nimport AttachmentIcon from '@/components/Icons/AttachmentIcon.vue'\nimport AttachmentItem from '@/components/AttachmentItem.vue'\nimport MultiSelectEmailInput from '@/components/Controls/MultiSelectEmailInput.vue'\nimport EmailTemplateSelectorModal from '@/components/Modals/EmailTemplateSelectorModal.vue'\nimport { TextEditorBubbleMenu, TextEditor, FileUploader, call } from 'frappe-ui'\nimport { capture } from '@/telemetry'\nimport { validateEmail } from '@/utils'\nimport Paragraph from '@tiptap/extension-paragraph'\nimport { EditorContent } from '@tiptap/vue-3'\nimport { ref, computed, nextTick } from 'vue'\n\nconst props = defineProps({\n  placeholder: {\n    type: String,\n    default: null,\n  },\n  editable: {\n    type: Boolean,\n    default: true,\n  },\n  doctype: {\n    type: String,\n    default: 'CRM Lead',\n  },\n  subject: {\n    type: String,\n    default: __('Email from Lead'),\n  },\n  editorProps: {\n    type: Object,\n    default: () => ({}),\n  },\n  submitButtonProps: {\n    type: Object,\n    default: () => ({}),\n  },\n  discardButtonProps: {\n    type: Object,\n    default: () => ({}),\n  },\n})\n\nconst CustomParagraph = Paragraph.extend({\n  addAttributes() {\n    return {\n      class: {\n        default: null,\n        renderHTML: (attributes) => {\n          if (!attributes.class) {\n            return {}\n          }\n          return {\n            class: `${attributes.class}`,\n          }\n        },\n      },\n    }\n  },\n})\n\nconst modelValue = defineModel()\nconst attachments = defineModel('attachments')\nconst content = defineModel('content')\n\nconst textEditor = ref(null)\nconst cc = ref(false)\nconst bcc = ref(false)\nconst emoji = ref('')\n\nconst subject = ref(props.subject)\nconst toEmails = ref(modelValue.value.email ? [modelValue.value.email] : [])\nconst ccEmails = ref([])\nconst bccEmails = ref([])\nconst ccInput = ref(null)\nconst bccInput = ref(null)\n\nconst editor = computed(() => {\n  return textEditor.value.editor\n})\n\nfunction removeAttachment(attachment) {\n  attachments.value = attachments.value.filter((a) => a !== attachment)\n}\n\nconst showEmailTemplateSelectorModal = ref(false)\n\nasync function applyEmailTemplate(template) {\n  let data = await call(\n    'frappe.email.doctype.email_template.email_template.get_email_template',\n    {\n      template_name: template.name,\n      doc: modelValue.value,\n    },\n  )\n\n  if (template.subject) {\n    subject.value = data.subject\n  }\n\n  if (template.response) {\n    content.value = data.message\n    editor.value.commands.setContent(data.message)\n  }\n  showEmailTemplateSelectorModal.value = false\n  capture('email_template_applied', { doctype: props.doctype })\n}\n\nfunction appendEmoji() {\n  editor.value.commands.insertContent(emoji.value)\n  editor.value.commands.focus()\n  emoji.value = ''\n  capture('emoji_inserted_in_email', { emoji: emoji.value })\n}\n\nfunction toggleCC() {\n  cc.value = !cc.value\n  cc.value && nextTick(() => ccInput.value.setFocus())\n}\n\nfunction toggleBCC() {\n  bcc.value = !bcc.value\n  bcc.value && nextTick(() => bccInput.value.setFocus())\n}\n\ndefineExpose({\n  editor,\n  subject,\n  cc,\n  bcc,\n  toEmails,\n  ccEmails,\n  bccEmails,\n})\n\nconst textEditorMenuButtons = [\n  'Paragraph',\n  ['Heading 2', 'Heading 3', 'Heading 4', 'Heading 5', 'Heading 6'],\n  'Separator',\n  'Bold',\n  'Italic',\n  'Separator',\n  'Bullet List',\n  'Numbered List',\n  'Separator',\n  'Align Left',\n  'Align Center',\n  'Align Right',\n  'FontColor',\n  'Separator',\n  'Image',\n  'Video',\n  'Link',\n  'Blockquote',\n  'Code',\n  'Horizontal Rule',\n  [\n    'InsertTable',\n    'AddColumnBefore',\n    'AddColumnAfter',\n    'DeleteColumn',\n    'AddRowBefore',\n    'AddRowAfter',\n    'DeleteRow',\n    'MergeCells',\n    'SplitCell',\n    'ToggleHeaderColumn',\n    'ToggleHeaderRow',\n    'ToggleHeaderCell',\n    'DeleteTable',\n  ],\n]\n</script>\n","<template>\n  <TextEditor\n    ref=\"textEditor\"\n    :editor-class=\"['prose-sm max-w-none', editable && 'min-h-[7rem]']\"\n    :content=\"content\"\n    @change=\"editable ? (content = $event) : null\"\n    :starterkit-options=\"{ heading: { levels: [2, 3, 4, 5, 6] } }\"\n    :placeholder=\"placeholder\"\n    :editable=\"editable\"\n    :mentions=\"users\"\n  >\n    <template v-slot:editor=\"{ editor }\">\n      <EditorContent\n        :class=\"[\n          editable &&\n            'sm:mx-10 mx-4 max-h-[50vh] overflow-y-auto border-t py-3',\n        ]\"\n        :editor=\"editor\"\n      />\n    </template>\n    <template v-slot:bottom>\n      <div v-if=\"editable\" class=\"flex flex-col gap-2\">\n        <div class=\"flex flex-wrap gap-2 sm:px-10 px-4\">\n          <AttachmentItem\n            v-for=\"a in attachments\"\n            :key=\"a.file_url\"\n            :label=\"a.file_name\"\n          >\n            <template #suffix>\n              <FeatherIcon\n                class=\"h-3.5\"\n                name=\"x\"\n                @click.stop=\"removeAttachment(a)\"\n              />\n            </template>\n          </AttachmentItem>\n        </div>\n        <div\n          class=\"flex justify-between gap-2 overflow-hidden border-t sm:px-10 px-4 py-2.5\"\n        >\n          <div class=\"flex gap-1 items-center overflow-x-auto\">\n            <TextEditorBubbleMenu :buttons=\"textEditorMenuButtons\" />\n            <IconPicker\n              v-model=\"emoji\"\n              v-slot=\"{ togglePopover }\"\n              @update:modelValue=\"() => appendEmoji()\"\n            >\n              <Button\n                :tooltip=\"__('Insert Emoji')\"\n                :icon=\"SmileIcon\"\n                variant=\"ghost\"\n                @click=\"togglePopover()\"\n              />\n            </IconPicker>\n            <FileUploader\n              :upload-args=\"{\n                doctype: doctype,\n                docname: modelValue.name,\n                private: true,\n              }\"\n              @success=\"(f) => attachments.push(f)\"\n            >\n              <template #default=\"{ openFileSelector }\">\n                <Button\n                  :tooltip=\"__('Attach a file')\"\n                  variant=\"ghost\"\n                  :icon=\"AttachmentIcon\"\n                  @click=\"openFileSelector()\"\n                />\n              </template>\n            </FileUploader>\n          </div>\n          <div class=\"mt-2 flex items-center justify-end space-x-2 sm:mt-0\">\n            <Button v-bind=\"discardButtonProps || {}\" :label=\"__('Discard')\" />\n            <Button\n              variant=\"solid\"\n              v-bind=\"submitButtonProps || {}\"\n              :label=\"__('Comment')\"\n            />\n          </div>\n        </div>\n      </div>\n    </template>\n  </TextEditor>\n</template>\n<script setup>\nimport IconPicker from '@/components/IconPicker.vue'\nimport SmileIcon from '@/components/Icons/SmileIcon.vue'\nimport AttachmentIcon from '@/components/Icons/AttachmentIcon.vue'\nimport AttachmentItem from '@/components/AttachmentItem.vue'\nimport { usersStore } from '@/stores/users'\nimport { TextEditorBubbleMenu, TextEditor, FileUploader } from 'frappe-ui'\nimport { capture } from '@/telemetry'\nimport { EditorContent } from '@tiptap/vue-3'\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  placeholder: {\n    type: String,\n    default: null,\n  },\n  editable: {\n    type: Boolean,\n    default: true,\n  },\n  doctype: {\n    type: String,\n    default: 'CRM Lead',\n  },\n  editorProps: {\n    type: Object,\n    default: () => ({}),\n  },\n  submitButtonProps: {\n    type: Object,\n    default: () => ({}),\n  },\n  discardButtonProps: {\n    type: Object,\n    default: () => ({}),\n  },\n})\n\nconst modelValue = defineModel()\nconst attachments = defineModel('attachments')\nconst content = defineModel('content')\n\nconst { users: usersList } = usersStore()\n\nconst textEditor = ref(null)\nconst emoji = ref('')\n\nconst editor = computed(() => {\n  return textEditor.value.editor\n})\n\nfunction appendEmoji() {\n  editor.value.commands.insertContent(emoji.value)\n  editor.value.commands.focus()\n  emoji.value = ''\n  capture('emoji_inserted_in_comment', { emoji: emoji.value })\n}\n\nfunction removeAttachment(attachment) {\n  attachments.value = attachments.value.filter((a) => a !== attachment)\n}\n\nconst users = computed(() => {\n  return (\n    usersList.data?.crmUsers\n      ?.filter((user) => user.enabled)\n      .map((user) => ({\n        label: user.full_name.trimEnd(),\n        value: user.name,\n      })) || []\n  )\n})\n\ndefineExpose({ editor })\n\nconst textEditorMenuButtons = [\n  'Paragraph',\n  ['Heading 2', 'Heading 3', 'Heading 4', 'Heading 5', 'Heading 6'],\n  'Separator',\n  'Bold',\n  'Italic',\n  'Separator',\n  'Bullet List',\n  'Numbered List',\n  'Separator',\n  'Align Left',\n  'Align Center',\n  'Align Right',\n  'FontColor',\n  'Separator',\n  'Image',\n  'Video',\n  'Link',\n  'Blockquote',\n  'Code',\n  'Horizontal Rule',\n  [\n    'InsertTable',\n    'AddColumnBefore',\n    'AddColumnAfter',\n    'DeleteColumn',\n    'AddRowBefore',\n    'AddRowAfter',\n    'DeleteRow',\n    'MergeCells',\n    'SplitCell',\n    'ToggleHeaderColumn',\n    'ToggleHeaderRow',\n    'ToggleHeaderCell',\n    'DeleteTable',\n  ],\n]\n</script>\n","<template>\n  <div class=\"flex justify-between gap-3 border-t px-4 py-2.5 sm:px-10\">\n    <div class=\"flex gap-1.5\">\n      <Button\n        ref=\"sendEmailRef\"\n        variant=\"ghost\"\n        :class=\"[\n          showEmailBox ? '!bg-surface-gray-4 hover:!bg-surface-gray-3' : '',\n        ]\"\n        :label=\"__('Reply')\"\n        :iconLeft=\"Email2Icon\"\n        @click=\"toggleEmailBox()\"\n      />\n      <Button\n        variant=\"ghost\"\n        :label=\"__('Comment')\"\n        :class=\"[\n          showCommentBox ? '!bg-surface-gray-4 hover:!bg-surface-gray-3' : '',\n        ]\"\n        :iconLeft=\"CommentIcon\"\n        @click=\"toggleCommentBox()\"\n      />\n    </div>\n  </div>\n  <div\n    v-show=\"showEmailBox\"\n    @keydown.ctrl.enter.capture.stop=\"submitEmail\"\n    @keydown.meta.enter.capture.stop=\"submitEmail\"\n  >\n    <EmailEditor\n      ref=\"newEmailEditor\"\n      v-model:content=\"newEmail\"\n      :submitButtonProps=\"{\n        variant: 'solid',\n        onClick: submitEmail,\n        disabled: emailEmpty,\n      }\"\n      :discardButtonProps=\"{\n        onClick: async () => {\n          await deleteAttachedFiles()\n          showEmailBox = false\n          newEmailEditor.subject = subject\n          newEmailEditor.toEmails = doc.email ? [doc.email] : []\n          newEmailEditor.ccEmails = []\n          newEmailEditor.bccEmails = []\n          newEmailEditor.cc = false\n          newEmailEditor.bcc = false\n          newEmail = ''\n        },\n      }\"\n      :editable=\"showEmailBox\"\n      v-model=\"doc\"\n      v-model:attachments=\"attachments\"\n      :doctype=\"doctype\"\n      :subject=\"subject\"\n      :placeholder=\"\n        __('Hi John, \\n\\nCan you please provide more details on this...')\n      \"\n    />\n  </div>\n  <div v-show=\"showCommentBox\">\n    <CommentBox\n      ref=\"newCommentEditor\"\n      v-model:content=\"newComment\"\n      :submitButtonProps=\"{\n        variant: 'solid',\n        onClick: submitComment,\n        disabled: commentEmpty,\n      }\"\n      :discardButtonProps=\"{\n        onClick: async () => {\n          await deleteAttachedFiles()\n          showCommentBox = false\n          newComment = ''\n        },\n      }\"\n      :editable=\"showCommentBox\"\n      v-model=\"doc\"\n      v-model:attachments=\"attachments\"\n      :doctype=\"doctype\"\n      :placeholder=\"__('@John, can you please check this?')\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport EmailEditor from '@/components/EmailEditor.vue'\nimport CommentBox from '@/components/CommentBox.vue'\nimport CommentIcon from '@/components/Icons/CommentIcon.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport { capture } from '@/telemetry'\nimport { usersStore } from '@/stores/users'\nimport { useStorage } from '@vueuse/core'\nimport { call, createResource } from 'frappe-ui'\nimport { useOnboarding } from 'frappe-ui/frappe'\nimport { ref, watch, computed } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    default: 'CRM Lead',\n  },\n})\n\nconst doc = defineModel()\nconst reload = defineModel('reload')\n\nconst emit = defineEmits(['scroll'])\n\nconst { getUser } = usersStore()\nconst { updateOnboardingStep } = useOnboarding('frappecrm')\n\nconst showEmailBox = ref(false)\nconst showCommentBox = ref(false)\nconst newEmail = useStorage(\n  `emailBoxContent-${getUser().email}-${props.doctype}-${doc.value.name}`,\n  '',\n)\nconst newComment = useStorage(\n  `commentBoxContent-${getUser().email}-${props.doctype}-${doc.value.name}`,\n  '',\n)\nconst newEmailEditor = ref(null)\nconst newCommentEditor = ref(null)\nconst sendEmailRef = ref(null)\nconst attachments = useStorage(\n  `attachments-${getUser().email}-${props.doctype}-${doc.value.name}`,\n  [],\n  localStorage,\n  {\n    serializer: {\n      read: (v) => v ? JSON.parse(v) : [],\n      write: (v) => JSON.stringify(v)\n    }\n  }\n)\n\nconst subject = computed(() => {\n  let prefix = ''\n  if (doc.value?.lead_name) {\n    prefix = doc.value.lead_name\n  } else if (doc.value?.organization) {\n    prefix = doc.value.organization\n  }\n  return `${prefix} (#${doc.value.name})`\n})\n\nconst signature = createResource({\n  url: 'crm.api.get_user_signature',\n  cache: 'user-email-signature',\n  auto: true,\n})\n\nfunction setSignature(editor) {\n  if (!signature.data) return\n  signature.data = signature.data.replace(/\\n/g, '<br>')\n  let emailContent = editor.getHTML()\n  emailContent = emailContent.startsWith('<p></p>')\n    ? emailContent.slice(7)\n    : emailContent\n  editor.commands.setContent(signature.data + emailContent)\n  editor.commands.focus('start')\n}\n\nwatch(\n  () => showEmailBox.value,\n  (value) => {\n    if (value) {\n      let editor = newEmailEditor.value.editor\n      editor.commands.focus()\n      setSignature(editor)\n    }\n  },\n)\n\nwatch(\n  () => showCommentBox.value,\n  (value) => {\n    if (value) {\n      newCommentEditor.value.editor.commands.focus()\n    }\n  },\n)\n\nconst commentEmpty = computed(() => {\n  return !newComment.value || newComment.value === '<p></p>'\n})\n\nconst emailEmpty = computed(() => {\n  return (\n    !newEmail.value ||\n    newEmail.value === '<p></p>' ||\n    !newEmailEditor.value?.toEmails?.length\n  )\n})\n\nasync function sendMail() {\n  let recipients = newEmailEditor.value.toEmails\n  let subject = newEmailEditor.value.subject\n  let cc = newEmailEditor.value.ccEmails || []\n  let bcc = newEmailEditor.value.bccEmails || []\n\n  if (attachments.value.length) {\n    capture('email_attachments_added')\n  }\n  await call('frappe.core.doctype.communication.email.make', {\n    recipients: recipients.join(', '),\n    attachments: attachments.value.map((x) => x.name),\n    cc: cc.join(', '),\n    bcc: bcc.join(', '),\n    subject: subject,\n    content: newEmail.value,\n    doctype: props.doctype,\n    name: doc.value.name,\n    send_email: 1,\n    sender: getUser().email,\n    sender_full_name: getUser()?.full_name || undefined,\n  })\n}\n\nasync function sendComment() {\n  let comment = await call('frappe.desk.form.utils.add_comment', {\n    reference_doctype: props.doctype,\n    reference_name: doc.value.name,\n    content: newComment.value,\n    comment_email: getUser().email,\n    comment_by: getUser()?.full_name || undefined,\n  })\n  if (comment && attachments.value.length) {\n    capture('comment_attachments_added')\n    await call('crm.api.comment.add_attachments', {\n      name: comment.name,\n      attachments: attachments.value.map((x) => x.name),\n    })\n  }\n}\n\nasync function deleteAttachedFiles() {\n  if (!attachments.value || attachments.value.length === 0) return\n\n  const deletePromises = attachments.value.map(async (file) => {\n    try {\n      await call('frappe.client.delete', {\n        doctype: 'File',\n        name: file.name,\n      })\n    } catch (error) {\n      console.warn(`Failed to delete file ${file.name}:`, error)\n    }\n  })\n\n  await Promise.all(deletePromises)\n\n  attachments.value = []\n}\n\nasync function submitEmail() {\n  if (emailEmpty.value) return\n  showEmailBox.value = false\n  await sendMail()\n  newEmail.value = ''\n  attachments.value = []\n  reload.value = true\n  emit('scroll')\n  capture('email_sent', { doctype: props.doctype })\n  updateOnboardingStep('send_first_email')\n}\n\nasync function submitComment() {\n  if (commentEmpty.value) return\n  showCommentBox.value = false\n  await sendComment()\n  newComment.value = ''\n  attachments.value = []\n  reload.value = true\n  emit('scroll')\n  capture('comment_sent', { doctype: props.doctype })\n  updateOnboardingStep('add_first_comment')\n}\n\nfunction toggleEmailBox() {\n  if (showCommentBox.value) {\n    showCommentBox.value = false\n  }\n  showEmailBox.value = !showEmailBox.value\n}\n\nfunction toggleCommentBox() {\n  if (showEmailBox.value) {\n    showEmailBox.value = false\n  }\n  showCommentBox.value = !showCommentBox.value\n}\n\ndefineExpose({\n  show: showEmailBox,\n  showComment: showCommentBox,\n  editor: newEmailEditor,\n})\n</script>\n","<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{ title: __('WhatsApp Templates'), size: '4xl' }\"\n  >\n    <template #body-content>\n      <TextInput\n        ref=\"searchInput\"\n        v-model=\"search\"\n        type=\"text\"\n        :placeholder=\"__('Welcome Message')\"\n      >\n        <template #prefix>\n          <FeatherIcon name=\"search\" class=\"h-4 w-4 text-ink-gray-4\" />\n        </template>\n      </TextInput>\n      <div\n        v-if=\"filteredTemplates.length\"\n        class=\"mt-2 grid max-h-[560px] grid-cols-1 gap-2 overflow-y-auto sm:grid-cols-3\"\n      >\n        <div\n          v-for=\"template in filteredTemplates\"\n          :key=\"template.name\"\n          class=\"flex h-56 cursor-pointer flex-col gap-2 rounded-lg border p-3 hover:bg-surface-gray-2\"\n          @click=\"emit('send', template.name)\"\n        >\n          <div class=\"border-b pb-2 text-base font-semibold\">\n            {{ template.name }}\n          </div>\n          <TextEditor\n            v-if=\"template.template\"\n            :content=\"template.template\"\n            :editable=\"false\"\n            editor-class=\"!prose-sm max-w-none !text-sm text-ink-gray-5 focus:outline-none\"\n            class=\"flex-1 overflow-hidden\"\n          />\n        </div>\n      </div>\n      <div v-else class=\"mt-2\">\n        <div class=\"flex h-56 flex-col items-center justify-center\">\n          <div class=\"text-lg text-ink-gray-4\">\n            {{ __('No templates found') }}\n          </div>\n          <Button\n            :label=\"__('Create New')\"\n            class=\"mt-4\"\n            @click=\"newWhatsappTemplate\"\n          />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport { TextEditor, createListResource } from 'frappe-ui'\nimport { ref, computed, nextTick, watch, onMounted } from 'vue'\n\nconst props = defineProps({\n  doctype: String,\n})\n\nconst show = defineModel()\nconst searchInput = ref('')\n\nconst emit = defineEmits(['send'])\n\nconst search = ref('')\n\nconst templates = createListResource({\n  type: 'list',\n  doctype: 'WhatsApp Templates',\n  cache: ['whatsappTemplates'],\n  fields: ['name', 'template', 'footer'],\n  filters: { status: 'APPROVED', for_doctype: ['in', [props.doctype, '']] },\n  orderBy: 'modified desc',\n  pageLength: 99999,\n})\n\nonMounted(() => {\n  if (templates.data == null) {\n    templates.fetch()\n  }\n})\n\nconst filteredTemplates = computed(() => {\n  return (\n    templates.data?.filter((template) => {\n      return template.name.toLowerCase().includes(search.value.toLowerCase())\n    }) ?? []\n  )\n})\n\nfunction newWhatsappTemplate() {\n  show.value = false\n  window.open('/app/whatsapp-templates/new')\n}\n\nwatch(show, (value) => value && nextTick(() => searchInput.value?.el?.focus()))\n</script>\n","<template>\n  <TaskModal\n    v-model=\"showTaskModal\"\n    v-model:reloadTasks=\"activities\"\n    :task=\"task\"\n    :doctype=\"doctype\"\n    :doc=\"doc?.name\"\n    @after=\"redirect('tasks')\"\n  />\n  <NoteModal\n    v-model=\"showNoteModal\"\n    v-model:reloadNotes=\"activities\"\n    :note=\"note\"\n    :doctype=\"doctype\"\n    :doc=\"doc?.name\"\n    @after=\"redirect('notes')\"\n  />\n  <CallLogModal\n    v-if=\"showCallLogModal\"\n    v-model=\"showCallLogModal\"\n    :data=\"callLog\"\n    :referenceDoc=\"referenceDoc\"\n    :options=\"{ afterInsert: () => activities.reload() }\"\n  />\n</template>\n<script setup>\nimport TaskModal from '@/components/Modals/TaskModal.vue'\nimport NoteModal from '@/components/Modals/NoteModal.vue'\nimport CallLogModal from '@/components/Modals/CallLogModal.vue'\nimport { call } from 'frappe-ui'\nimport { ref } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\n\nconst props = defineProps({\n  doctype: String,\n})\n\nconst activities = defineModel()\nconst doc = defineModel('doc')\n\n// Tasks\nconst showTaskModal = ref(false)\nconst task = ref({})\n\nfunction showTask(t) {\n  task.value = t || {\n    title: '',\n    description: '',\n    assigned_to: '',\n    due_date: '',\n    priority: 'Low',\n    status: 'Backlog',\n  }\n  showTaskModal.value = true\n}\n\nasync function deleteTask(name) {\n  await call('frappe.client.delete', {\n    doctype: 'CRM Task',\n    name,\n  })\n  activities.value.reload()\n}\n\nfunction updateTaskStatus(status, task) {\n  call('frappe.client.set_value', {\n    doctype: 'CRM Task',\n    name: task.name,\n    fieldname: 'status',\n    value: status,\n  }).then(() => {\n    activities.value.reload()\n  })\n}\n\n// Notes\nconst showNoteModal = ref(false)\nconst note = ref({})\n\nfunction showNote(n) {\n  note.value = n || {\n    title: '',\n    content: '',\n  }\n  showNoteModal.value = true\n}\n\n// Call Logs\nconst showCallLogModal = ref(false)\nconst callLog = ref({})\nconst referenceDoc = ref({})\n\nfunction createCallLog() {\n  let doctype = props.doctype\n  let docname = props.doc?.name\n  referenceDoc.value = { ...props.doc }\n  callLog.value = {\n    reference_doctype: doctype,\n    reference_docname: docname,\n  }\n  showCallLogModal.value = true\n}\n\n// common\nconst route = useRoute()\nconst router = useRouter()\n\nfunction redirect(tabName) {\n  if (route.name == 'Lead' || route.name == 'Deal') {\n    let hash = '#' + tabName\n    if (route.hash != hash) {\n      router.push({ ...route, hash })\n    }\n  }\n}\n\ndefineExpose({\n  showTask,\n  deleteTask,\n  updateTaskStatus,\n  showNote,\n  createCallLog,\n})\n</script>\n","<template>\n  <div v-if=\"showWebLink\">\n    <TextInput v-model=\"webLink\" placeholder=\"https://example.com\" />\n  </div>\n  <div v-else-if=\"showCamera\">\n    <video v-show=\"!cameraImage\" ref=\"video\" class=\"rounded\" autoplay></video>\n    <canvas\n      v-show=\"cameraImage\"\n      ref=\"canvas\"\n      class=\"rounded\"\n      style=\"width: -webkit-fill-available\"\n    />\n  </div>\n  <div v-else>\n    <div\n      class=\"flex flex-col items-center justify-center gap-4 rounded-lg border border-dashed border-outline-gray-modals min-h-64 text-ink-gray-5\"\n      @dragover.prevent=\"dragover\"\n      @dragleave.prevent=\"dragleave\"\n      @drop.prevent=\"dropfiles\"\n      v-show=\"files.length === 0\"\n    >\n      <div v-if=\"!isDragging\" class=\"flex flex-col gap-3\">\n        <div class=\"text-center text-ink-gray-5\">\n          {{ __('Drag and drop files here or upload from') }}\n        </div>\n        <div\n          class=\"grid grid-flow-col justify-center gap-4 text-center text-base\"\n        >\n          <input\n            type=\"file\"\n            class=\"hidden\"\n            ref=\"fileInput\"\n            @change=\"onFileInput\"\n            :multiple=\"allowMultiple\"\n            :accept=\"(restrictions.allowedFileTypes || []).join(', ')\"\n          />\n          <div>\n            <Button icon=\"monitor\" size=\"md\" @click=\"browseFiles\" />\n            <div class=\"mt-1\">{{ __('Device') }}</div>\n          </div>\n          <div v-if=\"!disableFileBrowser\">\n            <Button icon=\"folder\" size=\"md\" @click=\"showFileBrowser = true\" />\n            <div class=\"mt-1\">{{ __('Library') }}</div>\n          </div>\n          <div v-if=\"allowWebLink\">\n            <Button icon=\"link\" size=\"md\" @click=\"showWebLink = true\" />\n            <div class=\"mt-1\">{{ __('Link') }}</div>\n          </div>\n          <div v-if=\"allowTakePhoto\">\n            <Button icon=\"camera\" size=\"md\" @click=\"startCamera\" />\n            <div class=\"mt-1\">{{ __('Camera') }}</div>\n          </div>\n        </div>\n      </div>\n      <div v-else>\n        {{ __('Drop files here') }}\n      </div>\n    </div>\n    <div v-show=\"files.length\" class=\"flex flex-col divide-y\">\n      <div\n        v-for=\"file in files\"\n        :key=\"file.name\"\n        class=\"flex items-center justify-between gap-2 py-3\"\n      >\n        <div class=\"flex items-center gap-4 truncate\">\n          <div\n            class=\"size-11 rounded overflow-hidden flex-shrink-0 flex justify-center items-center\"\n            :class=\"{ border: !file.type?.startsWith('image') }\"\n          >\n            <img\n              v-if=\"file.type?.startsWith('image')\"\n              class=\"size-full object-cover\"\n              :src=\"file.src\"\n              :alt=\"file.name\"\n            />\n            <component v-else class=\"size-4\" :is=\"fileIcon(file.type)\" />\n          </div>\n          <div class=\"flex flex-col gap-1 text-sm text-ink-gray-5 truncate\">\n            <div class=\"text-base text-ink-gray-8 truncate\">\n              {{ file.name }}\n            </div>\n            <div class=\"mb-1\">\n              {{ convertSize(file.fileObj.size) }}\n            </div>\n            <FormControl\n              v-model=\"file.private\"\n              type=\"checkbox\"\n              class=\"[&>label]:text-sm [&>label]:text-ink-gray-5\"\n              :label=\"__('Private')\"\n            />\n            <ErrorMessage\n              class=\"mt-2\"\n              v-if=\"file.errorMessage\"\n              :message=\"file.errorMessage\"\n            />\n          </div>\n        </div>\n        <div>\n          <CircularProgressBar\n            v-if=\"file.uploading || file.uploaded == file.total\"\n            :class=\"{\n              'text-ink-green-2': file.uploaded == file.total,\n            }\"\n            :theme=\"{\n              primary: '#22C55E',\n              secondary: 'lightgray',\n            }\"\n            :step=\"file.uploaded || 1\"\n            :totalSteps=\"file.total || 100\"\n            size=\"xs\"\n            variant=\"outline\"\n            :showPercentage=\"file.uploading\"\n          />\n          <Button\n            v-else\n            variant=\"ghost\"\n            icon=\"trash-2\"\n            @click=\"removeFile(file.name)\"\n          />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport FileTextIcon from '@/components/Icons/FileTextIcon.vue'\nimport FileAudioIcon from '@/components/Icons/FileAudioIcon.vue'\nimport FileVideoIcon from '@/components/Icons/FileVideoIcon.vue'\nimport { formatDate, convertSize } from '@/utils'\nimport {\n  FormControl,\n  CircularProgressBar,\n  createResource,\n  toast,\n} from 'frappe-ui'\nimport { ref, onMounted, watch, onUnmounted } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    required: true,\n  },\n  options: {\n    type: Object,\n    default: () => ({}),\n  },\n})\n\nconst files = defineModel()\n\nconst fileInput = ref(null)\nconst isDragging = ref(false)\nconst showWebLink = ref(false)\nconst showFileBrowser = ref(false)\nconst showCamera = ref(false)\n\nconst webLink = ref('')\nconst cameraImage = ref(null)\n\nconst allowMultiple = ref(props.options.allowMultiple == false ? false : true)\nconst disableFileBrowser = ref(props.options.disableFileBrowser || true)\nconst allowWebLink = ref(props.options.allowWebLink == false ? false : true)\nconst allowTakePhoto = ref(\n  props.options.allowTakePhoto || window.navigator.mediaDevices || false,\n)\nconst restrictions = ref(props.options.restrictions || {})\nconst makeAttachmentsPublic = ref(props.options.makeAttachmentsPublic || false)\n\nonMounted(() => {\n  createResource({\n    url: 'crm.api.get_file_uploader_defaults',\n    params: { doctype: props.doctype },\n    cache: ['file_uploader_defaults', props.doctype],\n    auto: true,\n    transform: (data) => {\n      restrictions.value = {\n        allowedFileTypes: data.allowed_file_types\n          ? data.allowed_file_types.split('\\n').map((ext) => `.${ext}`)\n          : [],\n        maxFileSize: data.max_file_size,\n        maxNumberOfFiles: data.max_number_of_files,\n      }\n      makeAttachmentsPublic.value = Boolean(data.make_attachments_public)\n    },\n  })\n})\n\nfunction dragover() {\n  isDragging.value = true\n}\nfunction dragleave() {\n  isDragging.value = false\n}\nfunction dropfiles(e) {\n  isDragging.value = false\n  addFiles(e.dataTransfer.files)\n}\n\nfunction browseFiles() {\n  fileInput.value.click()\n}\n\nfunction onFileInput(event) {\n  addFiles(fileInput.value.files)\n}\n\nconst video = ref(null)\nconst facingMode = ref('environment')\nconst stream = ref(null)\n\nasync function startCamera() {\n  showCamera.value = true\n\n  stream.value = await navigator.mediaDevices.getUserMedia({\n    video: {\n      facingMode: facingMode.value,\n    },\n    audio: false,\n  })\n  video.value.srcObject = stream.value\n}\n\nfunction stopStream() {\n  stream.value?.getTracks()?.forEach((track) => track.stop())\n  showCamera.value = false\n  cameraImage.value = null\n}\n\nfunction switchCamera() {\n  facingMode.value = facingMode.value === 'environment' ? 'user' : 'environment'\n  stopStream()\n  startCamera()\n}\n\nconst canvas = ref(null)\n\nfunction captureImage() {\n  const width = video.value.videoWidth\n  const height = video.value.videoHeight\n\n  canvas.value.width = width\n  canvas.value.height = height\n\n  canvas.value.getContext('2d').drawImage(video.value, 0, 0, width, height)\n\n  cameraImage.value = canvas.value.toDataURL('image/png')\n}\n\nfunction uploadViaCamera() {\n  const nowDatetime = formatDate(new Date(), 'YYYY_MM_DD_HH_mm_ss')\n  let filename = `capture_${nowDatetime}.png`\n  urlToFile(cameraImage.value, filename, 'image/png').then((file) => {\n    addFiles([file])\n    showCamera.value = false\n    cameraImage.value = null\n  })\n}\n\nfunction urlToFile(url, filename, mime_type) {\n  return fetch(url)\n    .then((res) => res.arrayBuffer())\n    .then((buffer) => new File([buffer], filename, { type: mime_type }))\n}\n\nfunction addFiles(fileArray) {\n  let _files = Array.from(fileArray)\n    .filter(checkRestrictions)\n    .map((file, i) => {\n      let isImage = file.type?.startsWith('image')\n      let sizeKb = file.size / 1024\n      return {\n        index: i,\n        src: isImage ? URL.createObjectURL(file) : null,\n        fileObj: file,\n        cropperFile: file,\n        cropBoxData: null,\n        type: file.type,\n        optimize: sizeKb > 200 && isImage && !file.type?.includes('svg'),\n        name: file.name,\n        doc: null,\n        progress: 0,\n        total: 0,\n        failed: false,\n        requestSucceeded: false,\n        errorMessage: null,\n        uploading: false,\n        private: !makeAttachmentsPublic.value,\n      }\n    })\n\n  // pop extra files as per FileUploader.restrictions.maxNumberOfFiles\n  let maxNumberOfFiles = restrictions.value.maxNumberOfFiles\n  if (maxNumberOfFiles && _files.length > maxNumberOfFiles) {\n    _files.slice(maxNumberOfFiles).forEach((file) => {\n      showMaxFilesNumberWarning(file, maxNumberOfFiles)\n    })\n\n    _files = _files.slice(0, maxNumberOfFiles)\n  }\n\n  files.value = files.value.concat(_files)\n}\n\nfunction checkRestrictions(file) {\n  let { maxFileSize, allowedFileTypes = [] } = restrictions.value\n\n  let isCorrectType = true\n  let validFileSize = true\n\n  if (allowedFileTypes && allowedFileTypes.length) {\n    isCorrectType = allowedFileTypes.some((type) => {\n      // is this is a mime-type\n      if (type.includes('/')) {\n        if (!file.type) return false\n        return file.type.match(type)\n      }\n\n      // otherwise this is likely an extension\n      if (type[0] === '.') {\n        return file.name.toLowerCase().endsWith(type.toLowerCase())\n      }\n      return false\n    })\n  }\n\n  if (maxFileSize && file.size != null) {\n    validFileSize = file.size < maxFileSize\n  }\n\n  if (!isCorrectType) {\n    console.warn('File skipped because of invalid file type', file)\n    toast.warning(\n      __('File \"{0}\" was skipped because of invalid file type', [file.name]),\n    )\n  }\n  if (!validFileSize) {\n    console.warn('File skipped because of invalid file size', file.size, file)\n    toast.warning(\n      __('File \"{0}\" was skipped because size exceeds {1} MB', [\n        file.name,\n        maxFileSize / (1024 * 1024),\n      ]),\n    )\n  }\n\n  return isCorrectType && validFileSize\n}\n\nfunction showMaxFilesNumberWarning(file, maxNumberOfFiles) {\n  console.warn(\n    `File skipped because it exceeds the allowed specified limit of ${maxNumberOfFiles} uploads`,\n    file,\n  )\n  let message = __(\n    'File \"{0}\" was skipped because only {1} uploads are allowed',\n    [file.name, maxNumberOfFiles],\n  )\n  if (props.doctype) {\n    message = __(\n      'File \"{0}\" was skipped because only {1} uploads are allowed for DocType \"{2}\"',\n      [file.name, maxNumberOfFiles, props.doctype],\n    )\n  }\n\n  toast.warning(message)\n}\n\nfunction removeFile(name) {\n  files.value = files.value.filter((file) => file.name !== name)\n}\n\nfunction fileIcon(type) {\n  if (type?.startsWith('audio')) {\n    return FileAudioIcon\n  } else if (type?.startsWith('video')) {\n    return FileVideoIcon\n  }\n  return FileTextIcon\n}\n\nwatch(showCamera, (value) => {\n  if (!value) stopStream()\n})\n\nonUnmounted(() => stopStream())\n\ndefineExpose({\n  showFileBrowser,\n  showWebLink,\n  webLink,\n  showCamera,\n  cameraImage,\n  captureImage,\n  uploadViaCamera,\n  switchCamera,\n})\n</script>\n","interface UploadOptions {\n  fileObj?: File\n  private?: boolean\n  fileUrl?: string\n  folder?: string\n  doctype?: string\n  docname?: string\n  type?: string\n}\n\ntype EventListenerOption = 'start' | 'progress' | 'finish' | 'error'\n\ndeclare global {\n  interface Window {\n    csrf_token?: string\n  }\n}\n\nclass FilesUploadHandler {\n  listeners: { [event: string]: Function[] }\n  failed: boolean\n\n  constructor() {\n    this.listeners = {}\n    this.failed = false\n  }\n\n  on(event: EventListenerOption, handler: Function) {\n    this.listeners[event] = this.listeners[event] || []\n    this.listeners[event].push(handler)\n  }\n\n  trigger(event: string, data?: any) {\n    let handlers = this.listeners[event] || []\n    handlers.forEach((handler) => {\n      handler.call(this, data)\n    })\n  }\n\n  upload(file: File | null, options: UploadOptions): Promise<any> {\n    return new Promise((resolve, reject) => {\n      let xhr = new XMLHttpRequest()\n      xhr.upload.addEventListener('loadstart', () => {\n        this.trigger('start')\n      })\n      xhr.upload.addEventListener('progress', (e) => {\n        if (e.lengthComputable) {\n          this.trigger('progress', {\n            uploaded: e.loaded,\n            total: e.total,\n          })\n        }\n      })\n      xhr.upload.addEventListener('load', () => {\n        this.trigger('finish')\n      })\n      xhr.addEventListener('error', () => {\n        this.trigger('error')\n        reject()\n      })\n      xhr.onreadystatechange = () => {\n        if (xhr.readyState == XMLHttpRequest.DONE) {\n          let error: any = null\n          if (xhr.status === 200) {\n            let r: any = null\n            try {\n              r = JSON.parse(xhr.responseText)\n            } catch (e) {\n              r = xhr.responseText\n            }\n            let out = r.message || r\n            resolve(out)\n          } else if (xhr.status === 403) {\n            error = JSON.parse(xhr.responseText)\n          } else if (xhr.status === 413) {\n            this.failed = true\n            error = 'Size exceeds the maximum allowed file size.'\n          } else {\n            this.failed = true\n            try {\n              error = JSON.parse(xhr.responseText)\n            } catch (e) {\n              // pass\n            }\n          }\n          if (error && error.exc) {\n            console.error(JSON.parse(error.exc)[0])\n          }\n          reject(error)\n        }\n      }\n\n      xhr.open('POST', '/api/method/upload_file', true)\n      xhr.setRequestHeader('Accept', 'application/json')\n\n      if (window.csrf_token && window.csrf_token !== '{{ csrf_token }}') {\n        xhr.setRequestHeader('X-Frappe-CSRF-Token', window.csrf_token)\n      }\n\n      let formData = new FormData()\n\n      if (options.fileObj && file?.name) {\n        formData.append('file', options.fileObj, file.name)\n      }\n      formData.append('is_private', options.private || false ? '1' : '0')\n      formData.append('folder', options.folder || 'Home')\n\n      if (options.fileUrl) {\n        formData.append('file_url', options.fileUrl)\n      }\n\n      if (options.doctype) {\n        formData.append('doctype', options.doctype)\n      }\n\n      if (options.docname) {\n        formData.append('docname', options.docname)\n      }\n\n      if (options.type) {\n        formData.append('type', options.type)\n      }\n\n      xhr.send(formData)\n    })\n  }\n}\n\nexport default FilesUploadHandler\n","<template>\n  <Dialog\n    v-model=\"show\"\n    :options=\"{\n      title: __('Attach'),\n      size: 'xl',\n    }\"\n  >\n    <template #body-content>\n      <FilesUploaderArea\n        ref=\"filesUploaderArea\"\n        v-model=\"files\"\n        :doctype=\"doctype\"\n        :options=\"options\"\n      />\n    </template>\n    <template #actions>\n      <div class=\"flex justify-between\">\n        <div class=\"flex gap-2\">\n          <Button\n            v-if=\"files.length\"\n            variant=\"subtle\"\n            :label=\"__('Remove all')\"\n            :disabled=\"fileUploadStarted\"\n            @click=\"removeAllFiles\"\n          />\n          <Button\n            v-if=\"\n              filesUploaderArea?.showWebLink || filesUploaderArea?.showCamera\n            \"\n            :label=\"isMobileView ? __('Back') : __('Back to file upload')\"\n            iconLeft=\"arrow-left\"\n            @click=\"\n              () => {\n                filesUploaderArea.showWebLink = false\n                filesUploaderArea.showCamera = false\n                filesUploaderArea.webLink = null\n                filesUploaderArea.cameraImage = null\n              }\n            \"\n          />\n          <Button\n            v-if=\"\n              filesUploaderArea?.showCamera && !filesUploaderArea?.cameraImage\n            \"\n            :label=\"__('Switch camera')\"\n            @click=\"() => filesUploaderArea.switchCamera()\"\n          />\n          <Button\n            v-if=\"filesUploaderArea?.cameraImage\"\n            :label=\"__('Retake')\"\n            @click=\"filesUploaderArea.cameraImage = null\"\n          />\n        </div>\n        <div class=\"flex gap-2\">\n          <Button\n            v-if=\"isAllPrivate && files.length\"\n            variant=\"subtle\"\n            :label=\"__('Set all as public')\"\n            :disabled=\"fileUploadStarted\"\n            @click=\"setAllPublic\"\n          />\n          <Button\n            v-else-if=\"files.length\"\n            variant=\"subtle\"\n            :label=\"__('Set all as private')\"\n            :disabled=\"fileUploadStarted\"\n            @click=\"setAllPrivate\"\n          />\n          <Button\n            v-if=\"!filesUploaderArea?.showCamera\"\n            variant=\"solid\"\n            :label=\"__('Attach')\"\n            :loading=\"fileUploadStarted\"\n            :disabled=\"disableAttachButton\"\n            @click=\"attachFiles\"\n          />\n          <Button\n            v-if=\"\n              filesUploaderArea?.showCamera && filesUploaderArea?.cameraImage\n            \"\n            variant=\"solid\"\n            :label=\"__('Upload')\"\n            @click=\"() => filesUploaderArea.uploadViaCamera()\"\n          />\n          <Button\n            v-if=\"\n              filesUploaderArea?.showCamera && !filesUploaderArea?.cameraImage\n            \"\n            variant=\"solid\"\n            :label=\"__('Capture')\"\n            @click=\"() => filesUploaderArea.captureImage()\"\n          />\n        </div>\n      </div>\n    </template>\n  </Dialog>\n</template>\n\n<script setup>\nimport FilesUploaderArea from '@/components/FilesUploader/FilesUploaderArea.vue'\nimport FilesUploadHandler from './filesUploaderHandler'\nimport { isMobileView } from '@/composables/settings'\nimport { toast } from 'frappe-ui'\nimport { ref, computed } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    required: true,\n  },\n  docname: {\n    type: String,\n    required: true,\n  },\n  options: {\n    type: Object,\n    default: () => ({\n      folder: 'Home/Attachments',\n    }),\n  },\n})\n\nconst emit = defineEmits(['after'])\n\nconst show = defineModel()\n\nconst filesUploaderArea = ref(null)\nconst files = ref([])\n\nconst isAllPrivate = computed(() => files.value.every((a) => a.private))\n\nfunction setAllPrivate() {\n  files.value.forEach((file) => (file.private = true))\n}\n\nfunction setAllPublic() {\n  files.value.forEach((file) => (file.private = false))\n}\n\nfunction removeAllFiles() {\n  files.value = []\n}\n\nconst disableAttachButton = computed(() => {\n  if (filesUploaderArea.value?.showCamera) {\n    return !filesUploaderArea.value.cameraImage\n  }\n  if (filesUploaderArea.value?.showWebLink) {\n    return !filesUploaderArea.value.webLink\n  }\n  return !files.value.length\n})\n\nfunction attachFiles() {\n  if (filesUploaderArea.value.showWebLink) {\n    return uploadViaWebLink()\n  }\n  files.value.forEach((file, i) => attachFile(file, i))\n}\n\nfunction uploadViaWebLink() {\n  let fileUrl = filesUploaderArea.value.webLink\n  if (!fileUrl) {\n    toast.error(__('Please enter a valid URL'))\n    return\n  }\n  fileUrl = decodeURI(fileUrl)\n  show.value = false\n  return attachFile({\n    fileUrl,\n  })\n}\n\nconst uploader = ref(null)\nconst fileUploadStarted = ref(false)\n\nfunction attachFile(file, i) {\n  const args = {\n    fileObj: file.fileObj || {},\n    type: file.type,\n    private: file.private,\n    fileUrl: file.fileUrl,\n    folder: props.options.folder,\n    doctype: props.doctype,\n    docname: props.docname,\n  }\n\n  uploader.value = new FilesUploadHandler()\n\n  uploader.value.on('start', () => {\n    file.uploading = true\n    fileUploadStarted.value = true\n  })\n  uploader.value.on('progress', (data) => {\n    file.uploaded = data.uploaded\n    file.total = data.total\n  })\n  uploader.value.on('error', (error) => {\n    file.uploading = false\n    file.errorMessage = error || 'Error Uploading File'\n  })\n  uploader.value.on('finish', () => {\n    file.uploading = false\n  })\n\n  uploader.value\n    .upload(file, args || {})\n    .then(() => {\n      if (i === files.value.length - 1) {\n        files.value = []\n        show.value = false\n        fileUploadStarted.value = false\n        emit('after')\n      }\n    })\n    .catch((error) => {\n      file.uploading = false\n      let errorMessage = 'Error Uploading File'\n      if (error?._server_messages) {\n        errorMessage = JSON.parse(JSON.parse(error._server_messages)[0]).message\n      } else if (error?.exc) {\n        errorMessage = JSON.parse(error.exc)[0].split('\\n').slice(-2, -1)[0]\n      } else if (typeof error === 'string') {\n        errorMessage = error\n      }\n      file.errorMessage = errorMessage\n    })\n}\n</script>\n","<template>\n  <ActivityHeader\n    v-model=\"tabIndex\"\n    v-model:showWhatsappTemplates=\"showWhatsappTemplates\"\n    v-model:showFilesUploader=\"showFilesUploader\"\n    :tabs=\"tabs\"\n    :title=\"title\"\n    :doc=\"doc\"\n    :emailBox=\"emailBox\"\n    :whatsappBox=\"whatsappBox\"\n    :modalRef=\"modalRef\"\n  />\n  <FadedScrollableDiv\n    :maskHeight=\"30\"\n    class=\"flex flex-col flex-1 overflow-y-auto\"\n  >\n    <div\n      v-if=\"all_activities?.loading\"\n      class=\"flex flex-1 flex-col items-center justify-center gap-3 text-xl font-medium text-ink-gray-4\"\n    >\n      <LoadingIndicator class=\"h-6 w-6\" />\n      <span>{{ __('Loading...') }}</span>\n    </div>\n    <div\n      v-else-if=\"\n        activities?.length ||\n        (whatsappMessages.data?.length && title == 'WhatsApp')\n      \"\n      class=\"activities\"\n    >\n      <div v-if=\"title == 'WhatsApp' && whatsappMessages.data?.length\">\n        <WhatsAppArea\n          class=\"px-3 sm:px-10\"\n          v-model=\"whatsappMessages\"\n          v-model:reply=\"replyMessage\"\n          :messages=\"whatsappMessages.data\"\n        />\n      </div>\n      <div\n        v-else-if=\"title == 'Notes'\"\n        class=\"grid grid-cols-1 gap-4 px-3 pb-3 sm:px-10 sm:pb-5 lg:grid-cols-2 xl:grid-cols-3\"\n      >\n        <div v-for=\"note in activities\" @click=\"modalRef.showNote(note)\">\n          <NoteArea :note=\"note\" v-model=\"all_activities\" />\n        </div>\n      </div>\n      <div v-else-if=\"title == 'Comments'\" class=\"pb-5\">\n        <div v-for=\"(comment, i) in activities\">\n          <div\n            class=\"activity grid grid-cols-[30px_minmax(auto,_1fr)] gap-2 px-3 sm:gap-4 sm:px-10\"\n          >\n            <div\n              class=\"z-0 relative flex justify-center before:absolute before:left-[50%] before:-z-[1] before:top-0 before:border-l before:border-outline-gray-modals\"\n              :class=\"\n                i != activities.length - 1 ? 'before:h-full' : 'before:h-4'\n              \"\n            >\n              <div\n                class=\"flex h-8 w-7 items-center justify-center bg-surface-white\"\n              >\n                <CommentIcon class=\"text-ink-gray-8\" />\n              </div>\n            </div>\n            <CommentArea class=\"mb-4\" :activity=\"comment\" />\n          </div>\n        </div>\n      </div>\n      <div v-else-if=\"title == 'Tasks'\" class=\"px-3 pb-3 sm:px-10 sm:pb-5\">\n        <TaskArea :modalRef=\"modalRef\" :tasks=\"activities\" :doctype=\"doctype\" />\n      </div>\n      <div v-else-if=\"title == 'Calls'\" class=\"activity\">\n        <div v-for=\"(call, i) in activities\">\n          <div\n            class=\"activity grid grid-cols-[30px_minmax(auto,_1fr)] gap-4 px-3 sm:px-10\"\n          >\n            <div\n              class=\"z-0 relative flex justify-center before:absolute before:left-[50%] before:-z-[1] before:top-0 before:border-l before:border-outline-gray-modals\"\n              :class=\"\n                i != activities.length - 1 ? 'before:h-full' : 'before:h-4'\n              \"\n            >\n              <div\n                class=\"flex h-8 w-7 items-center justify-center bg-surface-white text-ink-gray-8\"\n              >\n                <MissedCallIcon\n                  v-if=\"call.status == 'No Answer'\"\n                  class=\"text-ink-red-4\"\n                />\n                <DeclinedCallIcon v-else-if=\"call.status == 'Busy'\" />\n                <component\n                  v-else\n                  :is=\"\n                    call.type == 'Incoming' ? InboundCallIcon : OutboundCallIcon\n                  \"\n                />\n              </div>\n            </div>\n            <CallArea class=\"mb-4\" :activity=\"call\" />\n          </div>\n        </div>\n      </div>\n      <div\n        v-else-if=\"title == 'Attachments'\"\n        class=\"px-3 pb-3 sm:px-10 sm:pb-5\"\n      >\n        <AttachmentArea\n          :attachments=\"activities\"\n          @reload=\"all_activities.reload() && scroll()\"\n        />\n      </div>\n      <div\n        v-else\n        v-for=\"(activity, i) in activities\"\n        class=\"activity px-3 sm:px-10\"\n        :class=\"\n          ['Activity', 'Emails'].includes(title)\n            ? 'grid grid-cols-[30px_minmax(auto,_1fr)] gap-2 sm:gap-4'\n            : ''\n        \"\n      >\n        <div\n          v-if=\"['Activity', 'Emails'].includes(title)\"\n          class=\"z-0 relative flex justify-center before:absolute before:left-[50%] before:-z-[1] before:top-0 before:border-l before:border-outline-gray-modals\"\n          :class=\"[i != activities.length - 1 ? 'before:h-full' : 'before:h-4']\"\n        >\n          <div\n            class=\"flex h-7 w-7 items-center justify-center bg-surface-white\"\n            :class=\"{\n              'mt-2.5': ['communication'].includes(activity.activity_type),\n              'bg-surface-white': ['added', 'removed', 'changed'].includes(\n                activity.activity_type,\n              ),\n              'h-8': [\n                'comment',\n                'communication',\n                'incoming_call',\n                'outgoing_call',\n              ].includes(activity.activity_type),\n            }\"\n          >\n            <UserAvatar\n              v-if=\"activity.activity_type == 'communication'\"\n              :user=\"activity.data.sender\"\n              size=\"md\"\n            />\n            <MissedCallIcon\n              v-else-if=\"\n                ['incoming_call', 'outgoing_call'].includes(\n                  activity.activity_type,\n                ) && activity.status == 'No Answer'\n              \"\n              class=\"text-ink-red-4\"\n            />\n            <DeclinedCallIcon\n              v-else-if=\"\n                ['incoming_call', 'outgoing_call'].includes(\n                  activity.activity_type,\n                ) && activity.status == 'Busy'\n              \"\n            />\n            <component\n              v-else\n              :is=\"activity.icon\"\n              :class=\"\n                ['added', 'removed', 'changed'].includes(activity.activity_type)\n                  ? 'text-ink-gray-4'\n                  : 'text-ink-gray-8'\n              \"\n            />\n          </div>\n        </div>\n        <div\n          v-if=\"activity.activity_type == 'communication'\"\n          class=\"pb-5 mt-px\"\n        >\n          <EmailArea :activity=\"activity\" :emailBox=\"emailBox\" />\n        </div>\n        <div\n          class=\"mb-4\"\n          :id=\"activity.name\"\n          v-else-if=\"activity.activity_type == 'comment'\"\n        >\n          <CommentArea :activity=\"activity\" />\n        </div>\n        <div\n          class=\"mb-4 flex flex-col gap-2 py-1.5\"\n          :id=\"activity.name\"\n          v-else-if=\"activity.activity_type == 'attachment_log'\"\n        >\n          <div class=\"flex items-center justify-stretch gap-2 text-base\">\n            <div\n              class=\"inline-flex items-center flex-wrap gap-1.5 text-ink-gray-8 font-medium\"\n            >\n              <span class=\"font-medium\">{{ activity.owner_name }}</span>\n              <span class=\"text-ink-gray-5\">{{ __(activity.data.type) }}</span>\n              <a\n                v-if=\"activity.data.file_url\"\n                :href=\"activity.data.file_url\"\n                target=\"_blank\"\n              >\n                <span>{{ activity.data.file_name }}</span>\n              </a>\n              <span v-else>{{ activity.data.file_name }}</span>\n              <FeatherIcon\n                v-if=\"activity.data.is_private\"\n                name=\"lock\"\n                class=\"size-3\"\n              />\n            </div>\n            <div class=\"ml-auto whitespace-nowrap\">\n              <Tooltip :text=\"formatDate(activity.creation)\">\n                <div class=\"text-sm text-ink-gray-5\">\n                  {{ __(timeAgo(activity.creation)) }}\n                </div>\n              </Tooltip>\n            </div>\n          </div>\n        </div>\n        <div\n          v-else-if=\"\n            activity.activity_type == 'incoming_call' ||\n            activity.activity_type == 'outgoing_call'\n          \"\n          class=\"mb-4\"\n        >\n          <CallArea :activity=\"activity\" />\n        </div>\n        <div v-else class=\"mb-4 flex flex-col gap-2 py-1.5\">\n          <div class=\"flex items-center justify-stretch gap-2 text-base\">\n            <div\n              v-if=\"activity.other_versions\"\n              class=\"inline-flex flex-wrap gap-1.5 text-ink-gray-8 font-medium\"\n            >\n              <span>{{ activity.show_others ? __('Hide') : __('Show') }}</span>\n              <span> +{{ activity.other_versions.length + 1 }} </span>\n              <span>{{ __('changes from') }}</span>\n              <span>{{ activity.owner_name }}</span>\n              <Button\n                class=\"!size-4\"\n                variant=\"ghost\"\n                :icon=\"SelectIcon\"\n                @click=\"activity.show_others = !activity.show_others\"\n              />\n            </div>\n            <div\n              v-else\n              class=\"inline-flex items-center flex-wrap gap-1 text-ink-gray-5\"\n            >\n              <span class=\"font-medium text-ink-gray-8\">\n                {{ activity.owner_name }}\n              </span>\n              <span v-if=\"activity.type\">{{ __(activity.type) }}</span>\n              <span\n                v-if=\"activity.data?.field_label\"\n                class=\"max-w-xs truncate font-medium text-ink-gray-8\"\n              >\n                {{ __(activity.data.field_label) }}\n              </span>\n              <span v-if=\"activity.value\">{{ __(activity.value) }}</span>\n              <span\n                v-if=\"activity.data?.old_value\"\n                class=\"max-w-xs font-medium text-ink-gray-8\"\n              >\n                <div\n                  class=\"flex items-center gap-1\"\n                  v-if=\"activity.options == 'User'\"\n                >\n                  <UserAvatar :user=\"activity.data.old_value\" size=\"xs\" />\n                  {{ getUser(activity.data.old_value).full_name }}\n                </div>\n                <div class=\"truncate\" v-else>\n                  {{ activity.data.old_value }}\n                </div>\n              </span>\n              <span v-if=\"activity.to\">{{ __('to') }}</span>\n              <span\n                v-if=\"activity.data?.value\"\n                class=\"max-w-xs font-medium text-ink-gray-8\"\n              >\n                <div\n                  class=\"flex items-center gap-1\"\n                  v-if=\"activity.options == 'User'\"\n                >\n                  <UserAvatar :user=\"activity.data.value\" size=\"xs\" />\n                  {{ getUser(activity.data.value).full_name }}\n                </div>\n                <div class=\"truncate\" v-else>\n                  {{ activity.data.value }}\n                </div>\n              </span>\n            </div>\n\n            <div class=\"ml-auto whitespace-nowrap\">\n              <Tooltip :text=\"formatDate(activity.creation)\">\n                <div class=\"text-sm text-ink-gray-5\">\n                  {{ __(timeAgo(activity.creation)) }}\n                </div>\n              </Tooltip>\n            </div>\n          </div>\n          <div\n            v-if=\"activity.other_versions && activity.show_others\"\n            class=\"flex flex-col gap-0.5\"\n          >\n            <div\n              v-for=\"activity in [activity, ...activity.other_versions]\"\n              class=\"flex items-start justify-stretch gap-2 py-1.5 text-base\"\n            >\n              <div class=\"inline-flex flex-wrap gap-1 text-ink-gray-5\">\n                <span\n                  v-if=\"activity.data?.field_label\"\n                  class=\"max-w-xs truncate text-ink-gray-5\"\n                >\n                  {{ __(activity.data.field_label) }}\n                </span>\n                <FeatherIcon\n                  name=\"arrow-right\"\n                  class=\"mx-1 h-4 w-4 text-ink-gray-5\"\n                />\n                <span v-if=\"activity.type\">\n                  {{ startCase(__(activity.type)) }}\n                </span>\n                <span\n                  v-if=\"activity.data?.old_value\"\n                  class=\"max-w-xs font-medium text-ink-gray-8\"\n                >\n                  <div\n                    class=\"flex items-center gap-1\"\n                    v-if=\"activity.options == 'User'\"\n                  >\n                    <UserAvatar :user=\"activity.data.old_value\" size=\"xs\" />\n                    {{ getUser(activity.data.old_value).full_name }}\n                  </div>\n                  <div class=\"truncate\" v-else>\n                    {{ activity.data.old_value }}\n                  </div>\n                </span>\n                <span v-if=\"activity.to\">{{ __('to') }}</span>\n                <span\n                  v-if=\"activity.data?.value\"\n                  class=\"max-w-xs font-medium text-ink-gray-8\"\n                >\n                  <div\n                    class=\"flex items-center gap-1\"\n                    v-if=\"activity.options == 'User'\"\n                  >\n                    <UserAvatar :user=\"activity.data.value\" size=\"xs\" />\n                    {{ getUser(activity.data.value).full_name }}\n                  </div>\n                  <div class=\"truncate\" v-else>\n                    {{ activity.data.value }}\n                  </div>\n                </span>\n              </div>\n\n              <div class=\"ml-auto whitespace-nowrap\">\n                <Tooltip :text=\"formatDate(activity.creation)\">\n                  <div class=\"text-sm text-ink-gray-5\">\n                    {{ __(timeAgo(activity.creation)) }}\n                  </div>\n                </Tooltip>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div v-else-if=\"title == 'Data'\" class=\"h-full flex flex-col px-3 sm:px-10\">\n      <DataFields\n        :doctype=\"doctype\"\n        :docname=\"docname\"\n        @beforeSave=\"(data) => emit('beforeSave', data)\"\n        @afterSave=\"(data) => emit('afterSave', data)\"\n      />\n    </div>\n    <div\n      v-else\n      class=\"flex flex-1 flex-col items-center justify-center gap-3 text-xl font-medium text-ink-gray-4\"\n    >\n      <component :is=\"emptyTextIcon\" class=\"h-10 w-10\" />\n      <span>{{ __(emptyText) }}</span>\n      <MultiActionButton v-if=\"title == 'Calls'\" :options=\"callActions\" />\n      <Button\n        v-else-if=\"title == 'Notes'\"\n        :label=\"__('Create Note')\"\n        @click=\"modalRef.showNote()\"\n      />\n      <Button\n        v-else-if=\"title == 'Emails'\"\n        :label=\"__('New Email')\"\n        @click=\"emailBox.show = true\"\n      />\n      <Button\n        v-else-if=\"title == 'Comments'\"\n        :label=\"__('New Comment')\"\n        @click=\"emailBox.showComment = true\"\n      />\n      <Button\n        v-else-if=\"title == 'Tasks'\"\n        :label=\"__('Create Task')\"\n        @click=\"modalRef.showTask()\"\n      />\n      <Button\n        v-else-if=\"title == 'Attachments'\"\n        :label=\"__('Upload Attachment')\"\n        @click=\"showFilesUploader = true\"\n      />\n    </div>\n  </FadedScrollableDiv>\n  <div>\n    <CommunicationArea\n      ref=\"emailBox\"\n      v-if=\"['Emails', 'Comments', 'Activity'].includes(title)\"\n      v-model=\"doc\"\n      v-model:reload=\"reload_email\"\n      :doctype=\"doctype\"\n      @scroll=\"scroll\"\n    />\n    <WhatsAppBox\n      ref=\"whatsappBox\"\n      v-if=\"title == 'WhatsApp'\"\n      v-model=\"doc\"\n      v-model:reply=\"replyMessage\"\n      v-model:whatsapp=\"whatsappMessages\"\n      :doctype=\"doctype\"\n      @scroll=\"scroll\"\n    />\n  </div>\n  <WhatsappTemplateSelectorModal\n    v-if=\"whatsappEnabled\"\n    v-model=\"showWhatsappTemplates\"\n    :doctype=\"doctype\"\n    @send=\"(t) => sendTemplate(t)\"\n  />\n  <AllModals\n    ref=\"modalRef\"\n    v-model=\"all_activities\"\n    :doctype=\"doctype\"\n    :doc=\"doc\"\n  />\n  <FilesUploader\n    v-model=\"showFilesUploader\"\n    :doctype=\"doctype\"\n    :docname=\"docname\"\n    @after=\"\n      () => {\n        all_activities.reload()\n        changeTabTo('attachments')\n      }\n    \"\n  />\n</template>\n<script setup>\nimport ActivityHeader from '@/components/Activities/ActivityHeader.vue'\nimport EmailArea from '@/components/Activities/EmailArea.vue'\nimport CommentArea from '@/components/Activities/CommentArea.vue'\nimport CallArea from '@/components/Activities/CallArea.vue'\nimport NoteArea from '@/components/Activities/NoteArea.vue'\nimport TaskArea from '@/components/Activities/TaskArea.vue'\nimport AttachmentArea from '@/components/Activities/AttachmentArea.vue'\nimport DataFields from '@/components/Activities/DataFields.vue'\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport ActivityIcon from '@/components/Icons/ActivityIcon.vue'\nimport Email2Icon from '@/components/Icons/Email2Icon.vue'\nimport DetailsIcon from '@/components/Icons/DetailsIcon.vue'\nimport PhoneIcon from '@/components/Icons/PhoneIcon.vue'\nimport NoteIcon from '@/components/Icons/NoteIcon.vue'\nimport TaskIcon from '@/components/Icons/TaskIcon.vue'\nimport AttachmentIcon from '@/components/Icons/AttachmentIcon.vue'\nimport WhatsAppIcon from '@/components/Icons/WhatsAppIcon.vue'\nimport WhatsAppArea from '@/components/Activities/WhatsAppArea.vue'\nimport WhatsAppBox from '@/components/Activities/WhatsAppBox.vue'\nimport LoadingIndicator from '@/components/Icons/LoadingIndicator.vue'\nimport MultiActionButton from '@/components/MultiActionButton.vue'\nimport LeadsIcon from '@/components/Icons/LeadsIcon.vue'\nimport DealsIcon from '@/components/Icons/DealsIcon.vue'\nimport DotIcon from '@/components/Icons/DotIcon.vue'\nimport CommentIcon from '@/components/Icons/CommentIcon.vue'\nimport SelectIcon from '@/components/Icons/SelectIcon.vue'\nimport MissedCallIcon from '@/components/Icons/MissedCallIcon.vue'\nimport DeclinedCallIcon from '@/components/Icons/DeclinedCallIcon.vue'\nimport InboundCallIcon from '@/components/Icons/InboundCallIcon.vue'\nimport OutboundCallIcon from '@/components/Icons/OutboundCallIcon.vue'\nimport FadedScrollableDiv from '@/components/FadedScrollableDiv.vue'\nimport CommunicationArea from '@/components/CommunicationArea.vue'\nimport WhatsappTemplateSelectorModal from '@/components/Modals/WhatsappTemplateSelectorModal.vue'\nimport AllModals from '@/components/Activities/AllModals.vue'\nimport FilesUploader from '@/components/FilesUploader/FilesUploader.vue'\nimport { timeAgo, formatDate, startCase } from '@/utils'\nimport { globalStore } from '@/stores/global'\nimport { usersStore } from '@/stores/users'\nimport { whatsappEnabled, callEnabled } from '@/composables/settings'\nimport { useDocument } from '@/data/document'\nimport { capture } from '@/telemetry'\nimport { Button, Tooltip, createResource } from 'frappe-ui'\nimport { useElementVisibility } from '@vueuse/core'\nimport {\n  ref,\n  computed,\n  h,\n  markRaw,\n  watch,\n  nextTick,\n  onMounted,\n  onBeforeUnmount,\n} from 'vue'\nimport { useRoute } from 'vue-router'\n\nconst { makeCall, $socket } = globalStore()\nconst { getUser } = usersStore()\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    default: 'CRM Lead',\n  },\n  docname: {\n    type: String,\n    default: '',\n  },\n  tabs: {\n    type: Array,\n    default: () => [],\n  },\n})\n\nconst emit = defineEmits(['beforeSave', 'afterSave'])\n\nconst route = useRoute()\n\nconst reload = defineModel('reload')\nconst tabIndex = defineModel('tabIndex')\n\nconst { document: _document } = useDocument(props.doctype, props.docname)\n\nconst doc = computed(() => _document.doc || {})\n\nconst reload_email = ref(false)\nconst modalRef = ref(null)\nconst showFilesUploader = ref(false)\n\nconst title = computed(() => props.tabs?.[tabIndex.value]?.name || 'Activity')\n\nconst changeTabTo = (tabName) => {\n  const tabNames = props.tabs?.map((tab) => tab.name?.toLowerCase())\n  const index = tabNames?.indexOf(tabName)\n  if (index == -1) return\n  tabIndex.value = index\n}\n\nconst all_activities = createResource({\n  url: 'crm.api.activities.get_activities',\n  params: { name: props.docname },\n  cache: ['activity', props.docname],\n  auto: true,\n  transform: ([versions, calls, notes, tasks, attachments]) => {\n    return { versions, calls, notes, tasks, attachments }\n  },\n  onSuccess: () => nextTick(() => scroll()),\n})\n\nconst showWhatsappTemplates = ref(false)\n\nconst whatsappMessages = createResource({\n  url: 'crm.api.whatsapp.get_whatsapp_messages',\n  cache: ['whatsapp_messages', props.docname],\n  params: {\n    reference_doctype: props.doctype,\n    reference_name: props.docname,\n  },\n  auto: whatsappEnabled.value,\n  transform: (data) => sortByCreation(data),\n  onSuccess: () => nextTick(() => scroll()),\n})\n\nonBeforeUnmount(() => {\n  $socket.off('whatsapp_message')\n})\n\nonMounted(() => {\n  $socket.on('whatsapp_message', (data) => {\n    if (\n      data.reference_doctype === props.doctype &&\n      data.reference_name === props.docname\n    ) {\n      whatsappMessages.reload()\n    }\n  })\n\n  nextTick(() => {\n    const hash = route.hash.slice(1) || null\n    let tabNames = props.tabs?.map((tab) => tab.name)\n    if (!tabNames?.includes(hash)) {\n      scroll(hash)\n    }\n  })\n})\n\nfunction sendTemplate(template) {\n  showWhatsappTemplates.value = false\n  capture('send_whatsapp_template', { doctype: props.doctype })\n  createResource({\n    url: 'crm.api.whatsapp.send_whatsapp_template',\n    params: {\n      reference_doctype: props.doctype,\n      reference_name: props.docname,\n      to: doc.value.mobile_no,\n      template,\n    },\n    auto: true,\n  })\n}\n\nconst replyMessage = ref({})\n\nfunction get_activities() {\n  if (!all_activities.data?.versions) return []\n  if (!all_activities.data?.calls.length)\n    return all_activities.data.versions || []\n  return [...all_activities.data.versions, ...all_activities.data.calls]\n}\n\nconst activities = computed(() => {\n  let _activities = []\n  if (title.value == 'Activity') {\n    _activities = get_activities()\n  } else if (title.value == 'Emails') {\n    if (!all_activities.data?.versions) return []\n    _activities = all_activities.data.versions.filter(\n      (activity) => activity.activity_type === 'communication',\n    )\n  } else if (title.value == 'Comments') {\n    if (!all_activities.data?.versions) return []\n    _activities = all_activities.data.versions.filter(\n      (activity) => activity.activity_type === 'comment',\n    )\n  } else if (title.value == 'Calls') {\n    if (!all_activities.data?.calls) return []\n    return sortByCreation(all_activities.data.calls)\n  } else if (title.value == 'Tasks') {\n    if (!all_activities.data?.tasks) return []\n    return sortByModified(all_activities.data.tasks)\n  } else if (title.value == 'Notes') {\n    if (!all_activities.data?.notes) return []\n    return sortByModified(all_activities.data.notes)\n  } else if (title.value == 'Attachments') {\n    if (!all_activities.data?.attachments) return []\n    return sortByModified(all_activities.data.attachments)\n  }\n\n  _activities.forEach((activity) => {\n    activity.icon = timelineIcon(activity.activity_type, activity.is_lead)\n\n    if (\n      activity.activity_type == 'incoming_call' ||\n      activity.activity_type == 'outgoing_call' ||\n      activity.activity_type == 'communication'\n    )\n      return\n\n    update_activities_details(activity)\n\n    if (activity.other_versions) {\n      activity.show_others = false\n      activity.other_versions.forEach((other_version) => {\n        update_activities_details(other_version)\n      })\n    }\n  })\n  return sortByCreation(_activities)\n})\n\nfunction sortByCreation(list) {\n  return list.sort((a, b) => new Date(a.creation) - new Date(b.creation))\n}\nfunction sortByModified(list) {\n  return list.sort((b, a) => new Date(a.modified) - new Date(b.modified))\n}\n\nfunction update_activities_details(activity) {\n  activity.owner_name = getUser(activity.owner).full_name\n  activity.type = ''\n  activity.value = ''\n  activity.to = ''\n\n  if (activity.activity_type == 'creation') {\n    activity.type = activity.data\n  } else if (activity.activity_type == 'added') {\n    activity.type = 'added'\n    activity.value = 'as'\n  } else if (activity.activity_type == 'removed') {\n    activity.type = 'removed'\n    activity.value = 'value'\n  } else if (activity.activity_type == 'changed') {\n    activity.type = 'changed'\n    activity.value = 'from'\n    activity.to = 'to'\n  }\n}\n\nconst emptyText = computed(() => {\n  let text = 'No Activities'\n  if (title.value == 'Emails') {\n    text = 'No Email Communications'\n  } else if (title.value == 'Comments') {\n    text = 'No Comments'\n  } else if (title.value == 'Data') {\n    text = 'No Data'\n  } else if (title.value == 'Calls') {\n    text = 'No Call Logs'\n  } else if (title.value == 'Notes') {\n    text = 'No Notes'\n  } else if (title.value == 'Tasks') {\n    text = 'No Tasks'\n  } else if (title.value == 'Attachments') {\n    text = 'No Attachments'\n  } else if (title.value == 'WhatsApp') {\n    text = 'No WhatsApp Messages'\n  }\n  return text\n})\n\nconst emptyTextIcon = computed(() => {\n  let icon = ActivityIcon\n  if (title.value == 'Emails') {\n    icon = Email2Icon\n  } else if (title.value == 'Comments') {\n    icon = CommentIcon\n  } else if (title.value == 'Data') {\n    icon = DetailsIcon\n  } else if (title.value == 'Calls') {\n    icon = PhoneIcon\n  } else if (title.value == 'Notes') {\n    icon = NoteIcon\n  } else if (title.value == 'Tasks') {\n    icon = TaskIcon\n  } else if (title.value == 'Attachments') {\n    icon = AttachmentIcon\n  } else if (title.value == 'WhatsApp') {\n    icon = WhatsAppIcon\n  }\n  return h(icon, { class: 'text-ink-gray-4' })\n})\n\nfunction timelineIcon(activity_type, is_lead) {\n  let icon\n  switch (activity_type) {\n    case 'creation':\n      icon = is_lead ? LeadsIcon : DealsIcon\n      break\n    case 'deal':\n      icon = DealsIcon\n      break\n    case 'comment':\n      icon = CommentIcon\n      break\n    case 'incoming_call':\n      icon = InboundCallIcon\n      break\n    case 'outgoing_call':\n      icon = OutboundCallIcon\n      break\n    case 'attachment_log':\n      icon = AttachmentIcon\n      break\n    default:\n      icon = DotIcon\n  }\n\n  return markRaw(icon)\n}\n\nconst emailBox = ref(null)\nconst whatsappBox = ref(null)\n\nwatch([reload, reload_email], ([reload_value, reload_email_value]) => {\n  if (reload_value || reload_email_value) {\n    all_activities.reload()\n    _document.reload()\n    reload.value = false\n    reload_email.value = false\n  }\n})\n\nfunction scroll(hash) {\n  if (['tasks', 'notes'].includes(route.hash?.slice(1))) return\n  setTimeout(() => {\n    let el\n    if (!hash) {\n      let e = document.getElementsByClassName('activity')\n      el = e[e.length - 1]\n    } else {\n      el = document.getElementById(hash)\n    }\n    if (el && !useElementVisibility(el).value) {\n      el.scrollIntoView({ behavior: 'smooth' })\n      el.focus()\n    }\n  }, 500)\n}\n\nconst callActions = computed(() => {\n  let actions = [\n    {\n      label: __('Log a Call'),\n      onClick: () => modalRef.value.createCallLog(),\n    },\n    {\n      label: __('Make a Call'),\n      onClick: () => makeCall(doc.value.mobile_no),\n      condition: () => callEnabled.value,\n    },\n  ]\n\n  return actions.filter((action) =>\n    action.condition ? action.condition() : true,\n  )\n})\n\ndefineExpose({ emailBox, all_activities, changeTabTo })\n</script>\n","<template>\n  <div\n    class=\"flex flex-col gap-2 my-2 w-[470px] rounded-lg bg-surface-modal shadow-2xl ring-1 ring-black p-3 ring-opacity-5 focus:outline-none\"\n  >\n    <div class=\"text-base text-ink-gray-5\">{{ __('Assign to') }}</div>\n    <Link\n      class=\"form-control\"\n      value=\"\"\n      doctype=\"User\"\n      @change=\"(option) => addValue(option) && ($refs.input.value = '')\"\n      :placeholder=\"__('John Doe')\"\n      :filters=\"{\n        name: ['in', users.data.crmUsers?.map((user) => user.name)],\n      }\"\n      :hideMe=\"true\"\n    >\n      <template #target=\"{ togglePopover }\">\n        <div\n          class=\"w-full min-h-12 flex flex-wrap items-center gap-1.5 p-1.5 pb-5 rounded-lg bg-surface-gray-2 cursor-text\"\n          @click.stop=\"togglePopover\"\n        >\n          <Tooltip\n            :text=\"assignee.name\"\n            v-for=\"assignee in assignees\"\n            :key=\"assignee.name\"\n            @click.stop\n          >\n            <div\n              class=\"flex items-center text-sm p-0.5 text-ink-gray-6 border border-outline-gray-1 bg-surface-modal rounded-full cursor-pointer\"\n              @click.stop\n            >\n              <UserAvatar :user=\"assignee.name\" size=\"sm\" />\n              <div class=\"ml-1\">{{ getUser(assignee.name).full_name }}</div>\n              <Button\n                variant=\"ghost\"\n                class=\"rounded-full !size-4 m-1\"\n                @click.stop=\"removeValue(assignee.name)\"\n              >\n                <template #icon>\n                  <FeatherIcon name=\"x\" class=\"h-3 w-3 text-ink-gray-6\" />\n                </template>\n              </Button>\n            </div>\n          </Tooltip>\n        </div>\n      </template>\n      <template #item-prefix=\"{ option }\">\n        <UserAvatar class=\"mr-2\" :user=\"option.value\" size=\"sm\" />\n      </template>\n      <template #item-label=\"{ option }\">\n        <Tooltip :text=\"option.value\">\n          <div class=\"cursor-pointer text-ink-gray-9\">\n            {{ getUser(option.value).full_name }}\n          </div>\n        </Tooltip>\n      </template>\n    </Link>\n    <div class=\"flex items-center justify-between gap-2\">\n      <div\n        class=\"text-base text-ink-gray-5 cursor-pointer select-none\"\n        @click=\"assignToMe = !assignToMe\"\n      >\n        {{ __('Assign to me') }}\n      </div>\n      <Switch v-model=\"assignToMe\" @click.stop />\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport UserAvatar from '@/components/UserAvatar.vue'\nimport Link from '@/components/Controls/Link.vue'\nimport { usersStore } from '@/stores/users'\nimport { capture } from '@/telemetry'\nimport { Tooltip, Switch, createResource } from 'frappe-ui'\nimport { ref, watch } from 'vue'\n\nconst props = defineProps({\n  doctype: {\n    type: String,\n    default: '',\n  },\n  docname: {\n    type: Object,\n    default: null,\n  },\n  open: {\n    type: Boolean,\n    default: false,\n  },\n  onUpdate: {\n    type: Function,\n    default: null,\n  },\n})\n\nconst emit = defineEmits(['reload'])\n\nconst assignees = defineModel()\nconst oldAssignees = ref([])\nconst assignToMe = ref(false)\n\nconst error = ref('')\n\nconst { users, getUser } = usersStore()\n\nconst removeValue = (value) => {\n  if (value === getUser('').name) {\n    assignToMe.value = false\n  }\n\n  assignees.value = assignees.value.filter(\n    (assignee) => assignee.name !== value,\n  )\n}\n\nconst addValue = (value) => {\n  if (value === getUser('').name) {\n    assignToMe.value = true\n  }\n\n  error.value = ''\n  let obj = {\n    name: value,\n    image: getUser(value).user_image,\n    label: getUser(value).full_name,\n  }\n  if (!assignees.value.find((assignee) => assignee.name === value)) {\n    assignees.value.push(obj)\n  }\n}\n\nwatch(assignToMe, (val) => {\n  let user = getUser('')\n  if (val) {\n    addValue(user.name)\n  } else {\n    removeValue(user.name)\n  }\n})\n\nwatch(\n  () => props.open,\n  (val) => {\n    if (val) {\n      oldAssignees.value = [...(assignees.value || [])]\n\n      assignToMe.value = assignees.value.some(\n        (assignee) => assignee.name === getUser('').name,\n      )\n    } else {\n      updateAssignees()\n    }\n  },\n  { immediate: true },\n)\n\nasync function updateAssignees() {\n  if (JSON.stringify(oldAssignees.value) === JSON.stringify(assignees.value))\n    return\n\n  const removedAssignees = oldAssignees.value\n    .filter(\n      (assignee) => !assignees.value.find((a) => a.name === assignee.name),\n    )\n    .map((assignee) => assignee.name)\n\n  const addedAssignees = assignees.value\n    .filter(\n      (assignee) => !oldAssignees.value.find((a) => a.name === assignee.name),\n    )\n    .map((assignee) => assignee.name)\n\n  if (props.onUpdate) {\n    props.onUpdate(\n      addedAssignees,\n      removedAssignees,\n      addAssignees,\n      removeAssignees,\n    )\n  } else {\n    if (removedAssignees.length) {\n      await removeAssignees.submit(removedAssignees)\n    }\n    if (addedAssignees.length) {\n      addAssignees.submit(addedAssignees)\n    }\n  }\n}\n\nconst addAssignees = createResource({\n  url: 'frappe.desk.form.assign_to.add',\n  makeParams: (addedAssignees) => ({\n    doctype: props.doctype,\n    name: props.docname,\n    assign_to: addedAssignees,\n  }),\n  onSuccess: () => {\n    capture('assign_to', { doctype: props.doctype })\n  },\n})\n\nconst removeAssignees = createResource({\n  url: 'crm.api.doc.remove_assignments',\n  makeParams: (removedAssignees) => ({\n    doctype: props.doctype,\n    name: props.docname,\n    assignees: removedAssignees,\n  }),\n})\n</script>\n","<template>\n  <Popover placement=\"bottom-end\">\n    <template #target=\"{ togglePopover }\">\n      <div class=\"flex items-center\" @click=\"togglePopover\">\n        <component\n          v-if=\"assignees?.length\"\n          :is=\"assignees?.length == 1 ? 'Button' : 'div'\"\n        >\n          <MultipleAvatar :avatars=\"assignees\" />\n        </component>\n        <Button v-else :label=\"__('Assign to')\" />\n      </div>\n    </template>\n    <template #body=\"{ isOpen }\">\n      <AssignToBody\n        v-show=\"isOpen\"\n        v-model=\"assignees\"\n        :docname=\"docname\"\n        :doctype=\"doctype\"\n        :open=\"isOpen\"\n        :onUpdate=\"ownerField && saveAssignees\"\n      />\n    </template>\n  </Popover>\n</template>\n<script setup>\nimport MultipleAvatar from '@/components/MultipleAvatar.vue'\nimport AssignToBody from '@/components/AssignToBody.vue'\nimport { useDocument } from '@/data/document'\nimport { toast, Popover } from 'frappe-ui'\nimport { computed } from 'vue'\n\nconst props = defineProps({\n  doctype: String,\n  docname: String,\n})\n\nconst { document } = useDocument(props.doctype, props.docname)\n\nconst assignees = defineModel()\n\nconst ownerField = computed(() => {\n  if (props.doctype === 'CRM Lead') {\n    return 'lead_owner'\n  } else if (props.doctype === 'CRM Deal') {\n    return 'deal_owner'\n  } else {\n    return null\n  }\n})\n\nasync function saveAssignees(\n  addedAssignees,\n  removedAssignees,\n  addAssignees,\n  removeAssignees,\n) {\n  removedAssignees.length && (await removeAssignees.submit(removedAssignees))\n  addedAssignees.length && (await addAssignees.submit(addedAssignees))\n\n  const nextAssignee = assignees.value.find(\n    (a) => a.name !== document.doc[ownerField.value],\n  )\n\n  let owner = ownerField.value.replace('_', ' ')\n\n  if (\n    document.doc[ownerField.value] &&\n    removedAssignees.includes(document.doc[ownerField.value])\n  ) {\n    document.doc[ownerField.value] = nextAssignee ? nextAssignee.name : ''\n    document.save.submit()\n\n    if (nextAssignee) {\n      toast.info(\n        __(\n          'Since you removed {0} from the assignee, the {0} has been changed to the next available assignee {1}.',\n          [owner, nextAssignee.label || nextAssignee.name],\n        ),\n      )\n    } else {\n      toast.info(\n        __(\n          'Since you removed {0} from the assignee, the {0} has also been removed.',\n          [owner],\n        ),\n      )\n    }\n  } else if (!document.doc[ownerField.value] && nextAssignee) {\n    document.doc[ownerField.value] = nextAssignee ? nextAssignee.name : ''\n    toast.info(\n      __('Since you added a new assignee, the {0} has been set to {1}.', [\n        owner,\n        nextAssignee.label || nextAssignee.name,\n      ]),\n    )\n  }\n}\n</script>\n","<template>\n  <div class=\"flex flex-col gap-1.5 border-b sm:px-6 py-3 px-4\">\n    <div\n      v-for=\"s in slaSection\"\n      :key=\"s.label\"\n      class=\"flex items-center gap-2 text-base leading-5\"\n    >\n      <div class=\"sm:w-[106px] w-36 text-sm text-ink-gray-5\">\n        {{ __(s.label) }}\n      </div>\n      <div class=\"grid min-h-[28px] items-center\">\n        <Tooltip v-if=\"s.tooltipText\" :text=\"__(s.tooltipText)\">\n          <div class=\"ml-2 cursor-pointer\">\n            <Badge\n              v-if=\"s.type == 'Badge'\"\n              class=\"-ml-1\"\n              :label=\"s.value\"\n              variant=\"subtle\"\n              :theme=\"s.color\"\n            />\n            <div v-else>{{ s.value }}</div>\n          </div>\n        </Tooltip>\n        <Dropdown v-if=\"s.type == 'Select'\" :options=\"s.options\">\n          <template #default=\"{ open }\">\n            <Button\n              class=\"form-control bg-surface-white hover:bg-surface-white\"\n              :label=\"s.value\"\n              :iconRight=\"open ? 'chevron-up' : 'chevron-down'\"\n            />\n          </template>\n        </Dropdown>\n      </div>\n    </div>\n  </div>\n</template>\n<script setup>\nimport { Dropdown, Tooltip } from 'frappe-ui'\nimport { timeAgo, formatDate, formatTime } from '@/utils'\nimport { statusesStore } from '@/stores/statuses'\nimport { capture } from '@/telemetry'\nimport { computed } from 'vue'\n\nconst data = defineModel()\nconst emit = defineEmits(['updateField'])\n\nconst { communicationStatuses } = statusesStore()\n\nlet slaSection = computed(() => {\n  let sections = []\n  let status = data.value.sla_status\n  let tooltipText = status\n  let color =\n    data.value.sla_status == 'Failed'\n      ? 'red'\n      : data.value.sla_status == 'Fulfilled'\n        ? 'green'\n        : 'orange'\n\n  if (status == 'First Response Due' || status == 'Rolling Response Due') {\n    status = timeAgo(data.value.response_by)\n    if (status == 'just now') {\n      status = 'In less than a minute'\n    }\n    tooltipText = formatDate(data.value.response_by)\n    if (new Date(data.value.response_by) < new Date()) {\n      color = 'red'\n      if (status == __('In less than a minute')) {\n        status = 'less than a minute ago'\n      }\n    }\n  } else if (['Fulfilled', 'Failed'].includes(status)) {\n    status = __(status) + ' in ' + formatTime(data.value.last_response_time)\n    tooltipText = formatDate(data.value.last_responded_on)\n  }\n\n  let responseType = 'First Response'\n\n  if (\n    Boolean(data.value.first_responded_on) &&\n    Boolean(data.value.last_responded_on) &&\n    (data.value.sla_status != 'Fulfilled' ||\n      data.value.first_responded_on != data.value.last_responded_on)\n  ) {\n    responseType = 'Rolling Response'\n  }\n\n  sections.push(\n    ...[\n      {\n        label: responseType,\n        type: 'Badge',\n        value: __(status),\n        tooltipText: tooltipText,\n        color: color,\n      },\n      {\n        label: 'Status',\n        value: data.value.communication_status,\n        type: 'Select',\n        options: communicationStatuses.data?.map((status) => ({\n          label: status.name,\n          value: status.name,\n          onClick: () => {\n            capture('sla_status_change')\n            emit('updateField', 'communication_status', status.name)\n          },\n        })),\n      },\n    ],\n  )\n  return sections\n})\n</script>\n\n<style scoped>\n:deep(.form-control button) {\n  border-color: transparent;\n  background: transparent;\n}\n</style>\n","import { ref, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport { useDebounceFn, useStorage } from '@vueuse/core'\n\nexport function useActiveTabManager(tabs, storageKey) {\n  const activeTab = useStorage(storageKey, 'activity')\n  const route = useRoute()\n  const router = useRouter()\n\n  const changeTabTo = (tabName) => {\n    let index = findTabIndex(tabName)\n    if (index == -1) return\n    tabIndex.value = index\n  }\n\n  const preserveLastVisitedTab = useDebounceFn((tabName) => {\n    activeTab.value = tabName.toLowerCase()\n  }, 300)\n\n  function setActiveTabInUrl(tabName) {\n    let hash = '#' + tabName.toLowerCase()\n    if (route.hash === hash) return\n    router.push({ ...route, hash })\n  }\n\n  function getActiveTabFromUrl() {\n    return route.hash.replace('#', '')\n  }\n\n  function findTabIndex(tabName) {\n    return tabs.value?.findIndex(\n      (tabOptions) => tabOptions.name.toLowerCase() === tabName,\n    )\n  }\n\n  function getTabIndex(tabName) {\n    let index = findTabIndex(tabName)\n    return index !== -1 ? index : 0 // Default to the first tab if not found\n  }\n\n  function getActiveTab() {\n    let _activeTab = getActiveTabFromUrl()\n    if (_activeTab) {\n      let index = findTabIndex(_activeTab)\n      if (index !== -1) {\n        preserveLastVisitedTab(_activeTab)\n        return index\n      }\n      return 0\n    }\n\n    let lastVisitedTab = activeTab.value\n    if (lastVisitedTab) {\n      return getTabIndex(lastVisitedTab)\n    }\n\n    return 0 // Default to the first tab if nothing is found\n  }\n\n  const tabIndex = ref(getActiveTab())\n\n  watch(tabIndex, (tabIndexValue) => {\n    let currentTab = tabs.value?.[tabIndexValue].name\n    setActiveTabInUrl(currentTab)\n    preserveLastVisitedTab(currentTab)\n  })\n\n  watch(\n    () => route.hash,\n    (tabValue) => {\n      if (!tabValue) return\n\n      let tabName = tabValue.replace('#', '')\n      let index = findTabIndex(tabName)\n      if (index === -1) index = 0\n\n      let currentTab = tabs.value?.[index].name\n      preserveLastVisitedTab(currentTab)\n      tabIndex.value = index\n    },\n  )\n\n  watch(tabs, () => {\n    tabIndex.value = getActiveTab()\n  })\n\n  return { tabIndex, changeTabTo }\n}\n"],"names":["a","o","e","r","i","n","t","u","f","l","g","p","Z","ee","te","A","O","M","K","ge","T","I","R","d","b","X","v","m","s","W","S","h","U","G","J","y","L","q","Y","D","P","Se","w","c","x","$","Me","Q","k","z","E","_","F","be","V","N","j","B","H","C","props","__props","sizeMap","size","computed","themeMap","theme","progress","isCompleted","_createElementBlock","variant","_createBlock","FeatherIcon","_hoisted_1","showPercentage","_openBlock","_hoisted_3","_toDisplayString","step","_sfc_render","_ctx","_cache","_createElementVNode","router","useRouter","slots","useSlots","dropdownTransition","groups","_a","group","filterOptions","popoverPlacement","normalizeDropdownItem","option","onClick","options","_unref","Menu","_withCtx","open","_createVNode","Popover","togglePopover","MenuButton","$slots","_renderSlot","_normalizeProps","_mergeProps","MenuItems","_Fragment","_renderList","item","MenuItem","active","_resolveDynamicComponent","_normalizeClass","_hoisted_4","showDropdown","ref","activeButton","_b","parsedOptions","DropdownOption","_component_Button","$attrs","_component_Dropdown","makeCall","globalStore","tabIndex","_useModel","showWhatsappTemplates","showFilesUploader","defaultActions","Email2Icon","CommentIcon","PhoneIcon","callEnabled","NoteIcon","TaskIcon","AttachmentIcon","WhatsAppIcon","getTabIndex","whatsappEnabled","action","name","tab","callActions","_hoisted_2","__","$event","MultiActionButton","Dropdown","types","__classPrivateFieldGet","this","receiver","state","kind","_Mime_extensionToType","_Mime_typeToExtension","_Mime_typeToExtensions","Mime","args","arg","typeMap","force","type","extensions","ext","allExtensions","first","extension","starred","currentType","path","last","hasPath","mime","standardTypes","otherTypes","showDialog","mimeType","isImage","isPdf","isSpreadsheet","isText","isShowable","content","getIcon","FileTypeIcon","FileImageIcon","FileTextIcon","FileSpreadsheetIcon","FileIcon","toggleDialog","res","_component_Dialog","css","__vite_glob_0_0","iframeRef","_content","doc","gmailReplyToContent","outlookReplyToContent","replyToContent","parseReplyToContent","selector","forGmail","handleAllInstances","replyToContentElements","replyToContentElement","replaceReplyToContent","randomId","wrapper","collapseLabel","collapseInput","prevSibling","cloned","allSiblings","replyToContentIndex","followingSiblings","clonedFollowingSiblings","sibling","div","htmlContent","watch","iframe","emailContent","parent","replyCollapsers","replyCollapser","reply","email","reply_all","editor","message","recipients","cc","bcc","repliedMessage","status","_status","indicator_color","Badge","_hoisted_5","Tooltip","formatDate","_hoisted_6","timeAgo","_hoisted_7","ReplyIcon","ReplyAllIcon","_hoisted_8","_hoisted_9","_hoisted_11","_hoisted_12","_hoisted_14","_hoisted_15","EmailContent","_hoisted_16","AttachmentItem","UserAvatar","_hoisted_10","_component_FeatherIcon","audio","isPaused","duration","currentTime","currentVolumn","volumnProgress","setupDuration","updateCurrentTime","playPause","formatTime","time","minutes","seconds","updateVolumnProgress","value","showPlaybackSpeed","currentPlaybackSpeed","playbackSpeedOptions","speed","label","PlaybackSpeedOption","_options","PlaybackSpeedIcon","PlayIcon","PauseIcon","_normalizeStyle","MuteIcon","VolumnLowIcon","VolumnHighIcon","callLog","createResource","showCallLogDetailModal","showCallLogModal","Avatar","MultipleAvatar","CalendarIcon","DurationIcon","statusLabelMap","statusColorMap","AudioPlayer","CallLogDetailModal","CallLogModal","notes","getUser","usersStore","deleteNote","call","TextEditor","$dialog","task","_createTextVNode","DotIcon","TaskPriorityIcon","taskStatusOptions","TaskStatusIcon","close","_hoisted_13","emit","__emit","openFile","attachment","togglePrivate","fileName","isPrivate","changeTo","title","deleteAttachment","fileIcon","audioExtentions","videoExtentions","FileAudioIcon","FileVideoIcon","_withModifiers","show","_doctype","loading","dirty","preview","getParams","tabs","data","onMounted","useDebounceFn","reload","nextTick","saveChanges","_tabs","section","column","field","capture","Dialog","FieldLayout","FieldLayoutEditor","isManager","instance","getCurrentInstance","attrs","showDataFieldsModal","document","useDocument","updatedDoc","oldDoc","changes","acc","key","newValue","oldValue","isDirty","isMobileView","EditIcon","LoadingIndicator","DataFieldsModal","list","openFileInAnotherTab","url","formatWhatsAppMessage","emoji","reaction","reactOnMessage","replyMode","messageOptions","scrollToMessage","element","whatsapp","_hoisted_17","_hoisted_20","DocumentIcon","_hoisted_21","_hoisted_23","_hoisted_26","_hoisted_27","_hoisted_28","CheckIcon","DoubleCheckIcon","_hoisted_29","IconPicker","ReactIcon","rows","textareaRef","placeholder","fileType","uploadFile","file","sendWhatsAppMessage","sendTextMessage","event","uploadOptions","openFileSelector","__expose","FileUploader","$refs","SmileIcon","Textarea","_withKeys","values","emails","search","error","info","query","text","showOptions","selectedValue","val","addValue","watchDebounced","allData","fullName","searchedContacts","removeValue","removeLastValue","emailRef","setFocus","Combobox","ComboboxInput","isOpen","ComboboxOptions","ComboboxOption","_component_ErrorMessage","searchInput","templates","createListResource","filteredTemplates","template","_component_TextInput","showSettings","activeSettingsPage","CustomParagraph","Paragraph","attributes","modelValue","attachments","textEditor","subject","toEmails","ccEmails","bccEmails","ccInput","bccInput","removeAttachment","showEmailTemplateSelectorModal","applyEmailTemplate","appendEmoji","toggleCC","toggleBCC","textEditorMenuButtons","MultiSelectEmailInput","validateEmail","EditorContent","TextEditorBubbleMenu","EmailTemplateIcon","EmailTemplateSelectorModal","usersList","users","user","updateOnboardingStep","useOnboarding","showEmailBox","showCommentBox","newEmail","useStorage","newComment","newEmailEditor","newCommentEditor","sendEmailRef","prefix","signature","setSignature","commentEmpty","emailEmpty","sendMail","sendComment","comment","deleteAttachedFiles","deletePromises","submitEmail","submitComment","toggleEmailBox","toggleCommentBox","EmailEditor","CommentBox","newWhatsappTemplate","activities","showTaskModal","showTask","deleteTask","updateTaskStatus","showNoteModal","note","showNote","referenceDoc","createCallLog","doctype","docname","route","useRoute","redirect","tabName","hash","TaskModal","NoteModal","files","fileInput","isDragging","showWebLink","showFileBrowser","showCamera","webLink","cameraImage","allowMultiple","disableFileBrowser","allowWebLink","allowTakePhoto","restrictions","makeAttachmentsPublic","dragover","dragleave","dropfiles","addFiles","browseFiles","onFileInput","video","facingMode","stream","startCamera","stopStream","track","switchCamera","canvas","captureImage","width","height","uploadViaCamera","filename","urlToFile","mime_type","buffer","fileArray","_files","checkRestrictions","sizeKb","maxNumberOfFiles","showMaxFilesNumberWarning","maxFileSize","allowedFileTypes","isCorrectType","validFileSize","toast","removeFile","onUnmounted","_vShow","_withDirectives","_hoisted_19","convertSize","FormControl","CircularProgressBar","FilesUploadHandler","handler","resolve","reject","xhr","out","formData","filesUploaderArea","isAllPrivate","setAllPrivate","setAllPublic","removeAllFiles","disableAttachButton","attachFiles","uploadViaWebLink","attachFile","fileUrl","uploader","fileUploadStarted","errorMessage","FilesUploaderArea","_c","_d","_e","_f","_g","_h","_i","_j","$socket","_document","reload_email","modalRef","changeTabTo","tabNames","index","all_activities","versions","calls","tasks","scroll","whatsappMessages","sortByCreation","onBeforeUnmount","sendTemplate","replyMessage","get_activities","_activities","activity","sortByModified","timelineIcon","update_activities_details","other_version","emptyText","emptyTextIcon","icon","ActivityIcon","DetailsIcon","activity_type","is_lead","LeadsIcon","DealsIcon","InboundCallIcon","OutboundCallIcon","markRaw","emailBox","whatsappBox","reload_value","reload_email_value","el","useElementVisibility","ActivityHeader","FadedScrollableDiv","WhatsAppArea","NoteArea","CommentArea","TaskArea","MissedCallIcon","DeclinedCallIcon","CallArea","AttachmentArea","EmailArea","_hoisted_18","_hoisted_22","_hoisted_24","_hoisted_25","Button","SelectIcon","_hoisted_30","_hoisted_32","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","_hoisted_44","_hoisted_45","_hoisted_46","startCase","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","DataFields","_hoisted_58","CommunicationArea","WhatsAppBox","WhatsappTemplateSelectorModal","AllModals","FilesUploader","assignees","oldAssignees","assignToMe","assignee","obj","updateAssignees","removedAssignees","addedAssignees","addAssignees","removeAssignees","Link","Switch","ownerField","saveAssignees","nextAssignee","owner","AssignToBody","communicationStatuses","statusesStore","slaSection","sections","tooltipText","color","responseType","_component_Badge","useActiveTabManager","storageKey","activeTab","findTabIndex","preserveLastVisitedTab","setActiveTabInUrl","getActiveTabFromUrl","tabOptions","getActiveTab","_activeTab","lastVisitedTab","tabIndexValue","currentTab","tabValue"],"mappings":"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","x_google_ignoreList":[0,1,2,3,12,13,14,15]}